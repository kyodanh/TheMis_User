<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="15">
  <HTTPTask id="54" hostname="themis.test.xplat.fpt.com.vn" path="/dang-xuat" url="https://themis.test.xplat.fpt.com.vn/dang-xuat" ip="10.14.98.2" port="443" client_ip="10.86.158.81" client_port="2480" connectionId="2488" origin="Primary" encodingType="ANSI" startDateTime="2021-03-24T16:19:18.410+07:00" startTime="246185" endTime="246215" blockedTime="0" dnsTime="0" connectTime="0" sendTime="0" waitTime="0" receiveTime="0" sslNegotiateTime="0" responseBodySize="0">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Referer" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZG9jdW1lbnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmF2aWdhdGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2FtZS1vcmlnaW4=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-User" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzE=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9Ijg5IiwgIkNocm9taXVtIjt2PSI4OSIsICI7Tm90IEEgQnJhbmQiO3Y9Ijk5Ig==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="sec-ch-ua-mobile" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PzA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Requested-With" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>WE1MSHR0cFJlcXVlc3Q=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Origin" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZu</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS45MCBTYWZhcmkvNTM3LjM2</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>dGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="16">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YWRmcz0xOyBzc3RrPWU1OTc3NjFiLTI2MjctNDE0NC1iZjE0LWRhZDNiODQzNmZkMi0xNjE2NTc2ODgzNTkxOyA5MjEwMDNmMTQyZTdjZmM0MmZkMTA2MzUwYjViM2Q5ZT02ZWY1YThmNDQ4NWQyYTE3ZTgxMTk4Yzg3NzYwMjczMzsgX2Zpcm9fY3Jmcz0xU2VMemVzV3JYdmlVZENYOVRjdkZKMGtoMXRnUEh6RE1leUlkVFZZUjJNOEVQM1k4Mzk2X0ZReVZKTnZzWjF4RUU4PQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9kYW5nLXh1YXQgSFRUUC8xLjENClJlZmVyZXI6IGh0dHBzOi8vdGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bi8NClNlYy1GZXRjaC1EZXN0OiBkb2N1bWVudA0KU2VjLUZldGNoLU1vZGU6IG5hdmlnYXRlDQpTZWMtRmV0Y2gtU2l0ZTogc2FtZS1vcmlnaW4NClNlYy1GZXRjaC1Vc2VyOiA/MQ0KVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0czogMQ0Kc2VjLWNoLXVhOiAiR29vZ2xlIENocm9tZSI7dj0iODkiLCAiQ2hyb21pdW0iO3Y9Ijg5IiwgIjtOb3QgQSBCcmFuZCI7dj0iOTkiDQpzZWMtY2gtdWEtbW9iaWxlOiA/MA0KWC1SZXF1ZXN0ZWQtV2l0aDogWE1MSHR0cFJlcXVlc3QNCk9yaWdpbjogaHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODkuMC40Mzg5LjkwIFNhZmFyaS81MzcuMzYNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOQ0KQWNjZXB0OiAqLyoNCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkhvc3Q6IHRoZW1pcy50ZXN0LnhwbGF0LmZwdC5jb20udm4NCkNvb2tpZTogYWRmcz0xOyBzc3RrPWU1OTc3NjFiLTI2MjctNDE0NC1iZjE0LWRhZDNiODQzNmZkMi0xNjE2NTc2ODgzNTkxOyA5MjEwMDNmMTQyZTdjZmM0MmZkMTA2MzUwYjViM2Q5ZT02ZWY1YThmNDQ4NWQyYTE3ZTgxMTk4Yzg3NzYwMjczMzsgX2Zpcm9fY3Jmcz0xU2VMemVzV3JYdmlVZENYOVRjdkZKMGtoMXRnUEh6RE1leUlkVFZZUjJNOEVQM1k4Mzk2X0ZReVZKTnZzWjF4RUU4PQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="adfs" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sstk" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZTU5Nzc2MWItMjYyNy00MTQ0LWJmMTQtZGFkM2I4NDM2ZmQyLTE2MTY1NzY4ODM1OTE=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="921003f142e7cfc42fd106350b5b3d9e" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NmVmNWE4ZjQ0ODVkMmExN2U4MTE5OGM4Nzc2MDI3MzM=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="_firo_crfs" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MVNlTHplc1dyWHZpVWRDWDlUY3ZGSjBraDF0Z1BIekRNZXlJZFRWWVIyTThFUDNZODM5Nl9GUXlWSk52c1oxeEVFOD0=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>0</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Date" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNCBNYXIgMjAyMSAwOToxOToxOSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Location" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMzAyIEZvdW5kDQpEYXRlOiBXZWQsIDI0IE1hciAyMDIxIDA5OjE5OjE5IEdNVA0KTG9jYXRpb246IGh0dHBzOi8vdGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bi8NCkNvbnRlbnQtTGVuZ3RoOiAwDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPResponse>
    <HTTPTask id="55" hostname="themis.test.xplat.fpt.com.vn" path="/" url="https://themis.test.xplat.fpt.com.vn/" ip="10.14.98.2" port="443" client_ip="10.86.158.81" client_port="2481" connectionId="2524" origin="Redirection" encodingType="ANSI" startDateTime="2021-03-24T16:19:18.441+07:00" startTime="246216" endTime="246348" blockedTime="0" dnsTime="0" connectTime="0" sendTime="0" waitTime="0" receiveTime="0" sslNegotiateTime="0" responseBodySize="0">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Referer" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Dest" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZG9jdW1lbnQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Mode" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bmF2aWdhdGU=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Site" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>c2FtZS1vcmlnaW4=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-User" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>PzE=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9Ijg5IiwgIkNocm9taXVtIjt2PSI4OSIsICI7Tm90IEEgQnJhbmQiO3Y9Ijk5Ig==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="sec-ch-ua-mobile" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>PzA=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-Requested-With" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>WE1MSHR0cFJlcXVlc3Q=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Origin" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZu</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS45MCBTYWZhcmkvNTM3LjM2</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="11">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="12">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="13">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ki8q</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="14">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Host" index="15">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cookie" index="16">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YWRmcz0xOyBzc3RrPWU1OTc3NjFiLTI2MjctNDE0NC1iZjE0LWRhZDNiODQzNmZkMi0xNjE2NTc2ODgzNTkxOyA5MjEwMDNmMTQyZTdjZmM0MmZkMTA2MzUwYjViM2Q5ZT02ZWY1YThmNDQ4NWQyYTE3ZTgxMTk4Yzg3NzYwMjczMzsgX2Zpcm9fY3Jmcz0xU2VMemVzV3JYdmlVZENYOVRjdkZKMGtoMXRnUEh6RE1leUlkVFZZUjJNOEVQM1k4Mzk2X0ZReVZKTnZzWjF4RUU4PQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC8gSFRUUC8xLjENClJlZmVyZXI6IGh0dHBzOi8vdGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bi8NClNlYy1GZXRjaC1EZXN0OiBkb2N1bWVudA0KU2VjLUZldGNoLU1vZGU6IG5hdmlnYXRlDQpTZWMtRmV0Y2gtU2l0ZTogc2FtZS1vcmlnaW4NClNlYy1GZXRjaC1Vc2VyOiA/MQ0KVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0czogMQ0Kc2VjLWNoLXVhOiAiR29vZ2xlIENocm9tZSI7dj0iODkiLCAiQ2hyb21pdW0iO3Y9Ijg5IiwgIjtOb3QgQSBCcmFuZCI7dj0iOTkiDQpzZWMtY2gtdWEtbW9iaWxlOiA/MA0KWC1SZXF1ZXN0ZWQtV2l0aDogWE1MSHR0cFJlcXVlc3QNCk9yaWdpbjogaHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODkuMC40Mzg5LjkwIFNhZmFyaS81MzcuMzYNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOQ0KQWNjZXB0OiAqLyoNCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkhvc3Q6IHRoZW1pcy50ZXN0LnhwbGF0LmZwdC5jb20udm4NCkNvb2tpZTogYWRmcz0xOyBzc3RrPWU1OTc3NjFiLTI2MjctNDE0NC1iZjE0LWRhZDNiODQzNmZkMi0xNjE2NTc2ODgzNTkxOyA5MjEwMDNmMTQyZTdjZmM0MmZkMTA2MzUwYjViM2Q5ZT02ZWY1YThmNDQ4NWQyYTE3ZTgxMTk4Yzg3NzYwMjczMzsgX2Zpcm9fY3Jmcz0xU2VMemVzV3JYdmlVZENYOVRjdkZKMGtoMXRnUEh6RE1leUlkVFZZUjJNOEVQM1k4Mzk2X0ZReVZKTnZzWjF4RUU4PQ0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name="adfs" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="sstk" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZTU5Nzc2MWItMjYyNy00MTQ0LWJmMTQtZGFkM2I4NDM2ZmQyLTE2MTY1NzY4ODM1OTE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="921003f142e7cfc42fd106350b5b3d9e" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>NmVmNWE4ZjQ0ODVkMmExN2U4MTE5OGM4Nzc2MDI3MzM=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="_firo_crfs" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MVNlTHplc1dyWHZpVWRDWDlUY3ZGSjBraDF0Z1BIekRNZXlJZFRWWVIyTThFUDNZODM5Nl9GUXlWSk52c1oxeEVFOD0=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <contentLenght>0</contentLenght>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>V2VkLCAyNCBNYXIgMjAyMSAwOToxOToyMCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="x-frame-options" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>REVOWQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-XSS-Protection" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTsgbW9kZT1ibG9jaw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>dGV4dC9odG1sO2NoYXJzZXQ9dXRmLTg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Transfer-Encoding" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Y2h1bmtlZA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBXZWQsIDI0IE1hciAyMDIxIDA5OjE5OjIwIEdNVA0KeC1mcmFtZS1vcHRpb25zOiBERU5ZDQpYLVhTUy1Qcm90ZWN0aW9uOiAxOyBtb2RlPWJsb2NrDQpDb250ZW50LVR5cGU6IHRleHQvaHRtbDtjaGFyc2V0PXV0Zi04DQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>PCFET0NUWVBFIGh0bWw+CjxodG1sPgogICAgPGhlYWQ+CiAgICAgICAgPHNjcmlwdCBzcmM9Ii9hc3NldHMvanMvanF1ZXJ5LXYzLjUuMS5qcyI+PC9zY3JpcHQ+CiAgICAgICAgPHNjcmlwdCBzcmM9Ii9hc3NldHMvanMvdXNlci5qcyI+PC9zY3JpcHQ+CiAgICAgICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgoKICAgICAgICA8bGluayByZWw9Imljb24iIGhyZWY9Ii9hc3NldHMvbmV3L2ltYWdlL2hlYWQtbGVmdC5qcGciIHR5cGU9ImltYWdlL3gtaWNvbiI+CiAgICAgICAgPHRpdGxlPgogICAgICAgICAgICDEkMSDbmcgbmjhuq1wCiAgICAgICAgPC90aXRsZT4KICAgIDwvaGVhZD4KICAgIDxib2R5IHN0eWxlPSJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvbmV3L2ltYWdlL2xvZ2luUGFnZUJhY2tncm91bmQucG5nJyk7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZTpjb3ZlcjsgbWFyZ2luOiAwIj4KICAgICAgICA8aW1nIHNyYz0iL2Fzc2V0cy9uZXcvaW1hZ2UvdG9wQmFubmVyRnB0TG9nby5wbmciIHN0eWxlPSJ3aWR0aDogMjA1cHg7IGhlaWdodDogYXV0bztkaXNwbGF5OiBibG9jazttYXJnaW4tbGVmdDogYXV0bzttYXJnaW4tcmlnaHQ6IGF1dG87IG1hcmdpbi10b3A6MiUiPgogICAgICAgIDxociBzdHlsZT0iYm9yZGVyOiBub25lOyBoZWlnaHQ6IDJweDsgY29sb3I6ICNGRkZGRkY7IGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7IG9wYWNpdHk6IDAuMTttYXJnaW4tbGVmdDogNSU7bWFyZ2luLXJpZ2h0OiA1JTsiPgoKICAgICAgICA8ZGl2IGlkPSJjZW50ZXItZGl2IiBzdHlsZT0ibWFyZ2luLXRvcDo4JTsiPgogICAgICAgICAgICA8aW1nIHNyYz0iL2Fzc2V0cy9uZXcvaW1hZ2UvbG9naW5JY29uLnBuZyIgc3R5bGU9Im1heC1oZWlnaHQ6IDIwMHB4OyBkaXNwbGF5OiBibG9jazttYXJnaW4tbGVmdDogYXV0bzttYXJnaW4tcmlnaHQ6IGF1dG87Ij4KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9ImZwdFVSTCIgdmFsdWU9Imh0dHBzOi8vYWRmcy5mcHQuY29tLnZuL2FkZnMvb2F1dGgyL2F1dGhvcml6ZT9jbGllbnRfaWQ9RklTX1BNX0tob2FuJnJlc3BvbnNlX3R5cGU9Y29kZSZyZXNwb25zZV9tb2RlPWZvcm1fcG9zdCZyZWRpcmVjdF91cmk9aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLyI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSLEkMSDbmcgbmjhuq1wIHTDoGkga2hv4bqjbiIgb25jbGljaz0icmVxdWVzdExvZ2luKCkiIHN0eWxlPSJkaXNwbGF5OiBibG9jazttYXJnaW4tbGVmdDogYXV0bzttYXJnaW4tcmlnaHQ6IGF1dG87bWFyZ2luLXRvcDogNTBweDsgZm9udC1mYW1pbHk6ICdSb2JvdG8nICwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxNnB4OyBjb2xvcjogIzAwMDAwMDsgYmFja2dyb3VuZDogI0ZGRkZGRjsgYm9yZGVyLXJhZGl1czogOXB4OyBib3JkZXI6IG5vbmU7IHdpZHRoOiAzODVweDsgaGVpZ2h0OiA1NnB4OyBmb250LXdlaWdodDogYm9sZDsiLz4gCiAgICAgICAgPC9kaXY+CiAgICA8L2JvZHk+CjwvaHRtbD4g</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
      </HTTPResponse>
      <HTTPTask id="56" hostname="themis.test.xplat.fpt.com.vn" path="/assets/js/jquery-v3.5.1.js" url="https://themis.test.xplat.fpt.com.vn/assets/js/jquery-v3.5.1.js" ip="10.14.98.2" port="443" client_ip="10.86.158.81" client_port="2480" connectionId="2488" origin="HTML" encodingType="ANSI" ordinal="1" startDateTime="2021-03-24T16:19:18.574+07:00" startTime="246348" endTime="247331" blockedTime="0" dnsTime="0" connectTime="0" sendTime="0" waitTime="0" receiveTime="0" sslNegotiateTime="0" responseBodySize="0">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Referer" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLw==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Dest" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZG9jdW1lbnQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Mode" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>bmF2aWdhdGU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Site" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>c2FtZS1vcmlnaW4=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-User" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>PzE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="sec-ch-ua" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9Ijg5IiwgIkNocm9taXVtIjt2PSI4OSIsICI7Tm90IEEgQnJhbmQiO3Y9Ijk5Ig==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="sec-ch-ua-mobile" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>PzA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Requested-With" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>WE1MSHR0cFJlcXVlc3Q=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Origin" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZu</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS45MCBTYWZhcmkvNTM3LjM2</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="11">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="12">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept" index="13">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ki8q</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="14">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="15">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="16">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YWRmcz0xOyBzc3RrPWU1OTc3NjFiLTI2MjctNDE0NC1iZjE0LWRhZDNiODQzNmZkMi0xNjE2NTc2ODgzNTkxOyA5MjEwMDNmMTQyZTdjZmM0MmZkMTA2MzUwYjViM2Q5ZT02ZWY1YThmNDQ4NWQyYTE3ZTgxMTk4Yzg3NzYwMjczMzsgX2Zpcm9fY3Jmcz0xU2VMemVzV3JYdmlVZENYOVRjdkZKMGtoMXRnUEh6RE1leUlkVFZZUjJNOEVQM1k4Mzk2X0ZReVZKTnZzWjF4RUU4PQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9hc3NldHMvanMvanF1ZXJ5LXYzLjUuMS5qcyBIVFRQLzEuMQ0KUmVmZXJlcjogaHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLw0KU2VjLUZldGNoLURlc3Q6IGRvY3VtZW50DQpTZWMtRmV0Y2gtTW9kZTogbmF2aWdhdGUNClNlYy1GZXRjaC1TaXRlOiBzYW1lLW9yaWdpbg0KU2VjLUZldGNoLVVzZXI6ID8xDQpVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzOiAxDQpzZWMtY2gtdWE6ICJHb29nbGUgQ2hyb21lIjt2PSI4OSIsICJDaHJvbWl1bSI7dj0iODkiLCAiO05vdCBBIEJyYW5kIjt2PSI5OSINCnNlYy1jaC11YS1tb2JpbGU6ID8wDQpYLVJlcXVlc3RlZC1XaXRoOiBYTUxIdHRwUmVxdWVzdA0KT3JpZ2luOiBodHRwczovL3RoZW1pcy50ZXN0LnhwbGF0LmZwdC5jb20udm4NClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84OS4wLjQzODkuOTAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC45DQpBY2NlcHQ6ICovKg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KSG9zdDogdGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bg0KQ29va2llOiBhZGZzPTE7IHNzdGs9ZTU5Nzc2MWItMjYyNy00MTQ0LWJmMTQtZGFkM2I4NDM2ZmQyLTE2MTY1NzY4ODM1OTE7IDkyMTAwM2YxNDJlN2NmYzQyZmQxMDYzNTBiNWIzZDllPTZlZjVhOGY0NDg1ZDJhMTdlODExOThjODc3NjAyNzMzOyBfZmlyb19jcmZzPTFTZUx6ZXNXclh2aVVkQ1g5VGN2Rkowa2gxdGdQSHpETWV5SWRUVllSMk04RVAzWTgzOTZfRlF5VkpOdnNaMXhFRTg9DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="adfs" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MQ==</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="sstk" index="1">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>ZTU5Nzc2MWItMjYyNy00MTQ0LWJmMTQtZGFkM2I4NDM2ZmQyLTE2MTY1NzY4ODM1OTE=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="921003f142e7cfc42fd106350b5b3d9e" index="2">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>NmVmNWE4ZjQ0ODVkMmExN2U4MTE5OGM4Nzc2MDI3MzM=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="_firo_crfs" index="3">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MVNlTHplc1dyWHZpVWRDWDlUY3ZGSjBraDF0Z1BIekRNZXlJZFRWWVIyTThFUDNZODM5Nl9GUXlWSk52c1oxeEVFOD0=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <contentLenght>0</contentLenght>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Date" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>V2VkLCAyNCBNYXIgMjAyMSAwOToxOToyMCBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Type" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Transfer-Encoding" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Y2h1bmtlZA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBXZWQsIDI0IE1hciAyMDIxIDA5OjE5OjIwIEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>LyohDQogKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjUuMQ0KICogaHR0cHM6Ly9qcXVlcnkuY29tLw0KICoNCiAqIEluY2x1ZGVzIFNpenpsZS5qcw0KICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vDQogKg0KICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycw0KICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlDQogKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZQ0KICoNCiAqIERhdGU6IDIwMjAtMDUtMDRUMjI6NDlaDQogKi8NCiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHsNCg0KCSJ1c2Ugc3RyaWN0IjsNCg0KCWlmICggdHlwZW9mIG1vZHVsZSA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAib2JqZWN0IiApIHsNCg0KCQkvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgDQoJCS8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuDQoJCS8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgaGF2ZSBhIGB3aW5kb3dgIHdpdGggYSBgZG9jdW1lbnRgDQoJCS8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLg0KCQkvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLg0KCQkvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKCJqcXVlcnkiKSh3aW5kb3cpOw0KCQkvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLg0KCQltb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/DQoJCQlmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6DQoJCQlmdW5jdGlvbiggdyApIHsNCgkJCQlpZiAoICF3LmRvY3VtZW50ICkgew0KCQkJCQl0aHJvdyBuZXcgRXJyb3IoICJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50IiApOw0KCQkJCX0NCgkJCQlyZXR1cm4gZmFjdG9yeSggdyApOw0KCQkJfTsNCgl9IGVsc2Ugew0KCQlmYWN0b3J5KCBnbG9iYWwgKTsNCgl9DQoNCi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0DQp9ICkoIHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7DQoNCi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMQ0KLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlDQovLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vbg0KLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suDQoidXNlIHN0cmljdCI7DQoNCnZhciBhcnIgPSBbXTsNCg0KdmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mOw0KDQp2YXIgc2xpY2UgPSBhcnIuc2xpY2U7DQoNCnZhciBmbGF0ID0gYXJyLmZsYXQgPyBmdW5jdGlvbiggYXJyYXkgKSB7DQoJcmV0dXJuIGFyci5mbGF0LmNhbGwoIGFycmF5ICk7DQp9IDogZnVuY3Rpb24oIGFycmF5ICkgew0KCXJldHVybiBhcnIuY29uY2F0LmFwcGx5KCBbXSwgYXJyYXkgKTsNCn07DQoNCg0KdmFyIHB1c2ggPSBhcnIucHVzaDsNCg0KdmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjsNCg0KdmFyIGNsYXNzMnR5cGUgPSB7fTsNCg0KdmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZzsNCg0KdmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7DQoNCnZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nOw0KDQp2YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApOw0KDQp2YXIgc3VwcG9ydCA9IHt9Ow0KDQp2YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24oIG9iaiApIHsNCg0KICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9NTcsIEZpcmVmb3ggPD01Mg0KICAgICAgLy8gSW4gc29tZSBicm93c2VycywgdHlwZW9mIHJldHVybnMgImZ1bmN0aW9uIiBmb3IgSFRNTCA8b2JqZWN0PiBlbGVtZW50cw0KICAgICAgLy8gKGkuZS4sIGB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggIm9iamVjdCIgKSA9PT0gImZ1bmN0aW9uImApLg0KICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBjbGFzc2lmeSAqYW55KiBET00gbm9kZSBhcyBhIGZ1bmN0aW9uLg0KICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIG9iai5ub2RlVHlwZSAhPT0gIm51bWJlciI7DQogIH07DQoNCg0KdmFyIGlzV2luZG93ID0gZnVuY3Rpb24gaXNXaW5kb3coIG9iaiApIHsNCgkJcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdzsNCgl9Ow0KDQoNCnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDsNCg0KDQoNCgl2YXIgcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyA9IHsNCgkJdHlwZTogdHJ1ZSwNCgkJc3JjOiB0cnVlLA0KCQlub25jZTogdHJ1ZSwNCgkJbm9Nb2R1bGU6IHRydWUNCgl9Ow0KDQoJZnVuY3Rpb24gRE9NRXZhbCggY29kZSwgbm9kZSwgZG9jICkgew0KCQlkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7DQoNCgkJdmFyIGksIHZhbCwNCgkJCXNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCAic2NyaXB0IiApOw0KDQoJCXNjcmlwdC50ZXh0ID0gY29kZTsNCgkJaWYgKCBub2RlICkgew0KCQkJZm9yICggaSBpbiBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzICkgew0KDQoJCQkJLy8gU3VwcG9ydDogRmlyZWZveCA2NCssIEVkZ2UgMTgrDQoJCQkJLy8gU29tZSBicm93c2VycyBkb24ndCBzdXBwb3J0IHRoZSAibm9uY2UiIHByb3BlcnR5IG9uIHNjcmlwdHMuDQoJCQkJLy8gT24gdGhlIG90aGVyIGhhbmQsIGp1c3QgdXNpbmcgYGdldEF0dHJpYnV0ZWAgaXMgbm90IGVub3VnaCBhcw0KCQkJCS8vIHRoZSBgbm9uY2VgIGF0dHJpYnV0ZSBpcyByZXNldCB0byBhbiBlbXB0eSBzdHJpbmcgd2hlbmV2ZXIgaXQNCgkJCQkvLyBiZWNvbWVzIGJyb3dzaW5nLWNvbnRleHQgY29ubmVjdGVkLg0KCQkJCS8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL2h0bWwvaXNzdWVzLzIzNjkNCgkJCQkvLyBTZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jbm9uY2UtYXR0cmlidXRlcw0KCQkJCS8vIFRoZSBgbm9kZS5nZXRBdHRyaWJ1dGVgIGNoZWNrIHdhcyBhZGRlZCBmb3IgdGhlIHNha2Ugb2YNCgkJCQkvLyBgalF1ZXJ5Lmdsb2JhbEV2YWxgIHNvIHRoYXQgaXQgY2FuIGZha2UgYSBub25jZS1jb250YWluaW5nIG5vZGUNCgkJCQkvLyB2aWEgYW4gb2JqZWN0Lg0KCQkJCXZhbCA9IG5vZGVbIGkgXSB8fCBub2RlLmdldEF0dHJpYnV0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZSggaSApOw0KCQkJCWlmICggdmFsICkgew0KCQkJCQlzY3JpcHQuc2V0QXR0cmlidXRlKCBpLCB2YWwgKTsNCgkJCQl9DQoJCQl9DQoJCX0NCgkJZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApOw0KCX0NCg0KDQpmdW5jdGlvbiB0b1R5cGUoIG9iaiApIHsNCglpZiAoIG9iaiA9PSBudWxsICkgew0KCQlyZXR1cm4gb2JqICsgIiI7DQoJfQ0KDQoJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApDQoJcmV0dXJuIHR5cGVvZiBvYmogPT09ICJvYmplY3QiIHx8IHR5cGVvZiBvYmogPT09ICJmdW5jdGlvbiIgPw0KCQljbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8ICJvYmplY3QiIDoNCgkJdHlwZW9mIG9iajsNCn0NCi8qIGdsb2JhbCBTeW1ib2wgKi8NCi8vIERlZmluaW5nIHRoaXMgZ2xvYmFsIGluIC5lc2xpbnRyYy5qc29uIHdvdWxkIGNyZWF0ZSBhIGRhbmdlciBvZiB1c2luZyB0aGUgZ2xvYmFsDQovLyB1bmd1YXJkZWQgaW4gYW5vdGhlciBwbGFjZSwgaXQgc2VlbXMgc2FmZXIgdG8gZGVmaW5lIGdsb2JhbCBvbmx5IGZvciB0aGlzIG1vZHVsZQ0KDQoNCg0KdmFyDQoJdmVyc2lvbiA9ICIzLjUuMSIsDQoNCgkvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeQ0KCWpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHsNCg0KCQkvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCcNCgkJLy8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZCkNCgkJcmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTsNCgl9Ow0KDQpqUXVlcnkuZm4gPSBqUXVlcnkucHJvdG90eXBlID0gew0KDQoJLy8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVpbmcgdXNlZA0KCWpxdWVyeTogdmVyc2lvbiwNCg0KCWNvbnN0cnVjdG9yOiBqUXVlcnksDQoNCgkvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDANCglsZW5ndGg6IDAsDQoNCgl0b0FycmF5OiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTsNCgl9LA0KDQoJLy8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUg0KCS8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5DQoJZ2V0OiBmdW5jdGlvbiggbnVtICkgew0KDQoJCS8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXkNCgkJaWYgKCBudW0gPT0gbnVsbCApIHsNCgkJCXJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7DQoJCX0NCg0KCQkvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0DQoJCXJldHVybiBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdOw0KCX0sDQoNCgkvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrDQoJLy8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpDQoJcHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7DQoNCgkJLy8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXQNCgkJdmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApOw0KDQoJCS8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpDQoJCXJldC5wcmV2T2JqZWN0ID0gdGhpczsNCg0KCQkvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldA0KCQlyZXR1cm4gcmV0Ow0KCX0sDQoNCgkvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0Lg0KCWVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHsNCgkJcmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjayApOw0KCX0sDQoNCgltYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHsNCgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHsNCgkJCXJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7DQoJCX0gKSApOw0KCX0sDQoNCglzbGljZTogZnVuY3Rpb24oKSB7DQoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7DQoJfSwNCg0KCWZpcnN0OiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIHRoaXMuZXEoIDAgKTsNCgl9LA0KDQoJbGFzdDogZnVuY3Rpb24oKSB7DQoJCXJldHVybiB0aGlzLmVxKCAtMSApOw0KCX0sDQoNCglldmVuOiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkuZ3JlcCggdGhpcywgZnVuY3Rpb24oIF9lbGVtLCBpICkgew0KCQkJcmV0dXJuICggaSArIDEgKSAlIDI7DQoJCX0gKSApOw0KCX0sDQoNCglvZGQ6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5ncmVwKCB0aGlzLCBmdW5jdGlvbiggX2VsZW0sIGkgKSB7DQoJCQlyZXR1cm4gaSAlIDI7DQoJCX0gKSApOw0KCX0sDQoNCgllcTogZnVuY3Rpb24oIGkgKSB7DQoJCXZhciBsZW4gPSB0aGlzLmxlbmd0aCwNCgkJCWogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7DQoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYmIGogPCBsZW4gPyBbIHRoaXNbIGogXSBdIDogW10gKTsNCgl9LA0KDQoJZW5kOiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7DQoJfSwNCg0KCS8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS4NCgkvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC4NCglwdXNoOiBwdXNoLA0KCXNvcnQ6IGFyci5zb3J0LA0KCXNwbGljZTogYXJyLnNwbGljZQ0KfTsNCg0KalF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHsNCgl2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsDQoJCXRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LA0KCQlpID0gMSwNCgkJbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwNCgkJZGVlcCA9IGZhbHNlOw0KDQoJLy8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvbg0KCWlmICggdHlwZW9mIHRhcmdldCA9PT0gImJvb2xlYW4iICkgew0KCQlkZWVwID0gdGFyZ2V0Ow0KDQoJCS8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXQNCgkJdGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307DQoJCWkrKzsNCgl9DQoNCgkvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSkNCglpZiAoIHR5cGVvZiB0YXJnZXQgIT09ICJvYmplY3QiICYmICFpc0Z1bmN0aW9uKCB0YXJnZXQgKSApIHsNCgkJdGFyZ2V0ID0ge307DQoJfQ0KDQoJLy8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkDQoJaWYgKCBpID09PSBsZW5ndGggKSB7DQoJCXRhcmdldCA9IHRoaXM7DQoJCWktLTsNCgl9DQoNCglmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHsNCg0KCQkvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzDQoJCWlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkgew0KDQoJCQkvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0DQoJCQlmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7DQoJCQkJY29weSA9IG9wdGlvbnNbIG5hbWUgXTsNCg0KCQkJCS8vIFByZXZlbnQgT2JqZWN0LnByb3RvdHlwZSBwb2xsdXRpb24NCgkJCQkvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wDQoJCQkJaWYgKCBuYW1lID09PSAiX19wcm90b19fIiB8fCB0YXJnZXQgPT09IGNvcHkgKSB7DQoJCQkJCWNvbnRpbnVlOw0KCQkJCX0NCg0KCQkJCS8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5cw0KCQkJCWlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvcHkgKSB8fA0KCQkJCQkoIGNvcHlJc0FycmF5ID0gQXJyYXkuaXNBcnJheSggY29weSApICkgKSApIHsNCgkJCQkJc3JjID0gdGFyZ2V0WyBuYW1lIF07DQoNCgkJCQkJLy8gRW5zdXJlIHByb3BlciB0eXBlIGZvciB0aGUgc291cmNlIHZhbHVlDQoJCQkJCWlmICggY29weUlzQXJyYXkgJiYgIUFycmF5LmlzQXJyYXkoIHNyYyApICkgew0KCQkJCQkJY2xvbmUgPSBbXTsNCgkJCQkJfSBlbHNlIGlmICggIWNvcHlJc0FycmF5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgKSB7DQoJCQkJCQljbG9uZSA9IHt9Ow0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJY2xvbmUgPSBzcmM7DQoJCQkJCX0NCgkJCQkJY29weUlzQXJyYXkgPSBmYWxzZTsNCg0KCQkJCQkvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW0NCgkJCQkJdGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApOw0KDQoJCQkJLy8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlcw0KCQkJCX0gZWxzZSBpZiAoIGNvcHkgIT09IHVuZGVmaW5lZCApIHsNCgkJCQkJdGFyZ2V0WyBuYW1lIF0gPSBjb3B5Ow0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCg0KCS8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0DQoJcmV0dXJuIHRhcmdldDsNCn07DQoNCmpRdWVyeS5leHRlbmQoIHsNCg0KCS8vIFVuaXF1ZSBmb3IgZWFjaCBjb3B5IG9mIGpRdWVyeSBvbiB0aGUgcGFnZQ0KCWV4cGFuZG86ICJqUXVlcnkiICsgKCB2ZXJzaW9uICsgTWF0aC5yYW5kb20oKSApLnJlcGxhY2UoIC9cRC9nLCAiIiApLA0KDQoJLy8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGUNCglpc1JlYWR5OiB0cnVlLA0KDQoJZXJyb3I6IGZ1bmN0aW9uKCBtc2cgKSB7DQoJCXRocm93IG5ldyBFcnJvciggbXNnICk7DQoJfSwNCg0KCW5vb3A6IGZ1bmN0aW9uKCkge30sDQoNCglpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkgew0KCQl2YXIgcHJvdG8sIEN0b3I7DQoNCgkJLy8gRGV0ZWN0IG9idmlvdXMgbmVnYXRpdmVzDQoJCS8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0cw0KCQlpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09ICJbb2JqZWN0IE9iamVjdF0iICkgew0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9DQoNCgkJcHJvdG8gPSBnZXRQcm90byggb2JqICk7DQoNCgkJLy8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpbg0KCQlpZiAoICFwcm90byApIHsNCgkJCXJldHVybiB0cnVlOw0KCQl9DQoNCgkJLy8gT2JqZWN0cyB3aXRoIHByb3RvdHlwZSBhcmUgcGxhaW4gaWZmIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZCBieSBhIGdsb2JhbCBPYmplY3QgZnVuY3Rpb24NCgkJQ3RvciA9IGhhc093bi5jYWxsKCBwcm90bywgImNvbnN0cnVjdG9yIiApICYmIHByb3RvLmNvbnN0cnVjdG9yOw0KCQlyZXR1cm4gdHlwZW9mIEN0b3IgPT09ICJmdW5jdGlvbiIgJiYgZm5Ub1N0cmluZy5jYWxsKCBDdG9yICkgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nOw0KCX0sDQoNCglpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkgew0KCQl2YXIgbmFtZTsNCg0KCQlmb3IgKCBuYW1lIGluIG9iaiApIHsNCgkJCXJldHVybiBmYWxzZTsNCgkJfQ0KCQlyZXR1cm4gdHJ1ZTsNCgl9LA0KDQoJLy8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgcHJvdmlkZWQgY29udGV4dDsgZmFsbHMgYmFjayB0byB0aGUgZ2xvYmFsIG9uZQ0KCS8vIGlmIG5vdCBzcGVjaWZpZWQuDQoJZ2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUsIG9wdGlvbnMsIGRvYyApIHsNCgkJRE9NRXZhbCggY29kZSwgeyBub25jZTogb3B0aW9ucyAmJiBvcHRpb25zLm5vbmNlIH0sIGRvYyApOw0KCX0sDQoNCgllYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHsNCgkJdmFyIGxlbmd0aCwgaSA9IDA7DQoNCgkJaWYgKCBpc0FycmF5TGlrZSggb2JqICkgKSB7DQoJCQlsZW5ndGggPSBvYmoubGVuZ3RoOw0KCQkJZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7DQoJCQkJaWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7DQoJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCX0NCgkJfSBlbHNlIHsNCgkJCWZvciAoIGkgaW4gb2JqICkgew0KCQkJCWlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkgew0KCQkJCQlicmVhazsNCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQlyZXR1cm4gb2JqOw0KCX0sDQoNCgkvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5DQoJbWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkgew0KCQl2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTsNCg0KCQlpZiAoIGFyciAhPSBudWxsICkgew0KCQkJaWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkgew0KCQkJCWpRdWVyeS5tZXJnZSggcmV0LA0KCQkJCQl0eXBlb2YgYXJyID09PSAic3RyaW5nIiA/DQoJCQkJCVsgYXJyIF0gOiBhcnINCgkJCQkpOw0KCQkJfSBlbHNlIHsNCgkJCQlwdXNoLmNhbGwoIHJldCwgYXJyICk7DQoJCQl9DQoJCX0NCg0KCQlyZXR1cm4gcmV0Ow0KCX0sDQoNCglpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkgew0KCQlyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7DQoJfSwNCg0KCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seQ0KCS8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXQNCgltZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7DQoJCXZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCwNCgkJCWogPSAwLA0KCQkJaSA9IGZpcnN0Lmxlbmd0aDsNCg0KCQlmb3IgKCA7IGogPCBsZW47IGorKyApIHsNCgkJCWZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdOw0KCQl9DQoNCgkJZmlyc3QubGVuZ3RoID0gaTsNCg0KCQlyZXR1cm4gZmlyc3Q7DQoJfSwNCg0KCWdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHsNCgkJdmFyIGNhbGxiYWNrSW52ZXJzZSwNCgkJCW1hdGNoZXMgPSBbXSwNCgkJCWkgPSAwLA0KCQkJbGVuZ3RoID0gZWxlbXMubGVuZ3RoLA0KCQkJY2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0Ow0KDQoJCS8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXMNCgkJLy8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb24NCgkJZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7DQoJCQljYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTsNCgkJCWlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHsNCgkJCQltYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTsNCgkJCX0NCgkJfQ0KDQoJCXJldHVybiBtYXRjaGVzOw0KCX0sDQoNCgkvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHkNCgltYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHsNCgkJdmFyIGxlbmd0aCwgdmFsdWUsDQoJCQlpID0gMCwNCgkJCXJldCA9IFtdOw0KDQoJCS8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzDQoJCWlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7DQoJCQlsZW5ndGggPSBlbGVtcy5sZW5ndGg7DQoJCQlmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHsNCgkJCQl2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTsNCg0KCQkJCWlmICggdmFsdWUgIT0gbnVsbCApIHsNCgkJCQkJcmV0LnB1c2goIHZhbHVlICk7DQoJCQkJfQ0KCQkJfQ0KDQoJCS8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsDQoJCX0gZWxzZSB7DQoJCQlmb3IgKCBpIGluIGVsZW1zICkgew0KCQkJCXZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApOw0KDQoJCQkJaWYgKCB2YWx1ZSAhPSBudWxsICkgew0KCQkJCQlyZXQucHVzaCggdmFsdWUgKTsNCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQkvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzDQoJCXJldHVybiBmbGF0KCByZXQgKTsNCgl9LA0KDQoJLy8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzDQoJZ3VpZDogMSwNCg0KCS8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpcg0KCS8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuDQoJc3VwcG9ydDogc3VwcG9ydA0KfSApOw0KDQppZiAoIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgKSB7DQoJalF1ZXJ5LmZuWyBTeW1ib2wuaXRlcmF0b3IgXSA9IGFyclsgU3ltYm9sLml0ZXJhdG9yIF07DQp9DQoNCi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcA0KalF1ZXJ5LmVhY2goICJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoICIgIiApLA0KZnVuY3Rpb24oIF9pLCBuYW1lICkgew0KCWNsYXNzMnR5cGVbICJbb2JqZWN0ICIgKyBuYW1lICsgIl0iIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7DQp9ICk7DQoNCmZ1bmN0aW9uIGlzQXJyYXlMaWtlKCBvYmogKSB7DQoNCgkvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpDQoJLy8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KQ0KCS8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlcw0KCS8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUUNCgl2YXIgbGVuZ3RoID0gISFvYmogJiYgImxlbmd0aCIgaW4gb2JqICYmIG9iai5sZW5ndGgsDQoJCXR5cGUgPSB0b1R5cGUoIG9iaiApOw0KDQoJaWYgKCBpc0Z1bmN0aW9uKCBvYmogKSB8fCBpc1dpbmRvdyggb2JqICkgKSB7DQoJCXJldHVybiBmYWxzZTsNCgl9DQoNCglyZXR1cm4gdHlwZSA9PT0gImFycmF5IiB8fCBsZW5ndGggPT09IDAgfHwNCgkJdHlwZW9mIGxlbmd0aCA9PT0gIm51bWJlciIgJiYgbGVuZ3RoID4gMCAmJiAoIGxlbmd0aCAtIDEgKSBpbiBvYmo7DQp9DQp2YXIgU2l6emxlID0NCi8qIQ0KICogU2l6emxlIENTUyBTZWxlY3RvciBFbmdpbmUgdjIuMy41DQogKiBodHRwczovL3NpenpsZWpzLmNvbS8NCiAqDQogKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzDQogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UNCiAqIGh0dHBzOi8vanMuZm91bmRhdGlvbi8NCiAqDQogKiBEYXRlOiAyMDIwLTAzLTE0DQogKi8NCiggZnVuY3Rpb24oIHdpbmRvdyApIHsNCnZhciBpLA0KCXN1cHBvcnQsDQoJRXhwciwNCglnZXRUZXh0LA0KCWlzWE1MLA0KCXRva2VuaXplLA0KCWNvbXBpbGUsDQoJc2VsZWN0LA0KCW91dGVybW9zdENvbnRleHQsDQoJc29ydElucHV0LA0KCWhhc0R1cGxpY2F0ZSwNCg0KCS8vIExvY2FsIGRvY3VtZW50IHZhcnMNCglzZXREb2N1bWVudCwNCglkb2N1bWVudCwNCglkb2NFbGVtLA0KCWRvY3VtZW50SXNIVE1MLA0KCXJidWdneVFTQSwNCglyYnVnZ3lNYXRjaGVzLA0KCW1hdGNoZXMsDQoJY29udGFpbnMsDQoNCgkvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhDQoJZXhwYW5kbyA9ICJzaXp6bGUiICsgMSAqIG5ldyBEYXRlKCksDQoJcHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LA0KCWRpcnJ1bnMgPSAwLA0KCWRvbmUgPSAwLA0KCWNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLA0KCXRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLA0KCWNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLA0KCW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLA0KCXNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkgew0KCQlpZiAoIGEgPT09IGIgKSB7DQoJCQloYXNEdXBsaWNhdGUgPSB0cnVlOw0KCQl9DQoJCXJldHVybiAwOw0KCX0sDQoNCgkvLyBJbnN0YW5jZSBtZXRob2RzDQoJaGFzT3duID0gKCB7fSApLmhhc093blByb3BlcnR5LA0KCWFyciA9IFtdLA0KCXBvcCA9IGFyci5wb3AsDQoJcHVzaE5hdGl2ZSA9IGFyci5wdXNoLA0KCXB1c2ggPSBhcnIucHVzaCwNCglzbGljZSA9IGFyci5zbGljZSwNCg0KCS8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZQ0KCS8vIGh0dHBzOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzUNCglpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7DQoJCXZhciBpID0gMCwNCgkJCWxlbiA9IGxpc3QubGVuZ3RoOw0KCQlmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsNCgkJCWlmICggbGlzdFsgaSBdID09PSBlbGVtICkgew0KCQkJCXJldHVybiBpOw0KCQkJfQ0KCQl9DQoJCXJldHVybiAtMTsNCgl9LA0KDQoJYm9vbGVhbnMgPSAiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufCIgKw0KCQkiaXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsDQoNCgkvLyBSZWd1bGFyIGV4cHJlc3Npb25zDQoNCgkvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jd2hpdGVzcGFjZQ0KCXdoaXRlc3BhY2UgPSAiW1xceDIwXFx0XFxyXFxuXFxmXSIsDQoNCgkvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXN5bnRheC0zLyNpZGVudC10b2tlbi1kaWFncmFtDQoJaWRlbnRpZmllciA9ICIoPzpcXFxcW1xcZGEtZkEtRl17MSw2fSIgKyB3aGl0ZXNwYWNlICsNCgkJIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsDQoNCgkvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnMNCglhdHRyaWJ1dGVzID0gIlxcWyIgKyB3aGl0ZXNwYWNlICsgIiooIiArIGlkZW50aWZpZXIgKyAiKSg/OiIgKyB3aGl0ZXNwYWNlICsNCg0KCQkvLyBPcGVyYXRvciAoY2FwdHVyZSAyKQ0KCQkiKihbKl4kfCF+XT89KSIgKyB3aGl0ZXNwYWNlICsNCg0KCQkvLyAiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XQ0KCQkvLyBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XSINCgkJIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIiArIGlkZW50aWZpZXIgKyAiKSl8KSIgKw0KCQl3aGl0ZXNwYWNlICsgIipcXF0iLA0KDQoJcHNldWRvcyA9ICI6KCIgKyBpZGVudGlmaWVyICsgIikoPzpcXCgoIiArDQoNCgkJLy8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czoNCgkJLy8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpDQoJCSIoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCIgKw0KDQoJCS8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KQ0KCQkiKCg/OlxcXFwufFteXFxcXCgpW1xcXV18IiArIGF0dHJpYnV0ZXMgKyAiKSopfCIgKw0KDQoJCS8vIDMuIGFueXRoaW5nIGVsc2UgKGNhcHR1cmUgMikNCgkJIi4qIiArDQoJCSIpXFwpfCkiLA0KDQoJLy8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlcg0KCXJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArICIrIiwgImciICksDQoJcnRyaW0gPSBuZXcgUmVnRXhwKCAiXiIgKyB3aGl0ZXNwYWNlICsgIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIgKw0KCQl3aGl0ZXNwYWNlICsgIiskIiwgImciICksDQoNCglyY29tbWEgPSBuZXcgUmVnRXhwKCAiXiIgKyB3aGl0ZXNwYWNlICsgIiosIiArIHdoaXRlc3BhY2UgKyAiKiIgKSwNCglyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCAiXiIgKyB3aGl0ZXNwYWNlICsgIiooWz4rfl18IiArIHdoaXRlc3BhY2UgKyAiKSIgKyB3aGl0ZXNwYWNlICsNCgkJIioiICksDQoJcmRlc2NlbmQgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgInw+IiApLA0KDQoJcnBzZXVkbyA9IG5ldyBSZWdFeHAoIHBzZXVkb3MgKSwNCglyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoICJeIiArIGlkZW50aWZpZXIgKyAiJCIgKSwNCg0KCW1hdGNoRXhwciA9IHsNCgkJIklEIjogbmV3IFJlZ0V4cCggIl4jKCIgKyBpZGVudGlmaWVyICsgIikiICksDQoJCSJDTEFTUyI6IG5ldyBSZWdFeHAoICJeXFwuKCIgKyBpZGVudGlmaWVyICsgIikiICksDQoJCSJUQUciOiBuZXcgUmVnRXhwKCAiXigiICsgaWRlbnRpZmllciArICJ8WypdKSIgKSwNCgkJIkFUVFIiOiBuZXcgUmVnRXhwKCAiXiIgKyBhdHRyaWJ1dGVzICksDQoJCSJQU0VVRE8iOiBuZXcgUmVnRXhwKCAiXiIgKyBwc2V1ZG9zICksDQoJCSJDSElMRCI6IG5ldyBSZWdFeHAoICJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiICsNCgkJCXdoaXRlc3BhY2UgKyAiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIgKyB3aGl0ZXNwYWNlICsgIiooPzooWystXXwpIiArDQoJCQl3aGl0ZXNwYWNlICsgIiooXFxkKyl8KSkiICsgd2hpdGVzcGFjZSArICIqXFwpfCkiLCAiaSIgKSwNCgkJImJvb2wiOiBuZXcgUmVnRXhwKCAiXig/OiIgKyBib29sZWFucyArICIpJCIsICJpIiApLA0KDQoJCS8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKQ0KCQkvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgDQoJCSJuZWVkc0NvbnRleHQiOiBuZXcgUmVnRXhwKCAiXiIgKyB3aGl0ZXNwYWNlICsNCgkJCSIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiICsgd2hpdGVzcGFjZSArDQoJCQkiKigoPzotXFxkKT9cXGQqKSIgKyB3aGl0ZXNwYWNlICsgIipcXCl8KSg/PVteLV18JCkiLCAiaSIgKQ0KCX0sDQoNCglyaHRtbCA9IC9IVE1MJC9pLA0KCXJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLA0KCXJoZWFkZXIgPSAvXmhcZCQvaSwNCg0KCXJuYXRpdmUgPSAvXltee10rXHtccypcW25hdGl2ZSBcdy8sDQoNCgkvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnMNCglycXVpY2tFeHByID0gL14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLywNCg0KCXJzaWJsaW5nID0gL1srfl0vLA0KDQoJLy8gQ1NTIGVzY2FwZXMNCgkvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjZXNjYXBlZC1jaGFyYWN0ZXJzDQoJcnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggIlxcXFxbXFxkYS1mQS1GXXsxLDZ9IiArIHdoaXRlc3BhY2UgKyAiP3xcXFxcKFteXFxyXFxuXFxmXSkiLCAiZyIgKSwNCglmdW5lc2NhcGUgPSBmdW5jdGlvbiggZXNjYXBlLCBub25IZXggKSB7DQoJCXZhciBoaWdoID0gIjB4IiArIGVzY2FwZS5zbGljZSggMSApIC0gMHgxMDAwMDsNCg0KCQlyZXR1cm4gbm9uSGV4ID8NCg0KCQkJLy8gU3RyaXAgdGhlIGJhY2tzbGFzaCBwcmVmaXggZnJvbSBhIG5vbi1oZXggZXNjYXBlIHNlcXVlbmNlDQoJCQlub25IZXggOg0KDQoJCQkvLyBSZXBsYWNlIGEgaGV4YWRlY2ltYWwgZXNjYXBlIHNlcXVlbmNlIHdpdGggdGhlIGVuY29kZWQgVW5pY29kZSBjb2RlIHBvaW50DQoJCQkvLyBTdXBwb3J0OiBJRSA8PTExKw0KCQkJLy8gRm9yIHZhbHVlcyBvdXRzaWRlIHRoZSBCYXNpYyBNdWx0aWxpbmd1YWwgUGxhbmUgKEJNUCksIG1hbnVhbGx5IGNvbnN0cnVjdCBhDQoJCQkvLyBzdXJyb2dhdGUgcGFpcg0KCQkJaGlnaCA8IDAgPw0KCQkJCVN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOg0KCQkJCVN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApOw0KCX0sDQoNCgkvLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvbg0KCS8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tcw0KCXJjc3Nlc2NhcGUgPSAvKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlwwLVx4MWZceDdmLVx1RkZGRlx3LV0vZywNCglmY3NzZXNjYXBlID0gZnVuY3Rpb24oIGNoLCBhc0NvZGVQb2ludCApIHsNCgkJaWYgKCBhc0NvZGVQb2ludCApIHsNCg0KCQkJLy8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSDQoJCQlpZiAoIGNoID09PSAiXDAiICkgew0KCQkJCXJldHVybiAiXHVGRkZEIjsNCgkJCX0NCg0KCQkJLy8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHMNCgkJCXJldHVybiBjaC5zbGljZSggMCwgLTEgKSArICJcXCIgKw0KCQkJCWNoLmNoYXJDb2RlQXQoIGNoLmxlbmd0aCAtIDEgKS50b1N0cmluZyggMTYgKSArICIgIjsNCgkJfQ0KDQoJCS8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWQNCgkJcmV0dXJuICJcXCIgKyBjaDsNCgl9LA0KDQoJLy8gVXNlZCBmb3IgaWZyYW1lcw0KCS8vIFNlZSBzZXREb2N1bWVudCgpDQoJLy8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgIlBlcm1pc3Npb24gRGVuaWVkIg0KCS8vIGVycm9yIGluIElFDQoJdW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkgew0KCQlzZXREb2N1bWVudCgpOw0KCX0sDQoNCglpbkRpc2FibGVkRmllbGRzZXQgPSBhZGRDb21iaW5hdG9yKA0KCQlmdW5jdGlvbiggZWxlbSApIHsNCgkJCXJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gImZpZWxkc2V0IjsNCgkJfSwNCgkJeyBkaXI6ICJwYXJlbnROb2RlIiwgbmV4dDogImxlZ2VuZCIgfQ0KCSk7DQoNCi8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApDQp0cnkgew0KCXB1c2guYXBwbHkoDQoJCSggYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSApLA0KCQlwcmVmZXJyZWREb2MuY2hpbGROb2Rlcw0KCSk7DQoNCgkvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMA0KCS8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHkNCgkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zDQoJYXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTsNCn0gY2F0Y2ggKCBlICkgew0KCXB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3RoID8NCg0KCQkvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZQ0KCQlmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7DQoJCQlwdXNoTmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoIGVscyApICk7DQoJCX0gOg0KDQoJCS8vIFN1cHBvcnQ6IElFPDkNCgkJLy8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseQ0KCQlmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7DQoJCQl2YXIgaiA9IHRhcmdldC5sZW5ndGgsDQoJCQkJaSA9IDA7DQoNCgkJCS8vIENhbid0IHRydXN0IE5vZGVMaXN0Lmxlbmd0aA0KCQkJd2hpbGUgKCAoIHRhcmdldFsgaisrIF0gPSBlbHNbIGkrKyBdICkgKSB7fQ0KCQkJdGFyZ2V0Lmxlbmd0aCA9IGogLSAxOw0KCQl9DQoJfTsNCn0NCg0KZnVuY3Rpb24gU2l6emxlKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHsNCgl2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3RvciwNCgkJbmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LA0KDQoJCS8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnQNCgkJbm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7DQoNCglyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTsNCg0KCS8vIFJldHVybiBlYXJseSBmcm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0DQoJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09ICJzdHJpbmciIHx8ICFzZWxlY3RvciB8fA0KCQlub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEgKSB7DQoNCgkJcmV0dXJuIHJlc3VsdHM7DQoJfQ0KDQoJLy8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50cw0KCWlmICggIXNlZWQgKSB7DQoJCXNldERvY3VtZW50KCBjb250ZXh0ICk7DQoJCWNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50Ow0KDQoJCWlmICggZG9jdW1lbnRJc0hUTUwgKSB7DQoNCgkJCS8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSAiZ2V0KkJ5KiIgRE9NIG1ldGhvZA0KCQkJLy8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KQ0KCQkJaWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKCBtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSApICkgew0KDQoJCQkJLy8gSUQgc2VsZWN0b3INCgkJCQlpZiAoICggbSA9IG1hdGNoWyAxIF0gKSApIHsNCg0KCQkJCQkvLyBEb2N1bWVudCBjb250ZXh0DQoJCQkJCWlmICggbm9kZVR5cGUgPT09IDkgKSB7DQoJCQkJCQlpZiAoICggZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSApICkgew0KDQoJCQkJCQkJLy8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXQNCgkJCQkJCQkvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9ucw0KCQkJCQkJCS8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSUQNCgkJCQkJCQlpZiAoIGVsZW0uaWQgPT09IG0gKSB7DQoJCQkJCQkJCXJlc3VsdHMucHVzaCggZWxlbSApOw0KCQkJCQkJCQlyZXR1cm4gcmVzdWx0czsNCgkJCQkJCQl9DQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCXJldHVybiByZXN1bHRzOw0KCQkJCQkJfQ0KDQoJCQkJCS8vIEVsZW1lbnQgY29udGV4dA0KCQkJCQl9IGVsc2Ugew0KDQoJCQkJCQkvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdA0KCQkJCQkJLy8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnMNCgkJCQkJCS8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSUQNCgkJCQkJCWlmICggbmV3Q29udGV4dCAmJiAoIGVsZW0gPSBuZXdDb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkgKSAmJg0KCQkJCQkJCWNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiYNCgkJCQkJCQllbGVtLmlkID09PSBtICkgew0KDQoJCQkJCQkJcmVzdWx0cy5wdXNoKCBlbGVtICk7DQoJCQkJCQkJcmV0dXJuIHJlc3VsdHM7DQoJCQkJCQl9DQoJCQkJCX0NCg0KCQkJCS8vIFR5cGUgc2VsZWN0b3INCgkJCQl9IGVsc2UgaWYgKCBtYXRjaFsgMiBdICkgew0KCQkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7DQoJCQkJCXJldHVybiByZXN1bHRzOw0KDQoJCQkJLy8gQ2xhc3Mgc2VsZWN0b3INCgkJCQl9IGVsc2UgaWYgKCAoIG0gPSBtYXRjaFsgMyBdICkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmDQoJCQkJCWNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHsNCg0KCQkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIG0gKSApOw0KCQkJCQlyZXR1cm4gcmVzdWx0czsNCgkJCQl9DQoJCQl9DQoNCgkJCS8vIFRha2UgYWR2YW50YWdlIG9mIHF1ZXJ5U2VsZWN0b3JBbGwNCgkJCWlmICggc3VwcG9ydC5xc2EgJiYNCgkJCQkhbm9ubmF0aXZlU2VsZWN0b3JDYWNoZVsgc2VsZWN0b3IgKyAiICIgXSAmJg0KCQkJCSggIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIHNlbGVjdG9yICkgKSAmJg0KDQoJCQkJLy8gU3VwcG9ydDogSUUgOCBvbmx5DQoJCQkJLy8gRXhjbHVkZSBvYmplY3QgZWxlbWVudHMNCgkJCQkoIG5vZGVUeXBlICE9PSAxIHx8IGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gIm9iamVjdCIgKSApIHsNCg0KCQkJCW5ld1NlbGVjdG9yID0gc2VsZWN0b3I7DQoJCQkJbmV3Q29udGV4dCA9IGNvbnRleHQ7DQoNCgkJCQkvLyBxU0EgY29uc2lkZXJzIGVsZW1lbnRzIG91dHNpZGUgYSBzY29waW5nIHJvb3Qgd2hlbiBldmFsdWF0aW5nIGNoaWxkIG9yDQoJCQkJLy8gZGVzY2VuZGFudCBjb21iaW5hdG9ycywgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudC4NCgkJCQkvLyBJbiBzdWNoIGNhc2VzLCB3ZSB3b3JrIGFyb3VuZCB0aGUgYmVoYXZpb3IgYnkgcHJlZml4aW5nIGV2ZXJ5IHNlbGVjdG9yIGluIHRoZQ0KCQkJCS8vIGxpc3Qgd2l0aCBhbiBJRCBzZWxlY3RvciByZWZlcmVuY2luZyB0aGUgc2NvcGUgY29udGV4dC4NCgkJCQkvLyBUaGUgdGVjaG5pcXVlIGhhcyB0byBiZSB1c2VkIGFzIHdlbGwgd2hlbiBhIGxlYWRpbmcgY29tYmluYXRvciBpcyB1c2VkDQoJCQkJLy8gYXMgc3VjaCBzZWxlY3RvcnMgYXJlIG5vdCByZWNvZ25pemVkIGJ5IHF1ZXJ5U2VsZWN0b3JBbGwuDQoJCQkJLy8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgdGVjaG5pcXVlLg0KCQkJCWlmICggbm9kZVR5cGUgPT09IDEgJiYNCgkJCQkJKCByZGVzY2VuZC50ZXN0KCBzZWxlY3RvciApIHx8IHJjb21iaW5hdG9ycy50ZXN0KCBzZWxlY3RvciApICkgKSB7DQoNCgkJCQkJLy8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzDQoJCQkJCW5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fA0KCQkJCQkJY29udGV4dDsNCg0KCQkJCQkvLyBXZSBjYW4gdXNlIDpzY29wZSBpbnN0ZWFkIG9mIHRoZSBJRCBoYWNrIGlmIHRoZSBicm93c2VyDQoJCQkJCS8vIHN1cHBvcnRzIGl0ICYgaWYgd2UncmUgbm90IGNoYW5naW5nIHRoZSBjb250ZXh0Lg0KCQkJCQlpZiAoIG5ld0NvbnRleHQgIT09IGNvbnRleHQgfHwgIXN1cHBvcnQuc2NvcGUgKSB7DQoNCgkJCQkJCS8vIENhcHR1cmUgdGhlIGNvbnRleHQgSUQsIHNldHRpbmcgaXQgZmlyc3QgaWYgbmVjZXNzYXJ5DQoJCQkJCQlpZiAoICggbmlkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoICJpZCIgKSApICkgew0KCQkJCQkJCW5pZCA9IG5pZC5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7DQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCWNvbnRleHQuc2V0QXR0cmlidXRlKCAiaWQiLCAoIG5pZCA9IGV4cGFuZG8gKSApOw0KCQkJCQkJfQ0KCQkJCQl9DQoNCgkJCQkJLy8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0DQoJCQkJCWdyb3VwcyA9IHRva2VuaXplKCBzZWxlY3RvciApOw0KCQkJCQlpID0gZ3JvdXBzLmxlbmd0aDsNCgkJCQkJd2hpbGUgKCBpLS0gKSB7DQoJCQkJCQlncm91cHNbIGkgXSA9ICggbmlkID8gIiMiICsgbmlkIDogIjpzY29wZSIgKSArICIgIiArDQoJCQkJCQkJdG9TZWxlY3RvciggZ3JvdXBzWyBpIF0gKTsNCgkJCQkJfQ0KCQkJCQluZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKCAiLCIgKTsNCgkJCQl9DQoNCgkJCQl0cnkgew0KCQkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLA0KCQkJCQkJbmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApDQoJCQkJCSk7DQoJCQkJCXJldHVybiByZXN1bHRzOw0KCQkJCX0gY2F0Y2ggKCBxc2FFcnJvciApIHsNCgkJCQkJbm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggc2VsZWN0b3IsIHRydWUgKTsNCgkJCQl9IGZpbmFsbHkgew0KCQkJCQlpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHsNCgkJCQkJCWNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCAiaWQiICk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoNCgkvLyBBbGwgb3RoZXJzDQoJcmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sICIkMSIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApOw0KfQ0KDQovKioNCiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZQ0KICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aA0KICoJcHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aCkNCiAqCWRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnkNCiAqLw0KZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7DQoJdmFyIGtleXMgPSBbXTsNCg0KCWZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkgew0KDQoJCS8vIFVzZSAoa2V5ICsgIiAiKSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aCBuYXRpdmUgcHJvdG90eXBlIHByb3BlcnRpZXMgKHNlZSBJc3N1ZSAjMTU3KQ0KCQlpZiAoIGtleXMucHVzaCgga2V5ICsgIiAiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkgew0KDQoJCQkvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXMNCgkJCWRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07DQoJCX0NCgkJcmV0dXJuICggY2FjaGVbIGtleSArICIgIiBdID0gdmFsdWUgKTsNCgl9DQoJcmV0dXJuIGNhY2hlOw0KfQ0KDQovKioNCiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlDQogKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFyaw0KICovDQpmdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkgew0KCWZuWyBleHBhbmRvIF0gPSB0cnVlOw0KCXJldHVybiBmbjsNCn0NCg0KLyoqDQogKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudA0KICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGVsZW1lbnQgYW5kIHJldHVybnMgYSBib29sZWFuIHJlc3VsdA0KICovDQpmdW5jdGlvbiBhc3NlcnQoIGZuICkgew0KCXZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJmaWVsZHNldCIgKTsNCg0KCXRyeSB7DQoJCXJldHVybiAhIWZuKCBlbCApOw0KCX0gY2F0Y2ggKCBlICkgew0KCQlyZXR1cm4gZmFsc2U7DQoJfSBmaW5hbGx5IHsNCg0KCQkvLyBSZW1vdmUgZnJvbSBpdHMgcGFyZW50IGJ5IGRlZmF1bHQNCgkJaWYgKCBlbC5wYXJlbnROb2RlICkgew0KCQkJZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTsNCgkJfQ0KDQoJCS8vIHJlbGVhc2UgbWVtb3J5IGluIElFDQoJCWVsID0gbnVsbDsNCgl9DQp9DQoNCi8qKg0KICogQWRkcyB0aGUgc2FtZSBoYW5kbGVyIGZvciBhbGwgb2YgdGhlIHNwZWNpZmllZCBhdHRycw0KICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlcw0KICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkDQogKi8NCmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7DQoJdmFyIGFyciA9IGF0dHJzLnNwbGl0KCAifCIgKSwNCgkJaSA9IGFyci5sZW5ndGg7DQoNCgl3aGlsZSAoIGktLSApIHsNCgkJRXhwci5hdHRySGFuZGxlWyBhcnJbIGkgXSBdID0gaGFuZGxlcjsNCgl9DQp9DQoNCi8qKg0KICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5ncw0KICogQHBhcmFtIHtFbGVtZW50fSBhDQogKiBAcGFyYW0ge0VsZW1lbnR9IGINCiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYg0KICovDQpmdW5jdGlvbiBzaWJsaW5nQ2hlY2soIGEsIGIgKSB7DQoJdmFyIGN1ciA9IGIgJiYgYSwNCgkJZGlmZiA9IGN1ciAmJiBhLm5vZGVUeXBlID09PSAxICYmIGIubm9kZVR5cGUgPT09IDEgJiYNCgkJCWEuc291cmNlSW5kZXggLSBiLnNvdXJjZUluZGV4Ow0KDQoJLy8gVXNlIElFIHNvdXJjZUluZGV4IGlmIGF2YWlsYWJsZSBvbiBib3RoIG5vZGVzDQoJaWYgKCBkaWZmICkgew0KCQlyZXR1cm4gZGlmZjsNCgl9DQoNCgkvLyBDaGVjayBpZiBiIGZvbGxvd3MgYQ0KCWlmICggY3VyICkgew0KCQl3aGlsZSAoICggY3VyID0gY3VyLm5leHRTaWJsaW5nICkgKSB7DQoJCQlpZiAoIGN1ciA9PT0gYiApIHsNCgkJCQlyZXR1cm4gLTE7DQoJCQl9DQoJCX0NCgl9DQoNCglyZXR1cm4gYSA/IDEgOiAtMTsNCn0NCg0KLyoqDQogKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzDQogKiBAcGFyYW0ge1N0cmluZ30gdHlwZQ0KICovDQpmdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHsNCglyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7DQoJCXZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOw0KCQlyZXR1cm4gbmFtZSA9PT0gImlucHV0IiAmJiBlbGVtLnR5cGUgPT09IHR5cGU7DQoJfTsNCn0NCg0KLyoqDQogKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnMNCiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlDQogKi8NCmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHsNCglyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7DQoJCXZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOw0KCQlyZXR1cm4gKCBuYW1lID09PSAiaW5wdXQiIHx8IG5hbWUgPT09ICJidXR0b24iICkgJiYgZWxlbS50eXBlID09PSB0eXBlOw0KCX07DQp9DQoNCi8qKg0KICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWQNCiAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWQNCiAqLw0KZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkgew0KDQoJLy8gS25vd24gOmRpc2FibGVkIGZhbHNlIHBvc2l0aXZlczogZmllbGRzZXRbZGlzYWJsZWRdID4gbGVnZW5kOm50aC1vZi10eXBlKG4rMikgOmNhbi1kaXNhYmxlDQoJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgew0KDQoJCS8vIE9ubHkgY2VydGFpbiBlbGVtZW50cyBjYW4gbWF0Y2ggOmVuYWJsZWQgb3IgOmRpc2FibGVkDQoJCS8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWVuYWJsZWQNCgkJLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZGlzYWJsZWQNCgkJaWYgKCAiZm9ybSIgaW4gZWxlbSApIHsNCg0KCQkJLy8gQ2hlY2sgZm9yIGluaGVyaXRlZCBkaXNhYmxlZG5lc3Mgb24gcmVsZXZhbnQgbm9uLWRpc2FibGVkIGVsZW1lbnRzOg0KCQkJLy8gKiBsaXN0ZWQgZm9ybS1hc3NvY2lhdGVkIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgZmllbGRzZXQNCgkJCS8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjYXRlZ29yeS1saXN0ZWQNCgkJCS8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkDQoJCQkvLyAqIG9wdGlvbiBlbGVtZW50cyBpbiBhIGRpc2FibGVkIG9wdGdyb3VwDQoJCQkvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1vcHRpb24tZGlzYWJsZWQNCgkJCS8vIEFsbCBzdWNoIGVsZW1lbnRzIGhhdmUgYSAiZm9ybSIgcHJvcGVydHkuDQoJCQlpZiAoIGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSApIHsNCg0KCQkJCS8vIE9wdGlvbiBlbGVtZW50cyBkZWZlciB0byBhIHBhcmVudCBvcHRncm91cCBpZiBwcmVzZW50DQoJCQkJaWYgKCAibGFiZWwiIGluIGVsZW0gKSB7DQoJCQkJCWlmICggImxhYmVsIiBpbiBlbGVtLnBhcmVudE5vZGUgKSB7DQoJCQkJCQlyZXR1cm4gZWxlbS5wYXJlbnROb2RlLmRpc2FibGVkID09PSBkaXNhYmxlZDsNCgkJCQkJfSBlbHNlIHsNCgkJCQkJCXJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDsNCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCS8vIFN1cHBvcnQ6IElFIDYgLSAxMQ0KCQkJCS8vIFVzZSB0aGUgaXNEaXNhYmxlZCBzaG9ydGN1dCBwcm9wZXJ0eSB0byBjaGVjayBmb3IgZGlzYWJsZWQgZmllbGRzZXQgYW5jZXN0b3JzDQoJCQkJcmV0dXJuIGVsZW0uaXNEaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHwNCg0KCQkJCQkvLyBXaGVyZSB0aGVyZSBpcyBubyBpc0Rpc2FibGVkLCBjaGVjayBtYW51YWxseQ0KCQkJCQkvKiBqc2hpbnQgLVcwMTggKi8NCgkJCQkJZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiYNCgkJCQkJaW5EaXNhYmxlZEZpZWxkc2V0KCBlbGVtICkgPT09IGRpc2FibGVkOw0KCQkJfQ0KDQoJCQlyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7DQoNCgkJLy8gVHJ5IHRvIHdpbm5vdyBvdXQgZWxlbWVudHMgdGhhdCBjYW4ndCBiZSBkaXNhYmxlZCBiZWZvcmUgdHJ1c3RpbmcgdGhlIGRpc2FibGVkIHByb3BlcnR5Lg0KCQkvLyBTb21lIHZpY3RpbXMgZ2V0IGNhdWdodCBpbiBvdXIgbmV0IChsYWJlbCwgbGVnZW5kLCBtZW51LCB0cmFjayksIGJ1dCBpdCBzaG91bGRuJ3QNCgkJLy8gZXZlbiBleGlzdCBvbiB0aGVtLCBsZXQgYWxvbmUgaGF2ZSBhIGJvb2xlYW4gdmFsdWUuDQoJCX0gZWxzZSBpZiAoICJsYWJlbCIgaW4gZWxlbSApIHsNCgkJCXJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDsNCgkJfQ0KDQoJCS8vIFJlbWFpbmluZyBlbGVtZW50cyBhcmUgbmVpdGhlciA6ZW5hYmxlZCBub3IgOmRpc2FibGVkDQoJCXJldHVybiBmYWxzZTsNCgl9Ow0KfQ0KDQovKioNCiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHMNCiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuDQogKi8NCmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkgew0KCXJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBhcmd1bWVudCApIHsNCgkJYXJndW1lbnQgPSArYXJndW1lbnQ7DQoJCXJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkgew0KCQkJdmFyIGosDQoJCQkJbWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSwNCgkJCQlpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDsNCg0KCQkJLy8gTWF0Y2ggZWxlbWVudHMgZm91bmQgYXQgdGhlIHNwZWNpZmllZCBpbmRleGVzDQoJCQl3aGlsZSAoIGktLSApIHsNCgkJCQlpZiAoIHNlZWRbICggaiA9IG1hdGNoSW5kZXhlc1sgaSBdICkgXSApIHsNCgkJCQkJc2VlZFsgaiBdID0gISggbWF0Y2hlc1sgaiBdID0gc2VlZFsgaiBdICk7DQoJCQkJfQ0KCQkJfQ0KCQl9ICk7DQoJfSApOw0KfQ0KDQovKioNCiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHQNCiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0DQogKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWUNCiAqLw0KZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7DQoJcmV0dXJuIGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09ICJ1bmRlZmluZWQiICYmIGNvbnRleHQ7DQp9DQoNCi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlDQpzdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTsNCg0KLyoqDQogKiBEZXRlY3RzIFhNTCBub2Rlcw0KICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnQNCiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGUNCiAqLw0KaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHsNCgl2YXIgbmFtZXNwYWNlID0gZWxlbS5uYW1lc3BhY2VVUkksDQoJCWRvY0VsZW0gPSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkuZG9jdW1lbnRFbGVtZW50Ow0KDQoJLy8gU3VwcG9ydDogSUUgPD04DQoJLy8gQXNzdW1lIEhUTUwgd2hlbiBkb2N1bWVudEVsZW1lbnQgZG9lc24ndCB5ZXQgZXhpc3QsIHN1Y2ggYXMgaW5zaWRlIGxvYWRpbmcgaWZyYW1lcw0KCS8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC80ODMzDQoJcmV0dXJuICFyaHRtbC50ZXN0KCBuYW1lc3BhY2UgfHwgZG9jRWxlbSAmJiBkb2NFbGVtLm5vZGVOYW1lIHx8ICJIVE1MIiApOw0KfTsNCg0KLyoqDQogKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnQNCiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50DQogKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50DQogKi8NCnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7DQoJdmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdywNCgkJZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jOw0KDQoJLy8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWQNCgkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsNCgkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nDQoJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLg0KCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXENCglpZiAoIGRvYyA9PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7DQoJCXJldHVybiBkb2N1bWVudDsNCgl9DQoNCgkvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlcw0KCWRvY3VtZW50ID0gZG9jOw0KCWRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7DQoJZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7DQoNCgkvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrDQoJLy8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyAicGVybWlzc2lvbiBkZW5pZWQiIGVycm9ycyAoalF1ZXJ5ICMxMzkzNikNCgkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsNCgkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nDQoJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLg0KCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXENCglpZiAoIHByZWZlcnJlZERvYyAhPSBkb2N1bWVudCAmJg0KCQkoIHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3ICkgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkgew0KDQoJCS8vIFN1cHBvcnQ6IElFIDExLCBFZGdlDQoJCWlmICggc3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIgKSB7DQoJCQlzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggInVubG9hZCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7DQoNCgkJLy8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHkNCgkJfSBlbHNlIGlmICggc3ViV2luZG93LmF0dGFjaEV2ZW50ICkgew0KCQkJc3ViV2luZG93LmF0dGFjaEV2ZW50KCAib251bmxvYWQiLCB1bmxvYWRIYW5kbGVyICk7DQoJCX0NCgl9DQoNCgkvLyBTdXBwb3J0OiBJRSA4IC0gMTErLCBFZGdlIDEyIC0gMTgrLCBDaHJvbWUgPD0xNiAtIDI1IG9ubHksIEZpcmVmb3ggPD0zLjYgLSAzMSBvbmx5LA0KCS8vIFNhZmFyaSA0IC0gNSBvbmx5LCBPcGVyYSA8PTExLjYgLSAxMi54IG9ubHkNCgkvLyBJRS9FZGdlICYgb2xkZXIgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgOnNjb3BlIHBzZXVkby1jbGFzcy4NCgkvLyBTdXBwb3J0OiBTYWZhcmkgNi4wIG9ubHkNCgkvLyBTYWZhcmkgNi4wIHN1cHBvcnRzIDpzY29wZSBidXQgaXQncyBhbiBhbGlhcyBvZiA6cm9vdCB0aGVyZS4NCglzdXBwb3J0LnNjb3BlID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7DQoJCWRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJkaXYiICkgKTsNCgkJcmV0dXJuIHR5cGVvZiBlbC5xdWVyeVNlbGVjdG9yQWxsICE9PSAidW5kZWZpbmVkIiAmJg0KCQkJIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoICI6c2NvcGUgZmllbGRzZXQgZGl2IiApLmxlbmd0aDsNCgl9ICk7DQoNCgkvKiBBdHRyaWJ1dGVzDQoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLw0KDQoJLy8gU3VwcG9ydDogSUU8OA0KCS8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllcw0KCS8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKQ0KCXN1cHBvcnQuYXR0cmlidXRlcyA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkgew0KCQllbC5jbGFzc05hbWUgPSAiaSI7DQoJCXJldHVybiAhZWwuZ2V0QXR0cmlidXRlKCAiY2xhc3NOYW1lIiApOw0KCX0gKTsNCg0KCS8qIGdldEVsZW1lbnQocylCeSoNCgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovDQoNCgkvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpIHJldHVybnMgb25seSBlbGVtZW50cw0KCXN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHsNCgkJZWwuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoICIiICkgKTsNCgkJcmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggIioiICkubGVuZ3RoOw0KCX0gKTsNCg0KCS8vIFN1cHBvcnQ6IElFPDkNCglzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKTsNCg0KCS8vIFN1cHBvcnQ6IElFPDEwDQoJLy8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lDQoJLy8gVGhlIGJyb2tlbiBnZXRFbGVtZW50QnlJZCBtZXRob2RzIGRvbid0IHBpY2sgdXAgcHJvZ3JhbW1hdGljYWxseS1zZXQgbmFtZXMsDQoJLy8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0DQoJc3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7DQoJCWRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaWQgPSBleHBhbmRvOw0KCQlyZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDsNCgl9ICk7DQoNCgkvLyBJRCBmaWx0ZXIgYW5kIGZpbmQNCglpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHsNCgkJRXhwci5maWx0ZXJbICJJRCIgXSA9IGZ1bmN0aW9uKCBpZCApIHsNCgkJCXZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApOw0KCQkJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggImlkIiApID09PSBhdHRySWQ7DQoJCQl9Ow0KCQl9Ow0KCQlFeHByLmZpbmRbICJJRCIgXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHsNCgkJCWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09ICJ1bmRlZmluZWQiICYmIGRvY3VtZW50SXNIVE1MICkgew0KCQkJCXZhciBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTsNCgkJCQlyZXR1cm4gZWxlbSA/IFsgZWxlbSBdIDogW107DQoJCQl9DQoJCX07DQoJfSBlbHNlIHsNCgkJRXhwci5maWx0ZXJbICJJRCIgXSA9ICBmdW5jdGlvbiggaWQgKSB7DQoJCQl2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTsNCgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsNCgkJCQl2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09ICJ1bmRlZmluZWQiICYmDQoJCQkJCWVsZW0uZ2V0QXR0cmlidXRlTm9kZSggImlkIiApOw0KCQkJCXJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDsNCgkJCX07DQoJCX07DQoNCgkJLy8gU3VwcG9ydDogSUUgNiAtIDcgb25seQ0KCQkvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0DQoJCUV4cHIuZmluZFsgIklEIiBdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkgew0KCQkJaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gInVuZGVmaW5lZCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7DQoJCQkJdmFyIG5vZGUsIGksIGVsZW1zLA0KCQkJCQllbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTsNCg0KCQkJCWlmICggZWxlbSApIHsNCg0KCQkJCQkvLyBWZXJpZnkgdGhlIGlkIGF0dHJpYnV0ZQ0KCQkJCQlub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCAiaWQiICk7DQoJCQkJCWlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHsNCgkJCQkJCXJldHVybiBbIGVsZW0gXTsNCgkJCQkJfQ0KDQoJCQkJCS8vIEZhbGwgYmFjayBvbiBnZXRFbGVtZW50c0J5TmFtZQ0KCQkJCQllbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7DQoJCQkJCWkgPSAwOw0KCQkJCQl3aGlsZSAoICggZWxlbSA9IGVsZW1zWyBpKysgXSApICkgew0KCQkJCQkJbm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggImlkIiApOw0KCQkJCQkJaWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkgew0KCQkJCQkJCXJldHVybiBbIGVsZW0gXTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCXJldHVybiBbXTsNCgkJCX0NCgkJfTsNCgl9DQoNCgkvLyBUYWcNCglFeHByLmZpbmRbICJUQUciIF0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID8NCgkJZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHsNCgkJCWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09ICJ1bmRlZmluZWQiICkgew0KCQkJCXJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTsNCg0KCQkJLy8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlRODQoJCQl9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHsNCgkJCQlyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTsNCgkJCX0NCgkJfSA6DQoNCgkJZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHsNCgkJCXZhciBlbGVtLA0KCQkJCXRtcCA9IFtdLA0KCQkJCWkgPSAwLA0KDQoJCQkJLy8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvbw0KCQkJCXJlc3VsdHMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTsNCg0KCQkJLy8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50cw0KCQkJaWYgKCB0YWcgPT09ICIqIiApIHsNCgkJCQl3aGlsZSAoICggZWxlbSA9IHJlc3VsdHNbIGkrKyBdICkgKSB7DQoJCQkJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsNCgkJCQkJCXRtcC5wdXNoKCBlbGVtICk7DQoJCQkJCX0NCgkJCQl9DQoNCgkJCQlyZXR1cm4gdG1wOw0KCQkJfQ0KCQkJcmV0dXJuIHJlc3VsdHM7DQoJCX07DQoNCgkvLyBDbGFzcw0KCUV4cHIuZmluZFsgIkNMQVNTIiBdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7DQoJCWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gInVuZGVmaW5lZCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7DQoJCQlyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTsNCgkJfQ0KCX07DQoNCgkvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yDQoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLw0KDQoJLy8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydA0KDQoJLy8gbWF0Y2hlc1NlbGVjdG9yKDphY3RpdmUpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChJRTkvT3BlcmEgMTEuNSkNCglyYnVnZ3lNYXRjaGVzID0gW107DQoNCgkvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKQ0KCS8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvcg0KCS8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWUNCgkvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvcg0KCS8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzgNCglyYnVnZ3lRU0EgPSBbXTsNCg0KCWlmICggKCBzdXBwb3J0LnFzYSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCApICkgKSB7DQoNCgkJLy8gQnVpbGQgUVNBIHJlZ2V4DQoJCS8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmkNCgkJYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7DQoNCgkJCXZhciBpbnB1dDsNCg0KCQkJLy8gU2VsZWN0IGlzIHNldCB0byBlbXB0eSBzdHJpbmcgb24gcHVycG9zZQ0KCQkJLy8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5DQoJCQkvLyBzZXR0aW5nIGEgYm9vbGVhbiBjb250ZW50IGF0dHJpYnV0ZSwNCgkJCS8vIHNpbmNlIGl0cyBwcmVzZW5jZSBzaG91bGQgYmUgZW5vdWdoDQoJCQkvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTkNCgkJCWRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaW5uZXJIVE1MID0gIjxhIGlkPSciICsgZXhwYW5kbyArICInPjwvYT4iICsNCgkJCQkiPHNlbGVjdCBpZD0nIiArIGV4cGFuZG8gKyAiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPiIgKw0KCQkJCSI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiI7DQoNCgkJCS8vIFN1cHBvcnQ6IElFOCwgT3BlcmEgMTEtMTIuMTYNCgkJCS8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj0NCgkJCS8vIFRoZSB0ZXN0IGF0dHJpYnV0ZSBtdXN0IGJlIHVua25vd24gaW4gT3BlcmEgYnV0ICJzYWZlIiBmb3IgV2luUlQNCgkJCS8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvbg0KCQkJaWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCAiW21zYWxsb3djYXB0dXJlXj0nJ10iICkubGVuZ3RoICkgew0KCQkJCXJidWdneVFTQS5wdXNoKCAiWypeJF09IiArIHdoaXRlc3BhY2UgKyAiKig/OicnfFwiXCIpIiApOw0KCQkJfQ0KDQoJCQkvLyBTdXBwb3J0OiBJRTgNCgkJCS8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgInZhbHVlIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5DQoJCQlpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCAiW3NlbGVjdGVkXSIgKS5sZW5ndGggKSB7DQoJCQkJcmJ1Z2d5UVNBLnB1c2goICJcXFsiICsgd2hpdGVzcGFjZSArICIqKD86dmFsdWV8IiArIGJvb2xlYW5zICsgIikiICk7DQoJCQl9DQoNCgkJCS8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44Kw0KCQkJaWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggIltpZH49IiArIGV4cGFuZG8gKyAiLV0iICkubGVuZ3RoICkgew0KCQkJCXJidWdneVFTQS5wdXNoKCAifj0iICk7DQoJCQl9DQoNCgkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNSAtIDE4Kw0KCQkJLy8gSUUgMTEvRWRnZSBkb24ndCBmaW5kIGVsZW1lbnRzIG9uIGEgYFtuYW1lPScnXWAgcXVlcnkgaW4gc29tZSBjYXNlcy4NCgkJCS8vIEFkZGluZyBhIHRlbXBvcmFyeSBhdHRyaWJ1dGUgdG8gdGhlIGRvY3VtZW50IGJlZm9yZSB0aGUgc2VsZWN0aW9uIHdvcmtzDQoJCQkvLyBhcm91bmQgdGhlIGlzc3VlLg0KCQkJLy8gSW50ZXJlc3RpbmdseSwgSUUgMTAgJiBvbGRlciBkb24ndCBzZWVtIHRvIGhhdmUgdGhlIGlzc3VlLg0KCQkJaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiaW5wdXQiICk7DQoJCQlpbnB1dC5zZXRBdHRyaWJ1dGUoICJuYW1lIiwgIiIgKTsNCgkJCWVsLmFwcGVuZENoaWxkKCBpbnB1dCApOw0KCQkJaWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggIltuYW1lPScnXSIgKS5sZW5ndGggKSB7DQoJCQkJcmJ1Z2d5UVNBLnB1c2goICJcXFsiICsgd2hpdGVzcGFjZSArICIqbmFtZSIgKyB3aGl0ZXNwYWNlICsgIio9IiArDQoJCQkJCXdoaXRlc3BhY2UgKyAiKig/OicnfFwiXCIpIiApOw0KCQkJfQ0KDQoJCQkvLyBXZWJraXQvT3BlcmEgLSA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIHNlbGVjdGVkIG9wdGlvbiBlbGVtZW50cw0KCQkJLy8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWQNCgkJCS8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzDQoJCQlpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCAiOmNoZWNrZWQiICkubGVuZ3RoICkgew0KCQkJCXJidWdneVFTQS5wdXNoKCAiOmNoZWNrZWQiICk7DQoJCQl9DQoNCgkJCS8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrDQoJCQkvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxDQoJCQkvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJsaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzDQoJCQlpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCAiYSMiICsgZXhwYW5kbyArICIrKiIgKS5sZW5ndGggKSB7DQoJCQkJcmJ1Z2d5UVNBLnB1c2goICIuIy4rWyt+XSIgKTsNCgkJCX0NCg0KCQkJLy8gU3VwcG9ydDogRmlyZWZveCA8PTMuNiAtIDUgb25seQ0KCQkJLy8gT2xkIEZpcmVmb3ggZG9lc24ndCB0aHJvdyBvbiBhIGJhZGx5LWVzY2FwZWQgaWRlbnRpZmllci4NCgkJCWVsLnF1ZXJ5U2VsZWN0b3JBbGwoICJcXFxmIiApOw0KCQkJcmJ1Z2d5UVNBLnB1c2goICJbXFxyXFxuXFxmXSIgKTsNCgkJfSApOw0KDQoJCWFzc2VydCggZnVuY3Rpb24oIGVsICkgew0KCQkJZWwuaW5uZXJIVE1MID0gIjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+IiArDQoJCQkJIjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iOw0KDQoJCQkvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHMNCgkJCS8vIFRoZSB0eXBlIGFuZCBuYW1lIGF0dHJpYnV0ZXMgYXJlIHJlc3RyaWN0ZWQgZHVyaW5nIC5pbm5lckhUTUwgYXNzaWdubWVudA0KCQkJdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImlucHV0IiApOw0KCQkJaW5wdXQuc2V0QXR0cmlidXRlKCAidHlwZSIsICJoaWRkZW4iICk7DQoJCQllbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoICJuYW1lIiwgIkQiICk7DQoNCgkJCS8vIFN1cHBvcnQ6IElFOA0KCQkJLy8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlDQoJCQlpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoICJbbmFtZT1kXSIgKS5sZW5ndGggKSB7DQoJCQkJcmJ1Z2d5UVNBLnB1c2goICJuYW1lIiArIHdoaXRlc3BhY2UgKyAiKlsqXiR8IX5dPz0iICk7DQoJCQl9DQoNCgkJCS8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpDQoJCQkvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0cw0KCQkJaWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCAiOmVuYWJsZWQiICkubGVuZ3RoICE9PSAyICkgew0KCQkJCXJidWdneVFTQS5wdXNoKCAiOmVuYWJsZWQiLCAiOmRpc2FibGVkIiApOw0KCQkJfQ0KDQoJCQkvLyBTdXBwb3J0OiBJRTktMTErDQoJCQkvLyBJRSdzIDpkaXNhYmxlZCBzZWxlY3RvciBkb2VzIG5vdCBwaWNrIHVwIHRoZSBjaGlsZHJlbiBvZiBkaXNhYmxlZCBmaWVsZHNldHMNCgkJCWRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuZGlzYWJsZWQgPSB0cnVlOw0KCQkJaWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCAiOmRpc2FibGVkIiApLmxlbmd0aCAhPT0gMiApIHsNCgkJCQlyYnVnZ3lRU0EucHVzaCggIjplbmFibGVkIiwgIjpkaXNhYmxlZCIgKTsNCgkJCX0NCg0KCQkJLy8gU3VwcG9ydDogT3BlcmEgMTAgLSAxMSBvbmx5DQoJCQkvLyBPcGVyYSAxMC0xMSBkb2VzIG5vdCB0aHJvdyBvbiBwb3N0LWNvbW1hIGludmFsaWQgcHNldWRvcw0KCQkJZWwucXVlcnlTZWxlY3RvckFsbCggIiosOngiICk7DQoJCQlyYnVnZ3lRU0EucHVzaCggIiwuKjoiICk7DQoJCX0gKTsNCgl9DQoNCglpZiAoICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoICggbWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fA0KCQlkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fA0KCQlkb2NFbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fA0KCQlkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHwNCgkJZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvciApICkgKSApIHsNCg0KCQlhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHsNCg0KCQkJLy8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yDQoJCQkvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KQ0KCQkJc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IG1hdGNoZXMuY2FsbCggZWwsICIqIiApOw0KDQoJCQkvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uDQoJCQkvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkDQoJCQltYXRjaGVzLmNhbGwoIGVsLCAiW3MhPScnXTp4IiApOw0KCQkJcmJ1Z2d5TWF0Y2hlcy5wdXNoKCAiIT0iLCBwc2V1ZG9zICk7DQoJCX0gKTsNCgl9DQoNCglyYnVnZ3lRU0EgPSByYnVnZ3lRU0EubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneVFTQS5qb2luKCAifCIgKSApOw0KCXJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oICJ8IiApICk7DQoNCgkvKiBDb250YWlucw0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8NCgloYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7DQoNCgkvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXINCgkvLyBQdXJwb3NlZnVsbHkgc2VsZi1leGNsdXNpdmUNCgkvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZg0KCWNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/DQoJCWZ1bmN0aW9uKCBhLCBiICkgew0KCQkJdmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSwNCgkJCQlidXAgPSBiICYmIGIucGFyZW50Tm9kZTsNCgkJCXJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKA0KCQkJCWFkb3duLmNvbnRhaW5zID8NCgkJCQkJYWRvd24uY29udGFpbnMoIGJ1cCApIDoNCgkJCQkJYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2DQoJCQkpICk7DQoJCX0gOg0KCQlmdW5jdGlvbiggYSwgYiApIHsNCgkJCWlmICggYiApIHsNCgkJCQl3aGlsZSAoICggYiA9IGIucGFyZW50Tm9kZSApICkgew0KCQkJCQlpZiAoIGIgPT09IGEgKSB7DQoJCQkJCQlyZXR1cm4gdHJ1ZTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCXJldHVybiBmYWxzZTsNCgkJfTsNCg0KCS8qIFNvcnRpbmcNCgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovDQoNCgkvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nDQoJc29ydE9yZGVyID0gaGFzQ29tcGFyZSA/DQoJZnVuY3Rpb24oIGEsIGIgKSB7DQoNCgkJLy8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWwNCgkJaWYgKCBhID09PSBiICkgew0KCQkJaGFzRHVwbGljYXRlID0gdHJ1ZTsNCgkJCXJldHVybiAwOw0KCQl9DQoNCgkJLy8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvbg0KCQl2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247DQoJCWlmICggY29tcGFyZSApIHsNCgkJCXJldHVybiBjb21wYXJlOw0KCQl9DQoNCgkJLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudA0KCQkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsNCgkJLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSAiUGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZw0KCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuDQoJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXENCgkJY29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgPw0KCQkJYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDoNCg0KCQkJLy8gT3RoZXJ3aXNlIHdlIGtub3cgdGhleSBhcmUgZGlzY29ubmVjdGVkDQoJCQkxOw0KDQoJCS8vIERpc2Nvbm5lY3RlZCBub2Rlcw0KCQlpZiAoIGNvbXBhcmUgJiAxIHx8DQoJCQkoICFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBhICkgPT09IGNvbXBhcmUgKSApIHsNCg0KCQkJLy8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50DQoJCQkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsNCgkJCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcNCgkJCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4NCgkJCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXENCgkJCWlmICggYSA9PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmVkRG9jICYmDQoJCQkJY29udGFpbnMoIHByZWZlcnJlZERvYywgYSApICkgew0KCQkJCXJldHVybiAtMTsNCgkJCX0NCg0KCQkJLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrDQoJCQkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nDQoJCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuDQoJCQkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxDQoJCQlpZiAoIGIgPT0gZG9jdW1lbnQgfHwgYi5vd25lckRvY3VtZW50ID09IHByZWZlcnJlZERvYyAmJg0KCQkJCWNvbnRhaW5zKCBwcmVmZXJyZWREb2MsIGIgKSApIHsNCgkJCQlyZXR1cm4gMTsNCgkJCX0NCg0KCQkJLy8gTWFpbnRhaW4gb3JpZ2luYWwgb3JkZXINCgkJCXJldHVybiBzb3J0SW5wdXQgPw0KCQkJCSggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDoNCgkJCQkwOw0KCQl9DQoNCgkJcmV0dXJuIGNvbXBhcmUgJiA0ID8gLTEgOiAxOw0KCX0gOg0KCWZ1bmN0aW9uKCBhLCBiICkgew0KDQoJCS8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWwNCgkJaWYgKCBhID09PSBiICkgew0KCQkJaGFzRHVwbGljYXRlID0gdHJ1ZTsNCgkJCXJldHVybiAwOw0KCQl9DQoNCgkJdmFyIGN1ciwNCgkJCWkgPSAwLA0KCQkJYXVwID0gYS5wYXJlbnROb2RlLA0KCQkJYnVwID0gYi5wYXJlbnROb2RlLA0KCQkJYXAgPSBbIGEgXSwNCgkJCWJwID0gWyBiIF07DQoNCgkJLy8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWQNCgkJaWYgKCAhYXVwIHx8ICFidXAgKSB7DQoNCgkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4Kw0KCQkJLy8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSAiUGVybWlzc2lvbiBkZW5pZWQiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZw0KCQkJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLg0KCQkJLyogZXNsaW50LWRpc2FibGUgZXFlcWVxICovDQoJCQlyZXR1cm4gYSA9PSBkb2N1bWVudCA/IC0xIDoNCgkJCQliID09IGRvY3VtZW50ID8gMSA6DQoJCQkJLyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi8NCgkJCQlhdXAgPyAtMSA6DQoJCQkJYnVwID8gMSA6DQoJCQkJc29ydElucHV0ID8NCgkJCQkoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6DQoJCQkJMDsNCg0KCQkvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVjaw0KCQl9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHsNCgkJCXJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTsNCgkJfQ0KDQoJCS8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uDQoJCWN1ciA9IGE7DQoJCXdoaWxlICggKCBjdXIgPSBjdXIucGFyZW50Tm9kZSApICkgew0KCQkJYXAudW5zaGlmdCggY3VyICk7DQoJCX0NCgkJY3VyID0gYjsNCgkJd2hpbGUgKCAoIGN1ciA9IGN1ci5wYXJlbnROb2RlICkgKSB7DQoJCQlicC51bnNoaWZ0KCBjdXIgKTsNCgkJfQ0KDQoJCS8vIFdhbGsgZG93biB0aGUgdHJlZSBsb29raW5nIGZvciBhIGRpc2NyZXBhbmN5DQoJCXdoaWxlICggYXBbIGkgXSA9PT0gYnBbIGkgXSApIHsNCgkJCWkrKzsNCgkJfQ0KDQoJCXJldHVybiBpID8NCg0KCQkJLy8gRG8gYSBzaWJsaW5nIGNoZWNrIGlmIHRoZSBub2RlcyBoYXZlIGEgY29tbW9uIGFuY2VzdG9yDQoJCQlzaWJsaW5nQ2hlY2soIGFwWyBpIF0sIGJwWyBpIF0gKSA6DQoNCgkJCS8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdA0KCQkJLy8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrDQoJCQkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nDQoJCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuDQoJCQkvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi8NCgkJCWFwWyBpIF0gPT0gcHJlZmVycmVkRG9jID8gLTEgOg0KCQkJYnBbIGkgXSA9PSBwcmVmZXJyZWREb2MgPyAxIDoNCgkJCS8qIGVzbGludC1lbmFibGUgZXFlcWVxICovDQoJCQkwOw0KCX07DQoNCglyZXR1cm4gZG9jdW1lbnQ7DQp9Ow0KDQpTaXp6bGUubWF0Y2hlcyA9IGZ1bmN0aW9uKCBleHByLCBlbGVtZW50cyApIHsNCglyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApOw0KfTsNCg0KU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkgew0KCXNldERvY3VtZW50KCBlbGVtICk7DQoNCglpZiAoIHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yICYmIGRvY3VtZW50SXNIVE1MICYmDQoJCSFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBleHByICsgIiAiIF0gJiYNCgkJKCAhcmJ1Z2d5TWF0Y2hlcyB8fCAhcmJ1Z2d5TWF0Y2hlcy50ZXN0KCBleHByICkgKSAmJg0KCQkoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7DQoNCgkJdHJ5IHsNCgkJCXZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTsNCg0KCQkJLy8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlcw0KCQkJaWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fA0KDQoJCQkJLy8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnQNCgkJCQkvLyBmcmFnbWVudCBpbiBJRSA5DQoJCQkJZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHsNCgkJCQlyZXR1cm4gcmV0Ow0KCQkJfQ0KCQl9IGNhdGNoICggZSApIHsNCgkJCW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoIGV4cHIsIHRydWUgKTsNCgkJfQ0KCX0NCg0KCXJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7DQp9Ow0KDQpTaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHsNCg0KCS8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZA0KCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4Kw0KCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcNCgkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuDQoJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQ0KCWlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9IGRvY3VtZW50ICkgew0KCQlzZXREb2N1bWVudCggY29udGV4dCApOw0KCX0NCglyZXR1cm4gY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTsNCn07DQoNClNpenpsZS5hdHRyID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7DQoNCgkvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWQNCgkvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCsNCgkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nDQoJLy8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLg0KCS8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXENCglpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPSBkb2N1bWVudCApIHsNCgkJc2V0RG9jdW1lbnQoIGVsZW0gKTsNCgl9DQoNCgl2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLA0KDQoJCS8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KQ0KCQl2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/DQoJCQlmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOg0KCQkJdW5kZWZpbmVkOw0KDQoJcmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID8NCgkJdmFsIDoNCgkJc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzSFRNTCA/DQoJCQllbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApIDoNCgkJCSggdmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkgKSAmJiB2YWwuc3BlY2lmaWVkID8NCgkJCQl2YWwudmFsdWUgOg0KCQkJCW51bGw7DQp9Ow0KDQpTaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHsNCglyZXR1cm4gKCBzZWwgKyAiIiApLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTsNCn07DQoNClNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7DQoJdGhyb3cgbmV3IEVycm9yKCAiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIiArIG1zZyApOw0KfTsNCg0KLyoqDQogKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzDQogKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0cw0KICovDQpTaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkgew0KCXZhciBlbGVtLA0KCQlkdXBsaWNhdGVzID0gW10sDQoJCWogPSAwLA0KCQlpID0gMDsNCg0KCS8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2UNCgloYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzOw0KCXNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApOw0KCXJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7DQoNCglpZiAoIGhhc0R1cGxpY2F0ZSApIHsNCgkJd2hpbGUgKCAoIGVsZW0gPSByZXN1bHRzWyBpKysgXSApICkgew0KCQkJaWYgKCBlbGVtID09PSByZXN1bHRzWyBpIF0gKSB7DQoJCQkJaiA9IGR1cGxpY2F0ZXMucHVzaCggaSApOw0KCQkJfQ0KCQl9DQoJCXdoaWxlICggai0tICkgew0KCQkJcmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApOw0KCQl9DQoJfQ0KDQoJLy8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc29ydGluZyB0byByZWxlYXNlIG9iamVjdHMNCgkvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjUNCglzb3J0SW5wdXQgPSBudWxsOw0KDQoJcmV0dXJuIHJlc3VsdHM7DQp9Ow0KDQovKioNCiAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIHJldHJpZXZpbmcgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkgb2YgRE9NIG5vZGVzDQogKiBAcGFyYW0ge0FycmF5fEVsZW1lbnR9IGVsZW0NCiAqLw0KZ2V0VGV4dCA9IFNpenpsZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGVsZW0gKSB7DQoJdmFyIG5vZGUsDQoJCXJldCA9ICIiLA0KCQlpID0gMCwNCgkJbm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlOw0KDQoJaWYgKCAhbm9kZVR5cGUgKSB7DQoNCgkJLy8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXkNCgkJd2hpbGUgKCAoIG5vZGUgPSBlbGVtWyBpKysgXSApICkgew0KDQoJCQkvLyBEbyBub3QgdHJhdmVyc2UgY29tbWVudCBub2Rlcw0KCQkJcmV0ICs9IGdldFRleHQoIG5vZGUgKTsNCgkJfQ0KCX0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHsNCg0KCQkvLyBVc2UgdGV4dENvbnRlbnQgZm9yIGVsZW1lbnRzDQoJCS8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpDQoJCWlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09ICJzdHJpbmciICkgew0KCQkJcmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7DQoJCX0gZWxzZSB7DQoNCgkJCS8vIFRyYXZlcnNlIGl0cyBjaGlsZHJlbg0KCQkJZm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7DQoJCQkJcmV0ICs9IGdldFRleHQoIGVsZW0gKTsNCgkJCX0NCgkJfQ0KCX0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkgew0KCQlyZXR1cm4gZWxlbS5ub2RlVmFsdWU7DQoJfQ0KDQoJLy8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzDQoNCglyZXR1cm4gcmV0Ow0KfTsNCg0KRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7DQoNCgkvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXINCgljYWNoZUxlbmd0aDogNTAsDQoNCgljcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbiwNCg0KCW1hdGNoOiBtYXRjaEV4cHIsDQoNCglhdHRySGFuZGxlOiB7fSwNCg0KCWZpbmQ6IHt9LA0KDQoJcmVsYXRpdmU6IHsNCgkJIj4iOiB7IGRpcjogInBhcmVudE5vZGUiLCBmaXJzdDogdHJ1ZSB9LA0KCQkiICI6IHsgZGlyOiAicGFyZW50Tm9kZSIgfSwNCgkJIisiOiB7IGRpcjogInByZXZpb3VzU2libGluZyIsIGZpcnN0OiB0cnVlIH0sDQoJCSJ+IjogeyBkaXI6ICJwcmV2aW91c1NpYmxpbmciIH0NCgl9LA0KDQoJcHJlRmlsdGVyOiB7DQoJCSJBVFRSIjogZnVuY3Rpb24oIG1hdGNoICkgew0KCQkJbWF0Y2hbIDEgXSA9IG1hdGNoWyAxIF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTsNCg0KCQkJLy8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWQNCgkJCW1hdGNoWyAzIF0gPSAoIG1hdGNoWyAzIF0gfHwgbWF0Y2hbIDQgXSB8fA0KCQkJCW1hdGNoWyA1IF0gfHwgIiIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApOw0KDQoJCQlpZiAoIG1hdGNoWyAyIF0gPT09ICJ+PSIgKSB7DQoJCQkJbWF0Y2hbIDMgXSA9ICIgIiArIG1hdGNoWyAzIF0gKyAiICI7DQoJCQl9DQoNCgkJCXJldHVybiBtYXRjaC5zbGljZSggMCwgNCApOw0KCQl9LA0KDQoJCSJDSElMRCI6IGZ1bmN0aW9uKCBtYXRjaCApIHsNCg0KCQkJLyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwclsiQ0hJTEQiXQ0KCQkJCTEgdHlwZSAob25seXxudGh8Li4uKQ0KCQkJCTIgd2hhdCAoY2hpbGR8b2YtdHlwZSkNCgkJCQkzIGFyZ3VtZW50IChldmVufG9kZHxcZCp8XGQqbihbKy1dXGQrKT98Li4uKQ0KCQkJCTQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XGQqbnwpDQoJCQkJNSBzaWduIG9mIHhuLWNvbXBvbmVudA0KCQkJCTYgeCBvZiB4bi1jb21wb25lbnQNCgkJCQk3IHNpZ24gb2YgeS1jb21wb25lbnQNCgkJCQk4IHkgb2YgeS1jb21wb25lbnQNCgkJCSovDQoJCQltYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpOw0KDQoJCQlpZiAoIG1hdGNoWyAxIF0uc2xpY2UoIDAsIDMgKSA9PT0gIm50aCIgKSB7DQoNCgkJCQkvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudA0KCQkJCWlmICggIW1hdGNoWyAzIF0gKSB7DQoJCQkJCVNpenpsZS5lcnJvciggbWF0Y2hbIDAgXSApOw0KCQkJCX0NCg0KCQkJCS8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRA0KCQkJCS8vIHJlbWVtYmVyIHRoYXQgZmFsc2UvdHJ1ZSBjYXN0IHJlc3BlY3RpdmVseSB0byAwLzENCgkJCQltYXRjaFsgNCBdID0gKyggbWF0Y2hbIDQgXSA/DQoJCQkJCW1hdGNoWyA1IF0gKyAoIG1hdGNoWyA2IF0gfHwgMSApIDoNCgkJCQkJMiAqICggbWF0Y2hbIDMgXSA9PT0gImV2ZW4iIHx8IG1hdGNoWyAzIF0gPT09ICJvZGQiICkgKTsNCgkJCQltYXRjaFsgNSBdID0gKyggKCBtYXRjaFsgNyBdICsgbWF0Y2hbIDggXSApIHx8IG1hdGNoWyAzIF0gPT09ICJvZGQiICk7DQoNCgkJCQkvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHMNCgkJCX0gZWxzZSBpZiAoIG1hdGNoWyAzIF0gKSB7DQoJCQkJU2l6emxlLmVycm9yKCBtYXRjaFsgMCBdICk7DQoJCQl9DQoNCgkJCXJldHVybiBtYXRjaDsNCgkJfSwNCg0KCQkiUFNFVURPIjogZnVuY3Rpb24oIG1hdGNoICkgew0KCQkJdmFyIGV4Y2VzcywNCgkJCQl1bnF1b3RlZCA9ICFtYXRjaFsgNiBdICYmIG1hdGNoWyAyIF07DQoNCgkJCWlmICggbWF0Y2hFeHByWyAiQ0hJTEQiIF0udGVzdCggbWF0Y2hbIDAgXSApICkgew0KCQkJCXJldHVybiBudWxsOw0KCQkJfQ0KDQoJCQkvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pcw0KCQkJaWYgKCBtYXRjaFsgMyBdICkgew0KCQkJCW1hdGNoWyAyIF0gPSBtYXRjaFsgNCBdIHx8IG1hdGNoWyA1IF0gfHwgIiI7DQoNCgkJCS8vIFN0cmlwIGV4Y2VzcyBjaGFyYWN0ZXJzIGZyb20gdW5xdW90ZWQgYXJndW1lbnRzDQoJCQl9IGVsc2UgaWYgKCB1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QoIHVucXVvdGVkICkgJiYNCg0KCQkJCS8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpDQoJCQkJKCBleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSApICYmDQoNCgkJCQkvLyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNsb3NpbmcgcGFyZW50aGVzaXMNCgkJCQkoIGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoICIpIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGggKSApIHsNCg0KCQkJCS8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4DQoJCQkJbWF0Y2hbIDAgXSA9IG1hdGNoWyAwIF0uc2xpY2UoIDAsIGV4Y2VzcyApOw0KCQkJCW1hdGNoWyAyIF0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7DQoJCQl9DQoNCgkJCS8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KQ0KCQkJcmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7DQoJCX0NCgl9LA0KDQoJZmlsdGVyOiB7DQoNCgkJIlRBRyI6IGZ1bmN0aW9uKCBub2RlTmFtZVNlbGVjdG9yICkgew0KCQkJdmFyIG5vZGVOYW1lID0gbm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7DQoJCQlyZXR1cm4gbm9kZU5hbWVTZWxlY3RvciA9PT0gIioiID8NCgkJCQlmdW5jdGlvbigpIHsNCgkJCQkJcmV0dXJuIHRydWU7DQoJCQkJfSA6DQoJCQkJZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQkJCXJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7DQoJCQkJfTsNCgkJfSwNCg0KCQkiQ0xBU1MiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkgew0KCQkJdmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyAiICIgXTsNCg0KCQkJcmV0dXJuIHBhdHRlcm4gfHwNCgkJCQkoIHBhdHRlcm4gPSBuZXcgUmVnRXhwKCAiKF58IiArIHdoaXRlc3BhY2UgKw0KCQkJCQkiKSIgKyBjbGFzc05hbWUgKyAiKCIgKyB3aGl0ZXNwYWNlICsgInwkKSIgKSApICYmIGNsYXNzQ2FjaGUoDQoJCQkJCQljbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJCQkJCXJldHVybiBwYXR0ZXJuLnRlc3QoDQoJCQkJCQkJCXR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gInN0cmluZyIgJiYgZWxlbS5jbGFzc05hbWUgfHwNCgkJCQkJCQkJdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlICE9PSAidW5kZWZpbmVkIiAmJg0KCQkJCQkJCQkJZWxlbS5nZXRBdHRyaWJ1dGUoICJjbGFzcyIgKSB8fA0KCQkJCQkJCQkiIg0KCQkJCQkJCSk7DQoJCQkJfSApOw0KCQl9LA0KDQoJCSJBVFRSIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHsNCgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsNCgkJCQl2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTsNCg0KCQkJCWlmICggcmVzdWx0ID09IG51bGwgKSB7DQoJCQkJCXJldHVybiBvcGVyYXRvciA9PT0gIiE9IjsNCgkJCQl9DQoJCQkJaWYgKCAhb3BlcmF0b3IgKSB7DQoJCQkJCXJldHVybiB0cnVlOw0KCQkJCX0NCg0KCQkJCXJlc3VsdCArPSAiIjsNCg0KCQkJCS8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi8NCg0KCQkJCXJldHVybiBvcGVyYXRvciA9PT0gIj0iID8gcmVzdWx0ID09PSBjaGVjayA6DQoJCQkJCW9wZXJhdG9yID09PSAiIT0iID8gcmVzdWx0ICE9PSBjaGVjayA6DQoJCQkJCW9wZXJhdG9yID09PSAiXj0iID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOg0KCQkJCQlvcGVyYXRvciA9PT0gIio9IiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID4gLTEgOg0KCQkJCQlvcGVyYXRvciA9PT0gIiQ9IiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6DQoJCQkJCW9wZXJhdG9yID09PSAifj0iID8gKCAiICIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsICIgIiApICsgIiAiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDoNCgkJCQkJb3BlcmF0b3IgPT09ICJ8PSIgPyByZXN1bHQgPT09IGNoZWNrIHx8IHJlc3VsdC5zbGljZSggMCwgY2hlY2subGVuZ3RoICsgMSApID09PSBjaGVjayArICItIiA6DQoJCQkJCWZhbHNlOw0KCQkJCS8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqLw0KDQoJCQl9Ow0KCQl9LA0KDQoJCSJDSElMRCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBfYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkgew0KCQkJdmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gIm50aCIsDQoJCQkJZm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09ICJsYXN0IiwNCgkJCQlvZlR5cGUgPSB3aGF0ID09PSAib2YtdHlwZSI7DQoNCgkJCXJldHVybiBmaXJzdCA9PT0gMSAmJiBsYXN0ID09PSAwID8NCg0KCQkJCS8vIFNob3J0Y3V0IGZvciA6bnRoLSoobikNCgkJCQlmdW5jdGlvbiggZWxlbSApIHsNCgkJCQkJcmV0dXJuICEhZWxlbS5wYXJlbnROb2RlOw0KCQkJCX0gOg0KDQoJCQkJZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7DQoJCQkJCXZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsDQoJCQkJCQlkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyAibmV4dFNpYmxpbmciIDogInByZXZpb3VzU2libGluZyIsDQoJCQkJCQlwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsDQoJCQkJCQluYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwNCgkJCQkJCXVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLA0KCQkJCQkJZGlmZiA9IGZhbHNlOw0KDQoJCQkJCWlmICggcGFyZW50ICkgew0KDQoJCQkJCQkvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpDQoJCQkJCQlpZiAoIHNpbXBsZSApIHsNCgkJCQkJCQl3aGlsZSAoIGRpciApIHsNCgkJCQkJCQkJbm9kZSA9IGVsZW07DQoJCQkJCQkJCXdoaWxlICggKCBub2RlID0gbm9kZVsgZGlyIF0gKSApIHsNCgkJCQkJCQkJCWlmICggb2ZUeXBlID8NCgkJCQkJCQkJCQlub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOg0KCQkJCQkJCQkJCW5vZGUubm9kZVR5cGUgPT09IDEgKSB7DQoNCgkJCQkJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCQkJCQl9DQoJCQkJCQkJCX0NCg0KCQkJCQkJCQkvLyBSZXZlcnNlIGRpcmVjdGlvbiBmb3IgOm9ubHktKiAoaWYgd2UgaGF2ZW4ndCB5ZXQgZG9uZSBzbykNCgkJCQkJCQkJc3RhcnQgPSBkaXIgPSB0eXBlID09PSAib25seSIgJiYgIXN0YXJ0ICYmICJuZXh0U2libGluZyI7DQoJCQkJCQkJfQ0KCQkJCQkJCXJldHVybiB0cnVlOw0KCQkJCQkJfQ0KDQoJCQkJCQlzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdOw0KDQoJCQkJCQkvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YA0KCQkJCQkJaWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkgew0KDQoJCQkJCQkJLy8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4DQoNCgkJCQkJCQkvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5DQoJCQkJCQkJbm9kZSA9IHBhcmVudDsNCgkJCQkJCQlvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8ICggbm9kZVsgZXhwYW5kbyBdID0ge30gKTsNCg0KCQkJCQkJCS8vIFN1cHBvcnQ6IElFIDw5IG9ubHkNCgkJCQkJCQkvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSkNCgkJCQkJCQl1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fA0KCQkJCQkJCQkoIG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9ICk7DQoNCgkJCQkJCQljYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107DQoJCQkJCQkJbm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdOw0KCQkJCQkJCWRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbIDIgXTsNCgkJCQkJCQlub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTsNCg0KCQkJCQkJCXdoaWxlICggKCBub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fA0KDQoJCQkJCQkJCS8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0DQoJCQkJCQkJCSggZGlmZiA9IG5vZGVJbmRleCA9IDAgKSB8fCBzdGFydC5wb3AoKSApICkgew0KDQoJCQkJCQkJCS8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrDQoJCQkJCQkJCWlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHsNCgkJCQkJCQkJCXVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdOw0KCQkJCQkJCQkJYnJlYWs7DQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoNCgkJCQkJCX0gZWxzZSB7DQoNCgkJCQkJCQkvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGUNCgkJCQkJCQlpZiAoIHVzZUNhY2hlICkgew0KDQoJCQkJCQkJCS8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXkNCgkJCQkJCQkJbm9kZSA9IGVsZW07DQoJCQkJCQkJCW91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKCBub2RlWyBleHBhbmRvIF0gPSB7fSApOw0KDQoJCQkJCQkJCS8vIFN1cHBvcnQ6IElFIDw5IG9ubHkNCgkJCQkJCQkJLy8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpDQoJCQkJCQkJCXVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8DQoJCQkJCQkJCQkoIG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9ICk7DQoNCgkJCQkJCQkJY2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdOw0KCQkJCQkJCQlub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07DQoJCQkJCQkJCWRpZmYgPSBub2RlSW5kZXg7DQoJCQkJCQkJfQ0KDQoJCQkJCQkJLy8geG1sIDpudGgtY2hpbGQoLi4uKQ0KCQkJCQkJCS8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLikNCgkJCQkJCQlpZiAoIGRpZmYgPT09IGZhbHNlICkgew0KDQoJCQkJCQkJCS8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0DQoJCQkJCQkJCXdoaWxlICggKCBub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fA0KCQkJCQkJCQkJKCBkaWZmID0gbm9kZUluZGV4ID0gMCApIHx8IHN0YXJ0LnBvcCgpICkgKSB7DQoNCgkJCQkJCQkJCWlmICggKCBvZlR5cGUgPw0KCQkJCQkJCQkJCW5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6DQoJCQkJCQkJCQkJbm9kZS5ub2RlVHlwZSA9PT0gMSApICYmDQoJCQkJCQkJCQkJKytkaWZmICkgew0KDQoJCQkJCQkJCQkJLy8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudA0KCQkJCQkJCQkJCWlmICggdXNlQ2FjaGUgKSB7DQoJCQkJCQkJCQkJCW91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwNCgkJCQkJCQkJCQkJCSggbm9kZVsgZXhwYW5kbyBdID0ge30gKTsNCg0KCQkJCQkJCQkJCQkvLyBTdXBwb3J0OiBJRSA8OSBvbmx5DQoJCQkJCQkJCQkJCS8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KQ0KCQkJCQkJCQkJCQl1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fA0KCQkJCQkJCQkJCQkJKCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApOw0KDQoJCQkJCQkJCQkJCXVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTsNCgkJCQkJCQkJCQl9DQoNCgkJCQkJCQkJCQlpZiAoIG5vZGUgPT09IGVsZW0gKSB7DQoJCQkJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCQkJCX0NCgkJCQkJCQkJCX0NCgkJCQkJCQkJfQ0KCQkJCQkJCX0NCgkJCQkJCX0NCg0KCQkJCQkJLy8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemUNCgkJCQkJCWRpZmYgLT0gbGFzdDsNCgkJCQkJCXJldHVybiBkaWZmID09PSBmaXJzdCB8fCAoIGRpZmYgJSBmaXJzdCA9PT0gMCAmJiBkaWZmIC8gZmlyc3QgPj0gMCApOw0KCQkJCQl9DQoJCQkJfTsNCgkJfSwNCg0KCQkiUFNFVURPIjogZnVuY3Rpb24oIHBzZXVkbywgYXJndW1lbnQgKSB7DQoNCgkJCS8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZQ0KCQkJLy8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlcw0KCQkJLy8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnMNCgkJCS8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3MNCgkJCXZhciBhcmdzLA0KCQkJCWZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHwNCgkJCQkJU2l6emxlLmVycm9yKCAidW5zdXBwb3J0ZWQgcHNldWRvOiAiICsgcHNldWRvICk7DQoNCgkJCS8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRlIHRoYXQNCgkJCS8vIGFyZ3VtZW50cyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgZmlsdGVyIGZ1bmN0aW9uDQoJCQkvLyBqdXN0IGFzIFNpenpsZSBkb2VzDQoJCQlpZiAoIGZuWyBleHBhbmRvIF0gKSB7DQoJCQkJcmV0dXJuIGZuKCBhcmd1bWVudCApOw0KCQkJfQ0KDQoJCQkvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXMNCgkJCWlmICggZm4ubGVuZ3RoID4gMSApIHsNCgkJCQlhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgIiIsIGFyZ3VtZW50IF07DQoJCQkJcmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/DQoJCQkJCW1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7DQoJCQkJCQl2YXIgaWR4LA0KCQkJCQkJCW1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSwNCgkJCQkJCQlpID0gbWF0Y2hlZC5sZW5ndGg7DQoJCQkJCQl3aGlsZSAoIGktLSApIHsNCgkJCQkJCQlpZHggPSBpbmRleE9mKCBzZWVkLCBtYXRjaGVkWyBpIF0gKTsNCgkJCQkJCQlzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFsgaSBdICk7DQoJCQkJCQl9DQoJCQkJCX0gKSA6DQoJCQkJCWZ1bmN0aW9uKCBlbGVtICkgew0KCQkJCQkJcmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7DQoJCQkJCX07DQoJCQl9DQoNCgkJCXJldHVybiBmbjsNCgkJfQ0KCX0sDQoNCglwc2V1ZG9zOiB7DQoNCgkJLy8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zDQoJCSJub3QiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWxlY3RvciApIHsNCg0KCQkJLy8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGUNCgkJCS8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nDQoJCQkvLyBzcGFjZXMgYXMgY29tYmluYXRvcnMNCgkJCXZhciBpbnB1dCA9IFtdLA0KCQkJCXJlc3VsdHMgPSBbXSwNCgkJCQltYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sICIkMSIgKSApOw0KDQoJCQlyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID8NCgkJCQltYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBfY29udGV4dCwgeG1sICkgew0KCQkJCQl2YXIgZWxlbSwNCgkJCQkJCXVubWF0Y2hlZCA9IG1hdGNoZXIoIHNlZWQsIG51bGwsIHhtbCwgW10gKSwNCgkJCQkJCWkgPSBzZWVkLmxlbmd0aDsNCg0KCQkJCQkvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgDQoJCQkJCXdoaWxlICggaS0tICkgew0KCQkJCQkJaWYgKCAoIGVsZW0gPSB1bm1hdGNoZWRbIGkgXSApICkgew0KCQkJCQkJCXNlZWRbIGkgXSA9ICEoIG1hdGNoZXNbIGkgXSA9IGVsZW0gKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0gKSA6DQoJCQkJZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7DQoJCQkJCWlucHV0WyAwIF0gPSBlbGVtOw0KCQkJCQltYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7DQoNCgkJCQkJLy8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSkNCgkJCQkJaW5wdXRbIDAgXSA9IG51bGw7DQoJCQkJCXJldHVybiAhcmVzdWx0cy5wb3AoKTsNCgkJCQl9Ow0KCQl9ICksDQoNCgkJImhhcyI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlbGVjdG9yICkgew0KCQkJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJCXJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDsNCgkJCX07DQoJCX0gKSwNCg0KCQkiY29udGFpbnMiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCB0ZXh0ICkgew0KCQkJdGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTsNCgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsNCgkJCQlyZXR1cm4gKCBlbGVtLnRleHRDb250ZW50IHx8IGdldFRleHQoIGVsZW0gKSApLmluZGV4T2YoIHRleHQgKSA+IC0xOw0KCQkJfTsNCgkJfSApLA0KDQoJCS8vICJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yDQoJCS8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlDQoJCS8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsDQoJCS8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgIi0iLg0KCQkvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS4NCgkJLy8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS4iDQoJCS8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG8NCgkJImxhbmciOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkgew0KDQoJCQkvLyBsYW5nIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyDQoJCQlpZiAoICFyaWRlbnRpZmllci50ZXN0KCBsYW5nIHx8ICIiICkgKSB7DQoJCQkJU2l6emxlLmVycm9yKCAidW5zdXBwb3J0ZWQgbGFuZzogIiArIGxhbmcgKTsNCgkJCX0NCgkJCWxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTsNCgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsNCgkJCQl2YXIgZWxlbUxhbmc7DQoJCQkJZG8gew0KCQkJCQlpZiAoICggZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/DQoJCQkJCQllbGVtLmxhbmcgOg0KCQkJCQkJZWxlbS5nZXRBdHRyaWJ1dGUoICJ4bWw6bGFuZyIgKSB8fCBlbGVtLmdldEF0dHJpYnV0ZSggImxhbmciICkgKSApIHsNCg0KCQkJCQkJZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpOw0KCQkJCQkJcmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YoIGxhbmcgKyAiLSIgKSA9PT0gMDsNCgkJCQkJfQ0KCQkJCX0gd2hpbGUgKCAoIGVsZW0gPSBlbGVtLnBhcmVudE5vZGUgKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfTsNCgkJfSApLA0KDQoJCS8vIE1pc2NlbGxhbmVvdXMNCgkJInRhcmdldCI6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7DQoJCQlyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7DQoJCX0sDQoNCgkJInJvb3QiOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJCXJldHVybiBlbGVtID09PSBkb2NFbGVtOw0KCQl9LA0KDQoJCSJmb2N1cyI6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJcmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYNCgkJCQkoICFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpICkgJiYNCgkJCQkhISggZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCApOw0KCQl9LA0KDQoJCS8vIEJvb2xlYW4gcHJvcGVydGllcw0KCQkiZW5hYmxlZCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLA0KCQkiZGlzYWJsZWQiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLA0KDQoJCSJjaGVja2VkIjogZnVuY3Rpb24oIGVsZW0gKSB7DQoNCgkJCS8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50cw0KCQkJLy8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWQNCgkJCXZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsNCgkJCXJldHVybiAoIG5vZGVOYW1lID09PSAiaW5wdXQiICYmICEhZWxlbS5jaGVja2VkICkgfHwNCgkJCQkoIG5vZGVOYW1lID09PSAib3B0aW9uIiAmJiAhIWVsZW0uc2VsZWN0ZWQgKTsNCgkJfSwNCg0KCQkic2VsZWN0ZWQiOiBmdW5jdGlvbiggZWxlbSApIHsNCg0KCQkJLy8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdA0KCQkJLy8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseQ0KCQkJaWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7DQoJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9ucw0KCQkJCWVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4Ow0KCQkJfQ0KDQoJCQlyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTsNCgkJfSwNCg0KCQkvLyBDb250ZW50cw0KCQkiZW1wdHkiOiBmdW5jdGlvbiggZWxlbSApIHsNCg0KCQkJLy8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG8NCgkJCS8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSwNCgkJCS8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pDQoJCQkvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuDQoJCQlmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHsNCgkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkgew0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KCQkJfQ0KCQkJcmV0dXJuIHRydWU7DQoJCX0sDQoNCgkJInBhcmVudCI6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJcmV0dXJuICFFeHByLnBzZXVkb3NbICJlbXB0eSIgXSggZWxlbSApOw0KCQl9LA0KDQoJCS8vIEVsZW1lbnQvaW5wdXQgdHlwZXMNCgkJImhlYWRlciI6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJcmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApOw0KCQl9LA0KDQoJCSJpbnB1dCI6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJcmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApOw0KCQl9LA0KDQoJCSJidXR0b24iOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJCXZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOw0KCQkJcmV0dXJuIG5hbWUgPT09ICJpbnB1dCIgJiYgZWxlbS50eXBlID09PSAiYnV0dG9uIiB8fCBuYW1lID09PSAiYnV0dG9uIjsNCgkJfSwNCg0KCQkidGV4dCI6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJdmFyIGF0dHI7DQoJCQlyZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAiaW5wdXQiICYmDQoJCQkJZWxlbS50eXBlID09PSAidGV4dCIgJiYNCg0KCQkJCS8vIFN1cHBvcnQ6IElFPDgNCgkJCQkvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgInNlYXJjaCIpIGFwcGVhciB3aXRoIGVsZW0udHlwZSA9PT0gInRleHQiDQoJCQkJKCAoIGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZSggInR5cGUiICkgKSA9PSBudWxsIHx8DQoJCQkJCWF0dHIudG9Mb3dlckNhc2UoKSA9PT0gInRleHQiICk7DQoJCX0sDQoNCgkJLy8gUG9zaXRpb24taW4tY29sbGVjdGlvbg0KCQkiZmlyc3QiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbigpIHsNCgkJCXJldHVybiBbIDAgXTsNCgkJfSApLA0KDQoJCSJsYXN0IjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIF9tYXRjaEluZGV4ZXMsIGxlbmd0aCApIHsNCgkJCXJldHVybiBbIGxlbmd0aCAtIDEgXTsNCgkJfSApLA0KDQoJCSJlcSI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBfbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkgew0KCQkJcmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdOw0KCQl9ICksDQoNCgkJImV2ZW4iOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7DQoJCQl2YXIgaSA9IDA7DQoJCQlmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHsNCgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOw0KCQkJfQ0KCQkJcmV0dXJuIG1hdGNoSW5kZXhlczsNCgkJfSApLA0KDQoJCSJvZGQiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7DQoJCQl2YXIgaSA9IDE7DQoJCQlmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHsNCgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOw0KCQkJfQ0KCQkJcmV0dXJuIG1hdGNoSW5kZXhlczsNCgkJfSApLA0KDQoJCSJsdCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7DQoJCQl2YXIgaSA9IGFyZ3VtZW50IDwgMCA/DQoJCQkJYXJndW1lbnQgKyBsZW5ndGggOg0KCQkJCWFyZ3VtZW50ID4gbGVuZ3RoID8NCgkJCQkJbGVuZ3RoIDoNCgkJCQkJYXJndW1lbnQ7DQoJCQlmb3IgKCA7IC0taSA+PSAwOyApIHsNCgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOw0KCQkJfQ0KCQkJcmV0dXJuIG1hdGNoSW5kZXhlczsNCgkJfSApLA0KDQoJCSJndCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7DQoJCQl2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7DQoJCQlmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7DQoJCQkJbWF0Y2hJbmRleGVzLnB1c2goIGkgKTsNCgkJCX0NCgkJCXJldHVybiBtYXRjaEluZGV4ZXM7DQoJCX0gKQ0KCX0NCn07DQoNCkV4cHIucHNldWRvc1sgIm50aCIgXSA9IEV4cHIucHNldWRvc1sgImVxIiBdOw0KDQovLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvcw0KZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7DQoJRXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApOw0KfQ0KZm9yICggaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgcmVzZXQ6IHRydWUgfSApIHsNCglFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApOw0KfQ0KDQovLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnMNCmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fQ0Kc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7DQpFeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpOw0KDQp0b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkgew0KCXZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLA0KCQlzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLA0KCQljYWNoZWQgPSB0b2tlbkNhY2hlWyBzZWxlY3RvciArICIgIiBdOw0KDQoJaWYgKCBjYWNoZWQgKSB7DQoJCXJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7DQoJfQ0KDQoJc29GYXIgPSBzZWxlY3RvcjsNCglncm91cHMgPSBbXTsNCglwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7DQoNCgl3aGlsZSAoIHNvRmFyICkgew0KDQoJCS8vIENvbW1hIGFuZCBmaXJzdCBydW4NCgkJaWYgKCAhbWF0Y2hlZCB8fCAoIG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkgKSApIHsNCgkJCWlmICggbWF0Y2ggKSB7DQoNCgkJCQkvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZA0KCQkJCXNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWyAwIF0ubGVuZ3RoICkgfHwgc29GYXI7DQoJCQl9DQoJCQlncm91cHMucHVzaCggKCB0b2tlbnMgPSBbXSApICk7DQoJCX0NCg0KCQltYXRjaGVkID0gZmFsc2U7DQoNCgkJLy8gQ29tYmluYXRvcnMNCgkJaWYgKCAoIG1hdGNoID0gcmNvbWJpbmF0b3JzLmV4ZWMoIHNvRmFyICkgKSApIHsNCgkJCW1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpOw0KCQkJdG9rZW5zLnB1c2goIHsNCgkJCQl2YWx1ZTogbWF0Y2hlZCwNCg0KCQkJCS8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZQ0KCQkJCXR5cGU6IG1hdGNoWyAwIF0ucmVwbGFjZSggcnRyaW0sICIgIiApDQoJCQl9ICk7DQoJCQlzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApOw0KCQl9DQoNCgkJLy8gRmlsdGVycw0KCQlmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkgew0KCQkJaWYgKCAoIG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSApICYmICggIXByZUZpbHRlcnNbIHR5cGUgXSB8fA0KCQkJCSggbWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkgKSApICkgew0KCQkJCW1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpOw0KCQkJCXRva2Vucy5wdXNoKCB7DQoJCQkJCXZhbHVlOiBtYXRjaGVkLA0KCQkJCQl0eXBlOiB0eXBlLA0KCQkJCQltYXRjaGVzOiBtYXRjaA0KCQkJCX0gKTsNCgkJCQlzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApOw0KCQkJfQ0KCQl9DQoNCgkJaWYgKCAhbWF0Y2hlZCApIHsNCgkJCWJyZWFrOw0KCQl9DQoJfQ0KDQoJLy8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzDQoJLy8gaWYgd2UncmUganVzdCBwYXJzaW5nDQoJLy8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zDQoJcmV0dXJuIHBhcnNlT25seSA/DQoJCXNvRmFyLmxlbmd0aCA6DQoJCXNvRmFyID8NCgkJCVNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6DQoNCgkJCS8vIENhY2hlIHRoZSB0b2tlbnMNCgkJCXRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApOw0KfTsNCg0KZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkgew0KCXZhciBpID0gMCwNCgkJbGVuID0gdG9rZW5zLmxlbmd0aCwNCgkJc2VsZWN0b3IgPSAiIjsNCglmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsNCgkJc2VsZWN0b3IgKz0gdG9rZW5zWyBpIF0udmFsdWU7DQoJfQ0KCXJldHVybiBzZWxlY3RvcjsNCn0NCg0KZnVuY3Rpb24gYWRkQ29tYmluYXRvciggbWF0Y2hlciwgY29tYmluYXRvciwgYmFzZSApIHsNCgl2YXIgZGlyID0gY29tYmluYXRvci5kaXIsDQoJCXNraXAgPSBjb21iaW5hdG9yLm5leHQsDQoJCWtleSA9IHNraXAgfHwgZGlyLA0KCQljaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09ICJwYXJlbnROb2RlIiwNCgkJZG9uZU5hbWUgPSBkb25lKys7DQoNCglyZXR1cm4gY29tYmluYXRvci5maXJzdCA/DQoNCgkJLy8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50DQoJCWZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7DQoJCQl3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7DQoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7DQoJCQkJCXJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTsNCgkJCQl9DQoJCQl9DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0gOg0KDQoJCS8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50cw0KCQlmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkgew0KCQkJdmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwNCgkJCQluZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTsNCg0KCQkJLy8gV2UgY2FuJ3Qgc2V0IGFyYml0cmFyeSBkYXRhIG9uIFhNTCBub2Rlcywgc28gdGhleSBkb24ndCBiZW5lZml0IGZyb20gY29tYmluYXRvciBjYWNoaW5nDQoJCQlpZiAoIHhtbCApIHsNCgkJCQl3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7DQoJCQkJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkgew0KCQkJCQkJaWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHsNCgkJCQkJCQlyZXR1cm4gdHJ1ZTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCX0gZWxzZSB7DQoJCQkJd2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICkgew0KCQkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHsNCgkJCQkJCW91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKCBlbGVtWyBleHBhbmRvIF0gPSB7fSApOw0KDQoJCQkJCQkvLyBTdXBwb3J0OiBJRSA8OSBvbmx5DQoJCQkJCQkvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSkNCgkJCQkJCXVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdIHx8DQoJCQkJCQkJKCBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gPSB7fSApOw0KDQoJCQkJCQlpZiAoIHNraXAgJiYgc2tpcCA9PT0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICkgew0KCQkJCQkJCWVsZW0gPSBlbGVtWyBkaXIgXSB8fCBlbGVtOw0KCQkJCQkJfSBlbHNlIGlmICggKCBvbGRDYWNoZSA9IHVuaXF1ZUNhY2hlWyBrZXkgXSApICYmDQoJCQkJCQkJb2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHsNCg0KCQkJCQkJCS8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzDQoJCQkJCQkJcmV0dXJuICggbmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0gKTsNCgkJCQkJCX0gZWxzZSB7DQoNCgkJCQkJCQkvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzDQoJCQkJCQkJdW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7DQoNCgkJCQkJCQkvLyBBIG1hdGNoIG1lYW5zIHdlJ3JlIGRvbmU7IGEgZmFpbCBtZWFucyB3ZSBoYXZlIHRvIGtlZXAgY2hlY2tpbmcNCgkJCQkJCQlpZiAoICggbmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgKSB7DQoJCQkJCQkJCXJldHVybiB0cnVlOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCXJldHVybiBmYWxzZTsNCgkJfTsNCn0NCg0KZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkgew0KCXJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID8NCgkJZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsNCgkJCXZhciBpID0gbWF0Y2hlcnMubGVuZ3RoOw0KCQkJd2hpbGUgKCBpLS0gKSB7DQoJCQkJaWYgKCAhbWF0Y2hlcnNbIGkgXSggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7DQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9DQoJCQl9DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfSA6DQoJCW1hdGNoZXJzWyAwIF07DQp9DQoNCmZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cyApIHsNCgl2YXIgaSA9IDAsDQoJCWxlbiA9IGNvbnRleHRzLmxlbmd0aDsNCglmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsNCgkJU2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbIGkgXSwgcmVzdWx0cyApOw0KCX0NCglyZXR1cm4gcmVzdWx0czsNCn0NCg0KZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHsNCgl2YXIgZWxlbSwNCgkJbmV3VW5tYXRjaGVkID0gW10sDQoJCWkgPSAwLA0KCQlsZW4gPSB1bm1hdGNoZWQubGVuZ3RoLA0KCQltYXBwZWQgPSBtYXAgIT0gbnVsbDsNCg0KCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgew0KCQlpZiAoICggZWxlbSA9IHVubWF0Y2hlZFsgaSBdICkgKSB7DQoJCQlpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHsNCgkJCQluZXdVbm1hdGNoZWQucHVzaCggZWxlbSApOw0KCQkJCWlmICggbWFwcGVkICkgew0KCQkJCQltYXAucHVzaCggaSApOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCg0KCXJldHVybiBuZXdVbm1hdGNoZWQ7DQp9DQoNCmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHsNCglpZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHsNCgkJcG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTsNCgl9DQoJaWYgKCBwb3N0RmluZGVyICYmICFwb3N0RmluZGVyWyBleHBhbmRvIF0gKSB7DQoJCXBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTsNCgl9DQoJcmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHsNCgkJdmFyIHRlbXAsIGksIGVsZW0sDQoJCQlwcmVNYXAgPSBbXSwNCgkJCXBvc3RNYXAgPSBbXSwNCgkJCXByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsDQoNCgkJCS8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0DQoJCQllbGVtcyA9IHNlZWQgfHwgbXVsdGlwbGVDb250ZXh0cygNCgkJCQlzZWxlY3RvciB8fCAiKiIsDQoJCQkJY29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCwNCgkJCQlbXQ0KCQkJKSwNCg0KCQkJLy8gUHJlZmlsdGVyIHRvIGdldCBtYXRjaGVyIGlucHV0LCBwcmVzZXJ2aW5nIGEgbWFwIGZvciBzZWVkLXJlc3VsdHMgc3luY2hyb25pemF0aW9uDQoJCQltYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID8NCgkJCQljb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6DQoJCQkJZWxlbXMsDQoNCgkJCW1hdGNoZXJPdXQgPSBtYXRjaGVyID8NCg0KCQkJCS8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsDQoJCQkJcG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgPw0KDQoJCQkJCS8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeQ0KCQkJCQlbXSA6DQoNCgkJCQkJLy8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5DQoJCQkJCXJlc3VsdHMgOg0KCQkJCW1hdGNoZXJJbjsNCg0KCQkvLyBGaW5kIHByaW1hcnkgbWF0Y2hlcw0KCQlpZiAoIG1hdGNoZXIgKSB7DQoJCQltYXRjaGVyKCBtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCApOw0KCQl9DQoNCgkJLy8gQXBwbHkgcG9zdEZpbHRlcg0KCQlpZiAoIHBvc3RGaWx0ZXIgKSB7DQoJCQl0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTsNCgkJCXBvc3RGaWx0ZXIoIHRlbXAsIFtdLCBjb250ZXh0LCB4bWwgKTsNCg0KCQkJLy8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJbg0KCQkJaSA9IHRlbXAubGVuZ3RoOw0KCQkJd2hpbGUgKCBpLS0gKSB7DQoJCQkJaWYgKCAoIGVsZW0gPSB0ZW1wWyBpIF0gKSApIHsNCgkJCQkJbWF0Y2hlck91dFsgcG9zdE1hcFsgaSBdIF0gPSAhKCBtYXRjaGVySW5bIHBvc3RNYXBbIGkgXSBdID0gZWxlbSApOw0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCWlmICggc2VlZCApIHsNCgkJCWlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7DQoJCQkJaWYgKCBwb3N0RmluZGVyICkgew0KDQoJCQkJCS8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0cw0KCQkJCQl0ZW1wID0gW107DQoJCQkJCWkgPSBtYXRjaGVyT3V0Lmxlbmd0aDsNCgkJCQkJd2hpbGUgKCBpLS0gKSB7DQoJCQkJCQlpZiAoICggZWxlbSA9IG1hdGNoZXJPdXRbIGkgXSApICkgew0KDQoJCQkJCQkJLy8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2gNCgkJCQkJCQl0ZW1wLnB1c2goICggbWF0Y2hlckluWyBpIF0gPSBlbGVtICkgKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQlwb3N0RmluZGVyKCBudWxsLCAoIG1hdGNoZXJPdXQgPSBbXSApLCB0ZW1wLCB4bWwgKTsNCgkJCQl9DQoNCgkJCQkvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZA0KCQkJCWkgPSBtYXRjaGVyT3V0Lmxlbmd0aDsNCgkJCQl3aGlsZSAoIGktLSApIHsNCgkJCQkJaWYgKCAoIGVsZW0gPSBtYXRjaGVyT3V0WyBpIF0gKSAmJg0KCQkJCQkJKCB0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFsgaSBdICkgPiAtMSApIHsNCg0KCQkJCQkJc2VlZFsgdGVtcCBdID0gISggcmVzdWx0c1sgdGVtcCBdID0gZWxlbSApOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KDQoJCS8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZA0KCQl9IGVsc2Ugew0KCQkJbWF0Y2hlck91dCA9IGNvbmRlbnNlKA0KCQkJCW1hdGNoZXJPdXQgPT09IHJlc3VsdHMgPw0KCQkJCQltYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOg0KCQkJCQltYXRjaGVyT3V0DQoJCQkpOw0KCQkJaWYgKCBwb3N0RmluZGVyICkgew0KCQkJCXBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApOw0KCQkJfSBlbHNlIHsNCgkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7DQoJCQl9DQoJCX0NCgl9ICk7DQp9DQoNCmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7DQoJdmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaiwNCgkJbGVuID0gdG9rZW5zLmxlbmd0aCwNCgkJbGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyAwIF0udHlwZSBdLA0KCQlpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbICIgIiBdLA0KCQlpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsDQoNCgkJLy8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocykNCgkJbWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQlyZXR1cm4gZWxlbSA9PT0gY2hlY2tDb250ZXh0Ow0KCQl9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksDQoJCW1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJcmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7DQoJCX0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSwNCgkJbWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7DQoJCQl2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8ICgNCgkJCQkoIGNoZWNrQ29udGV4dCA9IGNvbnRleHQgKS5ub2RlVHlwZSA/DQoJCQkJCW1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOg0KCQkJCQltYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7DQoNCgkJCS8vIEF2b2lkIGhhbmdpbmcgb250byBlbGVtZW50IChpc3N1ZSAjMjk5KQ0KCQkJY2hlY2tDb250ZXh0ID0gbnVsbDsNCgkJCXJldHVybiByZXQ7DQoJCX0gXTsNCg0KCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgew0KCQlpZiAoICggbWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgaSBdLnR5cGUgXSApICkgew0KCQkJbWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLCBtYXRjaGVyICkgXTsNCgkJfSBlbHNlIHsNCgkJCW1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zWyBpIF0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbIGkgXS5tYXRjaGVzICk7DQoNCgkJCS8vIFJldHVybiBzcGVjaWFsIHVwb24gc2VlaW5nIGEgcG9zaXRpb25hbCBtYXRjaGVyDQoJCQlpZiAoIG1hdGNoZXJbIGV4cGFuZG8gXSApIHsNCg0KCQkJCS8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlmIGFueSkgZm9yIHByb3BlciBoYW5kbGluZw0KCQkJCWogPSArK2k7DQoJCQkJZm9yICggOyBqIDwgbGVuOyBqKysgKSB7DQoJCQkJCWlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyBqIF0udHlwZSBdICkgew0KCQkJCQkJYnJlYWs7DQoJCQkJCX0NCgkJCQl9DQoJCQkJcmV0dXJuIHNldE1hdGNoZXIoDQoJCQkJCWkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLA0KCQkJCQlpID4gMSAmJiB0b1NlbGVjdG9yKA0KDQoJCQkJCS8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgDQoJCQkJCXRva2Vucw0KCQkJCQkJLnNsaWNlKCAwLCBpIC0gMSApDQoJCQkJCQkuY29uY2F0KCB7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gIiAiID8gIioiIDogIiIgfSApDQoJCQkJCSkucmVwbGFjZSggcnRyaW0sICIkMSIgKSwNCgkJCQkJbWF0Y2hlciwNCgkJCQkJaSA8IGogJiYgbWF0Y2hlckZyb21Ub2tlbnMoIHRva2Vucy5zbGljZSggaSwgaiApICksDQoJCQkJCWogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICggdG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkgKSApLA0KCQkJCQlqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApDQoJCQkJKTsNCgkJCX0NCgkJCW1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTsNCgkJfQ0KCX0NCg0KCXJldHVybiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKTsNCn0NCg0KZnVuY3Rpb24gbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkgew0KCXZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsDQoJCWJ5RWxlbWVudCA9IGVsZW1lbnRNYXRjaGVycy5sZW5ndGggPiAwLA0KCQlzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7DQoJCQl2YXIgZWxlbSwgaiwgbWF0Y2hlciwNCgkJCQltYXRjaGVkQ291bnQgPSAwLA0KCQkJCWkgPSAiMCIsDQoJCQkJdW5tYXRjaGVkID0gc2VlZCAmJiBbXSwNCgkJCQlzZXRNYXRjaGVkID0gW10sDQoJCQkJY29udGV4dEJhY2t1cCA9IG91dGVybW9zdENvbnRleHQsDQoNCgkJCQkvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVpdGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0DQoJCQkJZWxlbXMgPSBzZWVkIHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmRbICJUQUciIF0oICIqIiwgb3V0ZXJtb3N0ICksDQoNCgkJCQkvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlcg0KCQkJCWRpcnJ1bnNVbmlxdWUgPSAoIGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xICksDQoJCQkJbGVuID0gZWxlbXMubGVuZ3RoOw0KDQoJCQlpZiAoIG91dGVybW9zdCApIHsNCg0KCQkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4Kw0KCQkJCS8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgIlBlcm1pc3Npb24gZGVuaWVkIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmcNCgkJCQkvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuDQoJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQ0KCQkJCW91dGVybW9zdENvbnRleHQgPSBjb250ZXh0ID09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0Ow0KCQkJfQ0KDQoJCQkvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0cw0KCQkJLy8gU3VwcG9ydDogSUU8OSwgU2FmYXJpDQoJCQkvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogImxlbmd0aCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nIGVsZW1lbnRzIGJ5IGlkDQoJCQlmb3IgKCA7IGkgIT09IGxlbiAmJiAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT0gbnVsbDsgaSsrICkgew0KCQkJCWlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7DQoJCQkJCWogPSAwOw0KDQoJCQkJCS8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4Kw0KCQkJCQkvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhICJQZXJtaXNzaW9uIGRlbmllZCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nDQoJCQkJCS8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay4NCgkJCQkJLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQ0KCQkJCQlpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPSBkb2N1bWVudCApIHsNCgkJCQkJCXNldERvY3VtZW50KCBlbGVtICk7DQoJCQkJCQl4bWwgPSAhZG9jdW1lbnRJc0hUTUw7DQoJCQkJCX0NCgkJCQkJd2hpbGUgKCAoIG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbIGorKyBdICkgKSB7DQoJCQkJCQlpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCApICkgew0KCQkJCQkJCXJlc3VsdHMucHVzaCggZWxlbSApOw0KCQkJCQkJCWJyZWFrOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWlmICggb3V0ZXJtb3N0ICkgew0KCQkJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7DQoJCQkJCX0NCgkJCQl9DQoNCgkJCQkvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzDQoJCQkJaWYgKCBieVNldCApIHsNCg0KCQkJCQkvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzDQoJCQkJCWlmICggKCBlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSApICkgew0KCQkJCQkJbWF0Y2hlZENvdW50LS07DQoJCQkJCX0NCg0KCQkJCQkvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90DQoJCQkJCWlmICggc2VlZCApIHsNCgkJCQkJCXVubWF0Y2hlZC5wdXNoKCBlbGVtICk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoNCgkJCS8vIGBpYCBpcyBub3cgdGhlIGNvdW50IG9mIGVsZW1lbnRzIHZpc2l0ZWQgYWJvdmUsIGFuZCBhZGRpbmcgaXQgdG8gYG1hdGNoZWRDb3VudGANCgkJCS8vIG1ha2VzIHRoZSBsYXR0ZXIgbm9ubmVnYXRpdmUuDQoJCQltYXRjaGVkQ291bnQgKz0gaTsNCg0KCQkJLy8gQXBwbHkgc2V0IGZpbHRlcnMgdG8gdW5tYXRjaGVkIGVsZW1lbnRzDQoJCQkvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgDQoJCQkvLyBlcXVhbHMgYGlgKSwgdW5sZXNzIHdlIGRpZG4ndCB2aXNpdCBfYW55XyBlbGVtZW50cyBpbiB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGhhdmUNCgkJCS8vIG5vIGVsZW1lbnQgbWF0Y2hlcnMgYW5kIG5vIHNlZWQuDQoJCQkvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyAiMCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdA0KCQkJLy8gY2FzZSwgd2hpY2ggd2lsbCByZXN1bHQgaW4gYSAiMDAiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzbw0KCQkJLy8gbnVtZXJpY2FsbHkgemVyby4NCgkJCWlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkgew0KCQkJCWogPSAwOw0KCQkJCXdoaWxlICggKCBtYXRjaGVyID0gc2V0TWF0Y2hlcnNbIGorKyBdICkgKSB7DQoJCQkJCW1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7DQoJCQkJfQ0KDQoJCQkJaWYgKCBzZWVkICkgew0KDQoJCQkJCS8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmcNCgkJCQkJaWYgKCBtYXRjaGVkQ291bnQgPiAwICkgew0KCQkJCQkJd2hpbGUgKCBpLS0gKSB7DQoJCQkJCQkJaWYgKCAhKCB1bm1hdGNoZWRbIGkgXSB8fCBzZXRNYXRjaGVkWyBpIF0gKSApIHsNCgkJCQkJCQkJc2V0TWF0Y2hlZFsgaSBdID0gcG9wLmNhbGwoIHJlc3VsdHMgKTsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCg0KCQkJCQkvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlcw0KCQkJCQlzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTsNCgkJCQl9DQoNCgkJCQkvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzDQoJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApOw0KDQoJCQkJLy8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nDQoJCQkJaWYgKCBvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmDQoJCQkJCSggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkgew0KDQoJCQkJCVNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQkvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnMNCgkJCWlmICggb3V0ZXJtb3N0ICkgew0KCQkJCWRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlOw0KCQkJCW91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwOw0KCQkJfQ0KDQoJCQlyZXR1cm4gdW5tYXRjaGVkOw0KCQl9Ow0KDQoJcmV0dXJuIGJ5U2V0ID8NCgkJbWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6DQoJCXN1cGVyTWF0Y2hlcjsNCn0NCg0KY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHsNCgl2YXIgaSwNCgkJc2V0TWF0Y2hlcnMgPSBbXSwNCgkJZWxlbWVudE1hdGNoZXJzID0gW10sDQoJCWNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgIiAiIF07DQoNCglpZiAoICFjYWNoZWQgKSB7DQoNCgkJLy8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50DQoJCWlmICggIW1hdGNoICkgew0KCQkJbWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTsNCgkJfQ0KCQlpID0gbWF0Y2gubGVuZ3RoOw0KCQl3aGlsZSAoIGktLSApIHsNCgkJCWNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFsgaSBdICk7DQoJCQlpZiAoIGNhY2hlZFsgZXhwYW5kbyBdICkgew0KCQkJCXNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApOw0KCQkJfSBlbHNlIHsNCgkJCQllbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7DQoJCQl9DQoJCX0NCg0KCQkvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24NCgkJY2FjaGVkID0gY29tcGlsZXJDYWNoZSgNCgkJCXNlbGVjdG9yLA0KCQkJbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkNCgkJKTsNCg0KCQkvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb24NCgkJY2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7DQoJfQ0KCXJldHVybiBjYWNoZWQ7DQp9Ow0KDQovKioNCiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWQNCiAqICBzZWxlY3RvciBmdW5jdGlvbnMNCiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkDQogKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZQ0KICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0DQogKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c10NCiAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0DQogKi8NCnNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7DQoJdmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsDQoJCWNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSAiZnVuY3Rpb24iICYmIHNlbGVjdG9yLA0KCQltYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoIHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IgKSApOw0KDQoJcmVzdWx0cyA9IHJlc3VsdHMgfHwgW107DQoNCgkvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZA0KCS8vICh0aGUgbGF0dGVyIG9mIHdoaWNoIGd1YXJhbnRlZXMgdXMgY29udGV4dCkNCglpZiAoIG1hdGNoLmxlbmd0aCA9PT0gMSApIHsNCg0KCQkvLyBSZWR1Y2UgY29udGV4dCBpZiB0aGUgbGVhZGluZyBjb21wb3VuZCBzZWxlY3RvciBpcyBhbiBJRA0KCQl0b2tlbnMgPSBtYXRjaFsgMCBdID0gbWF0Y2hbIDAgXS5zbGljZSggMCApOw0KCQlpZiAoIHRva2Vucy5sZW5ndGggPiAyICYmICggdG9rZW4gPSB0b2tlbnNbIDAgXSApLnR5cGUgPT09ICJJRCIgJiYNCgkJCWNvbnRleHQubm9kZVR5cGUgPT09IDkgJiYgZG9jdW1lbnRJc0hUTUwgJiYgRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyAxIF0udHlwZSBdICkgew0KDQoJCQljb250ZXh0ID0gKCBFeHByLmZpbmRbICJJRCIgXSggdG9rZW4ubWF0Y2hlc1sgMCBdDQoJCQkJLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksIGNvbnRleHQgKSB8fCBbXSApWyAwIF07DQoJCQlpZiAoICFjb250ZXh0ICkgew0KCQkJCXJldHVybiByZXN1bHRzOw0KDQoJCQkvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsDQoJCQl9IGVsc2UgaWYgKCBjb21waWxlZCApIHsNCgkJCQljb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlOw0KCQkJfQ0KDQoJCQlzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTsNCgkJfQ0KDQoJCS8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmcNCgkJaSA9IG1hdGNoRXhwclsgIm5lZWRzQ29udGV4dCIgXS50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7DQoJCXdoaWxlICggaS0tICkgew0KCQkJdG9rZW4gPSB0b2tlbnNbIGkgXTsNCg0KCQkJLy8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvcg0KCQkJaWYgKCBFeHByLnJlbGF0aXZlWyAoIHR5cGUgPSB0b2tlbi50eXBlICkgXSApIHsNCgkJCQlicmVhazsNCgkJCX0NCgkJCWlmICggKCBmaW5kID0gRXhwci5maW5kWyB0eXBlIF0gKSApIHsNCg0KCQkJCS8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9ycw0KCQkJCWlmICggKCBzZWVkID0gZmluZCgNCgkJCQkJdG9rZW4ubWF0Y2hlc1sgMCBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksDQoJCQkJCXJzaWJsaW5nLnRlc3QoIHRva2Vuc1sgMCBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwNCgkJCQkJCWNvbnRleHQNCgkJCQkpICkgKSB7DQoNCgkJCQkJLy8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMgcmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5DQoJCQkJCXRva2Vucy5zcGxpY2UoIGksIDEgKTsNCgkJCQkJc2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTsNCgkJCQkJaWYgKCAhc2VsZWN0b3IgKSB7DQoJCQkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7DQoJCQkJCQlyZXR1cm4gcmVzdWx0czsNCgkJCQkJfQ0KDQoJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCg0KCS8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rpb24gaWYgb25lIGlzIG5vdCBwcm92aWRlZA0KCS8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmUNCgkoIGNvbXBpbGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoDQoJCXNlZWQsDQoJCWNvbnRleHQsDQoJCSFkb2N1bWVudElzSFRNTCwNCgkJcmVzdWx0cywNCgkJIWNvbnRleHQgfHwgcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dA0KCSk7DQoJcmV0dXJuIHJlc3VsdHM7DQp9Ow0KDQovLyBPbmUtdGltZSBhc3NpZ25tZW50cw0KDQovLyBTb3J0IHN0YWJpbGl0eQ0Kc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdCggIiIgKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKCAiIiApID09PSBleHBhbmRvOw0KDQovLyBTdXBwb3J0OiBDaHJvbWUgMTQtMzUrDQovLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uDQpzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTsNCg0KLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50DQpzZXREb2N1bWVudCgpOw0KDQovLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KQ0KLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqDQpzdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkgew0KDQoJLy8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpDQoJcmV0dXJuIGVsLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZmllbGRzZXQiICkgKSAmIDE7DQp9ICk7DQoNCi8vIFN1cHBvcnQ6IElFPDgNCi8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5ICJpbnRlcnBvbGF0aW9uIg0KLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHgNCmlmICggIWFzc2VydCggZnVuY3Rpb24oIGVsICkgew0KCWVsLmlubmVySFRNTCA9ICI8YSBocmVmPScjJz48L2E+IjsNCglyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoICJocmVmIiApID09PSAiIyI7DQp9ICkgKSB7DQoJYWRkSGFuZGxlKCAidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHsNCgkJaWYgKCAhaXNYTUwgKSB7DQoJCQlyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gInR5cGUiID8gMSA6IDIgKTsNCgkJfQ0KCX0gKTsNCn0NCg0KLy8gU3VwcG9ydDogSUU8OQ0KLy8gVXNlIGRlZmF1bHRWYWx1ZSBpbiBwbGFjZSBvZiBnZXRBdHRyaWJ1dGUoInZhbHVlIikNCmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7DQoJZWwuaW5uZXJIVE1MID0gIjxpbnB1dC8+IjsNCgllbC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggInZhbHVlIiwgIiIgKTsNCglyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoICJ2YWx1ZSIgKSA9PT0gIiI7DQp9ICkgKSB7DQoJYWRkSGFuZGxlKCAidmFsdWUiLCBmdW5jdGlvbiggZWxlbSwgX25hbWUsIGlzWE1MICkgew0KCQlpZiAoICFpc1hNTCAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJpbnB1dCIgKSB7DQoJCQlyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7DQoJCX0NCgl9ICk7DQp9DQoNCi8vIFN1cHBvcnQ6IElFPDkNCi8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXMNCmlmICggIWFzc2VydCggZnVuY3Rpb24oIGVsICkgew0KCXJldHVybiBlbC5nZXRBdHRyaWJ1dGUoICJkaXNhYmxlZCIgKSA9PSBudWxsOw0KfSApICkgew0KCWFkZEhhbmRsZSggYm9vbGVhbnMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHsNCgkJdmFyIHZhbDsNCgkJaWYgKCAhaXNYTUwgKSB7DQoJCQlyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDoNCgkJCQkoIHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApICkgJiYgdmFsLnNwZWNpZmllZCA/DQoJCQkJCXZhbC52YWx1ZSA6DQoJCQkJCW51bGw7DQoJCX0NCgl9ICk7DQp9DQoNCnJldHVybiBTaXp6bGU7DQoNCn0gKSggd2luZG93ICk7DQoNCg0KDQpqUXVlcnkuZmluZCA9IFNpenpsZTsNCmpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9yczsNCg0KLy8gRGVwcmVjYXRlZA0KalF1ZXJ5LmV4cHJbICI6IiBdID0galF1ZXJ5LmV4cHIucHNldWRvczsNCmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0Ow0KalF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDsNCmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDsNCmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWluczsNCmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7DQoNCg0KDQoNCnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHsNCgl2YXIgbWF0Y2hlZCA9IFtdLA0KCQl0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7DQoNCgl3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgJiYgZWxlbS5ub2RlVHlwZSAhPT0gOSApIHsNCgkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkgew0KCQkJaWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHsNCgkJCQlicmVhazsNCgkJCX0NCgkJCW1hdGNoZWQucHVzaCggZWxlbSApOw0KCQl9DQoJfQ0KCXJldHVybiBtYXRjaGVkOw0KfTsNCg0KDQp2YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHsNCgl2YXIgbWF0Y2hlZCA9IFtdOw0KDQoJZm9yICggOyBuOyBuID0gbi5uZXh0U2libGluZyApIHsNCgkJaWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7DQoJCQltYXRjaGVkLnB1c2goIG4gKTsNCgkJfQ0KCX0NCg0KCXJldHVybiBtYXRjaGVkOw0KfTsNCg0KDQp2YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDsNCg0KDQoNCmZ1bmN0aW9uIG5vZGVOYW1lKCBlbGVtLCBuYW1lICkgew0KDQogIHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpOw0KDQp9Ow0KdmFyIHJzaW5nbGVUYWcgPSAoIC9ePChbYS16XVteXC9cMD46XHgyMFx0XHJcblxmXSopW1x4MjBcdFxyXG5cZl0qXC8/Pig/OjxcL1wxPnwpJC9pICk7DQoNCg0KDQovLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdA0KZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7DQoJaWYgKCBpc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHsNCgkJcmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7DQoJCQlyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7DQoJCX0gKTsNCgl9DQoNCgkvLyBTaW5nbGUgZWxlbWVudA0KCWlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkgew0KCQlyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHsNCgkJCXJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7DQoJCX0gKTsNCgl9DQoNCgkvLyBBcnJheWxpa2Ugb2YgZWxlbWVudHMgKGpRdWVyeSwgYXJndW1lbnRzLCBBcnJheSkNCglpZiAoIHR5cGVvZiBxdWFsaWZpZXIgIT09ICJzdHJpbmciICkgew0KCQlyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHsNCgkJCXJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3Q7DQoJCX0gKTsNCgl9DQoNCgkvLyBGaWx0ZXJlZCBkaXJlY3RseSBmb3IgYm90aCBzaW1wbGUgYW5kIGNvbXBsZXggc2VsZWN0b3JzDQoJcmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApOw0KfQ0KDQpqUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7DQoJdmFyIGVsZW0gPSBlbGVtc1sgMCBdOw0KDQoJaWYgKCBub3QgKSB7DQoJCWV4cHIgPSAiOm5vdCgiICsgZXhwciArICIpIjsNCgl9DQoNCglpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkgew0KCQlyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdOw0KCX0NCg0KCXJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzKCBleHByLCBqUXVlcnkuZ3JlcCggZWxlbXMsIGZ1bmN0aW9uKCBlbGVtICkgew0KCQlyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTsNCgl9ICkgKTsNCn07DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCglmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7DQoJCXZhciBpLCByZXQsDQoJCQlsZW4gPSB0aGlzLmxlbmd0aCwNCgkJCXNlbGYgPSB0aGlzOw0KDQoJCWlmICggdHlwZW9mIHNlbGVjdG9yICE9PSAic3RyaW5nIiApIHsNCgkJCXJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7DQoJCQkJZm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHsNCgkJCQkJaWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkgew0KCQkJCQkJcmV0dXJuIHRydWU7DQoJCQkJCX0NCgkJCQl9DQoJCQl9ICkgKTsNCgkJfQ0KDQoJCXJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApOw0KDQoJCWZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7DQoJCQlqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7DQoJCX0NCg0KCQlyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDsNCgl9LA0KCWZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkgew0KCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlICkgKTsNCgl9LA0KCW5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkgew0KCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApOw0KCX0sDQoJaXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsNCgkJcmV0dXJuICEhd2lubm93KA0KCQkJdGhpcywNCg0KCQkJLy8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldA0KCQkJLy8gc28gJCgicDpmaXJzdCIpLmlzKCJwOmxhc3QiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gInAiLg0KCQkJdHlwZW9mIHNlbGVjdG9yID09PSAic3RyaW5nIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgPw0KCQkJCWpRdWVyeSggc2VsZWN0b3IgKSA6DQoJCQkJc2VsZWN0b3IgfHwgW10sDQoJCQlmYWxzZQ0KCQkpLmxlbmd0aDsNCgl9DQp9ICk7DQoNCg0KLy8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3QNCg0KDQovLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudCkNCnZhciByb290alF1ZXJ5LA0KDQoJLy8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3MNCgkvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpDQoJLy8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKCMxMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpDQoJLy8gU2hvcnRjdXQgc2ltcGxlICNpZCBjYXNlIGZvciBzcGVlZA0KCXJxdWlja0V4cHIgPSAvXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSspKSQvLA0KDQoJaW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByb290ICkgew0KCQl2YXIgbWF0Y2gsIGVsZW07DQoNCgkJLy8gSEFORExFOiAkKCIiKSwgJChudWxsKSwgJCh1bmRlZmluZWQpLCAkKGZhbHNlKQ0KCQlpZiAoICFzZWxlY3RvciApIHsNCgkJCXJldHVybiB0aGlzOw0KCQl9DQoNCgkJLy8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5DQoJCS8vIHNvIG1pZ3JhdGUgY2FuIHN1cHBvcnQgalF1ZXJ5LnN1YiAoZ2gtMjEwMSkNCgkJcm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTsNCg0KCQkvLyBIYW5kbGUgSFRNTCBzdHJpbmdzDQoJCWlmICggdHlwZW9mIHNlbGVjdG9yID09PSAic3RyaW5nIiApIHsNCgkJCWlmICggc2VsZWN0b3JbIDAgXSA9PT0gIjwiICYmDQoJCQkJc2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gIj4iICYmDQoJCQkJc2VsZWN0b3IubGVuZ3RoID49IDMgKSB7DQoNCgkJCQkvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVjaw0KCQkJCW1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdOw0KDQoJCQl9IGVsc2Ugew0KCQkJCW1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApOw0KCQkJfQ0KDQoJCQkvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkDQoJCQlpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkgew0KDQoJCQkJLy8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpDQoJCQkJaWYgKCBtYXRjaFsgMSBdICkgew0KCQkJCQljb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbIDAgXSA6IGNvbnRleHQ7DQoNCgkJCQkJLy8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0DQoJCQkJCS8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50DQoJCQkJCWpRdWVyeS5tZXJnZSggdGhpcywgalF1ZXJ5LnBhcnNlSFRNTCgNCgkJCQkJCW1hdGNoWyAxIF0sDQoJCQkJCQljb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LA0KCQkJCQkJdHJ1ZQ0KCQkJCQkpICk7DQoNCgkJCQkJLy8gSEFORExFOiAkKGh0bWwsIHByb3BzKQ0KCQkJCQlpZiAoIHJzaW5nbGVUYWcudGVzdCggbWF0Y2hbIDEgXSApICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb250ZXh0ICkgKSB7DQoJCQkJCQlmb3IgKCBtYXRjaCBpbiBjb250ZXh0ICkgew0KDQoJCQkJCQkJLy8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZQ0KCQkJCQkJCWlmICggaXNGdW5jdGlvbiggdGhpc1sgbWF0Y2ggXSApICkgew0KCQkJCQkJCQl0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7DQoNCgkJCQkJCQkvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzDQoJCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkJdGhpcy5hdHRyKCBtYXRjaCwgY29udGV4dFsgbWF0Y2ggXSApOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KDQoJCQkJCXJldHVybiB0aGlzOw0KDQoJCQkJLy8gSEFORExFOiAkKCNpZCkNCgkJCQl9IGVsc2Ugew0KCQkJCQllbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG1hdGNoWyAyIF0gKTsNCg0KCQkJCQlpZiAoIGVsZW0gKSB7DQoNCgkJCQkJCS8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0DQoJCQkJCQl0aGlzWyAwIF0gPSBlbGVtOw0KCQkJCQkJdGhpcy5sZW5ndGggPSAxOw0KCQkJCQl9DQoJCQkJCXJldHVybiB0aGlzOw0KCQkJCX0NCg0KCQkJLy8gSEFORExFOiAkKGV4cHIsICQoLi4uKSkNCgkJCX0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkgew0KCQkJCXJldHVybiAoIGNvbnRleHQgfHwgcm9vdCApLmZpbmQoIHNlbGVjdG9yICk7DQoNCgkJCS8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KQ0KCQkJLy8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpDQoJCQl9IGVsc2Ugew0KCQkJCXJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTsNCgkJCX0NCg0KCQkvLyBIQU5ETEU6ICQoRE9NRWxlbWVudCkNCgkJfSBlbHNlIGlmICggc2VsZWN0b3Iubm9kZVR5cGUgKSB7DQoJCQl0aGlzWyAwIF0gPSBzZWxlY3RvcjsNCgkJCXRoaXMubGVuZ3RoID0gMTsNCgkJCXJldHVybiB0aGlzOw0KDQoJCS8vIEhBTkRMRTogJChmdW5jdGlvbikNCgkJLy8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5DQoJCX0gZWxzZSBpZiAoIGlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7DQoJCQlyZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID8NCgkJCQlyb290LnJlYWR5KCBzZWxlY3RvciApIDoNCg0KCQkJCS8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnQNCgkJCQlzZWxlY3RvciggalF1ZXJ5ICk7DQoJCX0NCg0KCQlyZXR1cm4galF1ZXJ5Lm1ha2VBcnJheSggc2VsZWN0b3IsIHRoaXMgKTsNCgl9Ow0KDQovLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uDQppbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjsNCg0KLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZQ0Kcm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTsNCg0KDQp2YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sDQoNCgkvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldA0KCWd1YXJhbnRlZWRVbmlxdWUgPSB7DQoJCWNoaWxkcmVuOiB0cnVlLA0KCQljb250ZW50czogdHJ1ZSwNCgkJbmV4dDogdHJ1ZSwNCgkJcHJldjogdHJ1ZQ0KCX07DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCgloYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7DQoJCXZhciB0YXJnZXRzID0galF1ZXJ5KCB0YXJnZXQsIHRoaXMgKSwNCgkJCWwgPSB0YXJnZXRzLmxlbmd0aDsNCg0KCQlyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkgew0KCQkJdmFyIGkgPSAwOw0KCQkJZm9yICggOyBpIDwgbDsgaSsrICkgew0KCQkJCWlmICggalF1ZXJ5LmNvbnRhaW5zKCB0aGlzLCB0YXJnZXRzWyBpIF0gKSApIHsNCgkJCQkJcmV0dXJuIHRydWU7DQoJCQkJfQ0KCQkJfQ0KCQl9ICk7DQoJfSwNCg0KCWNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7DQoJCXZhciBjdXIsDQoJCQlpID0gMCwNCgkJCWwgPSB0aGlzLmxlbmd0aCwNCgkJCW1hdGNoZWQgPSBbXSwNCgkJCXRhcmdldHMgPSB0eXBlb2Ygc2VsZWN0b3JzICE9PSAic3RyaW5nIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApOw0KDQoJCS8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHQNCgkJaWYgKCAhcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSApIHsNCgkJCWZvciAoIDsgaSA8IGw7IGkrKyApIHsNCgkJCQlmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkgew0KDQoJCQkJCS8vIEFsd2F5cyBza2lwIGRvY3VtZW50IGZyYWdtZW50cw0KCQkJCQlpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/DQoJCQkJCQl0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDoNCg0KCQkJCQkJLy8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlDQoJCQkJCQljdXIubm9kZVR5cGUgPT09IDEgJiYNCgkJCQkJCQlqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGN1ciwgc2VsZWN0b3JzICkgKSApIHsNCg0KCQkJCQkJbWF0Y2hlZC5wdXNoKCBjdXIgKTsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApOw0KCX0sDQoNCgkvLyBEZXRlcm1pbmUgdGhlIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgd2l0aGluIHRoZSBzZXQNCglpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7DQoNCgkJLy8gTm8gYXJndW1lbnQsIHJldHVybiBpbmRleCBpbiBwYXJlbnQNCgkJaWYgKCAhZWxlbSApIHsNCgkJCXJldHVybiAoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTsNCgkJfQ0KDQoJCS8vIEluZGV4IGluIHNlbGVjdG9yDQoJCWlmICggdHlwZW9mIGVsZW0gPT09ICJzdHJpbmciICkgew0KCQkJcmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApOw0KCQl9DQoNCgkJLy8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50DQoJCXJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsDQoNCgkJCS8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZA0KCQkJZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtDQoJCSk7DQoJfSwNCg0KCWFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkgew0KCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soDQoJCQlqUXVlcnkudW5pcXVlU29ydCgNCgkJCQlqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2VsZWN0b3IsIGNvbnRleHQgKSApDQoJCQkpDQoJCSk7DQoJfSwNCg0KCWFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsNCgkJcmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID8NCgkJCXRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yICkNCgkJKTsNCgl9DQp9ICk7DQoNCmZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkgew0KCXdoaWxlICggKCBjdXIgPSBjdXJbIGRpciBdICkgJiYgY3VyLm5vZGVUeXBlICE9PSAxICkge30NCglyZXR1cm4gY3VyOw0KfQ0KDQpqUXVlcnkuZWFjaCggew0KCXBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7DQoJCXZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7DQoJCXJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7DQoJfSwNCglwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJcmV0dXJuIGRpciggZWxlbSwgInBhcmVudE5vZGUiICk7DQoJfSwNCglwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBfaSwgdW50aWwgKSB7DQoJCXJldHVybiBkaXIoIGVsZW0sICJwYXJlbnROb2RlIiwgdW50aWwgKTsNCgl9LA0KCW5leHQ6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQlyZXR1cm4gc2libGluZyggZWxlbSwgIm5leHRTaWJsaW5nIiApOw0KCX0sDQoJcHJldjogZnVuY3Rpb24oIGVsZW0gKSB7DQoJCXJldHVybiBzaWJsaW5nKCBlbGVtLCAicHJldmlvdXNTaWJsaW5nIiApOw0KCX0sDQoJbmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7DQoJCXJldHVybiBkaXIoIGVsZW0sICJuZXh0U2libGluZyIgKTsNCgl9LA0KCXByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQlyZXR1cm4gZGlyKCBlbGVtLCAicHJldmlvdXNTaWJsaW5nIiApOw0KCX0sDQoJbmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkgew0KCQlyZXR1cm4gZGlyKCBlbGVtLCAibmV4dFNpYmxpbmciLCB1bnRpbCApOw0KCX0sDQoJcHJldlVudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkgew0KCQlyZXR1cm4gZGlyKCBlbGVtLCAicHJldmlvdXNTaWJsaW5nIiwgdW50aWwgKTsNCgl9LA0KCXNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJcmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTsNCgl9LA0KCWNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJcmV0dXJuIHNpYmxpbmdzKCBlbGVtLmZpcnN0Q2hpbGQgKTsNCgl9LA0KCWNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJaWYgKCBlbGVtLmNvbnRlbnREb2N1bWVudCAhPSBudWxsICYmDQoNCgkJCS8vIFN1cHBvcnQ6IElFIDExKw0KCQkJLy8gPG9iamVjdD4gZWxlbWVudHMgd2l0aCBubyBgZGF0YWAgYXR0cmlidXRlIGhhcyBhbiBvYmplY3QNCgkJCS8vIGBjb250ZW50RG9jdW1lbnRgIHdpdGggYSBgbnVsbGAgcHJvdG90eXBlLg0KCQkJZ2V0UHJvdG8oIGVsZW0uY29udGVudERvY3VtZW50ICkgKSB7DQoNCgkJCXJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudDsNCgkJfQ0KDQoJCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5LCBpT1MgNyBvbmx5LCBBbmRyb2lkIEJyb3dzZXIgPD00LjMgb25seQ0KCQkvLyBUcmVhdCB0aGUgdGVtcGxhdGUgZWxlbWVudCBhcyBhIHJlZ3VsYXIgb25lIGluIGJyb3dzZXJzIHRoYXQNCgkJLy8gZG9uJ3Qgc3VwcG9ydCBpdC4NCgkJaWYgKCBub2RlTmFtZSggZWxlbSwgInRlbXBsYXRlIiApICkgew0KCQkJZWxlbSA9IGVsZW0uY29udGVudCB8fCBlbGVtOw0KCQl9DQoNCgkJcmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApOw0KCX0NCn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHsNCglqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7DQoJCXZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7DQoNCgkJaWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSAiVW50aWwiICkgew0KCQkJc2VsZWN0b3IgPSB1bnRpbDsNCgkJfQ0KDQoJCWlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSAic3RyaW5nIiApIHsNCgkJCW1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApOw0KCQl9DQoNCgkJaWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7DQoNCgkJCS8vIFJlbW92ZSBkdXBsaWNhdGVzDQoJCQlpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7DQoJCQkJalF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTsNCgkJCX0NCg0KCQkJLy8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXMNCgkJCWlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHsNCgkJCQltYXRjaGVkLnJldmVyc2UoKTsNCgkJCX0NCgkJfQ0KDQoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApOw0KCX07DQp9ICk7DQp2YXIgcm5vdGh0bWx3aGl0ZSA9ICggL1teXHgyMFx0XHJcblxmXSsvZyApOw0KDQoNCg0KLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXMNCmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7DQoJdmFyIG9iamVjdCA9IHt9Ow0KCWpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkgew0KCQlvYmplY3RbIGZsYWcgXSA9IHRydWU7DQoJfSApOw0KCXJldHVybiBvYmplY3Q7DQp9DQoNCi8qDQogKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczoNCiAqDQogKglvcHRpb25zOiBhbiBvcHRpb25hbCBsaXN0IG9mIHNwYWNlLXNlcGFyYXRlZCBvcHRpb25zIHRoYXQgd2lsbCBjaGFuZ2UgaG93DQogKgkJCXRoZSBjYWxsYmFjayBsaXN0IGJlaGF2ZXMgb3IgYSBtb3JlIHRyYWRpdGlvbmFsIG9wdGlvbiBvYmplY3QNCiAqDQogKiBCeSBkZWZhdWx0IGEgY2FsbGJhY2sgbGlzdCB3aWxsIGFjdCBsaWtlIGFuIGV2ZW50IGNhbGxiYWNrIGxpc3QgYW5kIGNhbiBiZQ0KICogImZpcmVkIiBtdWx0aXBsZSB0aW1lcy4NCiAqDQogKiBQb3NzaWJsZSBvcHRpb25zOg0KICoNCiAqCW9uY2U6CQkJd2lsbCBlbnN1cmUgdGhlIGNhbGxiYWNrIGxpc3QgY2FuIG9ubHkgYmUgZmlyZWQgb25jZSAobGlrZSBhIERlZmVycmVkKQ0KICoNCiAqCW1lbW9yeToJCQl3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkDQogKgkJCQkJYWZ0ZXIgdGhlIGxpc3QgaGFzIGJlZW4gZmlyZWQgcmlnaHQgYXdheSB3aXRoIHRoZSBsYXRlc3QgIm1lbW9yaXplZCINCiAqCQkJCQl2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZCkNCiAqDQogKgl1bmlxdWU6CQkJd2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpDQogKg0KICoJc3RvcE9uRmFsc2U6CWludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZQ0KICoNCiAqLw0KalF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkgew0KDQoJLy8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZA0KCS8vICh3ZSBjaGVjayBpbiBjYWNoZSBmaXJzdCkNCglvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09ICJzdHJpbmciID8NCgkJY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDoNCgkJalF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTsNCg0KCXZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nDQoJCWZpcmluZywNCg0KCQkvLyBMYXN0IGZpcmUgdmFsdWUgZm9yIG5vbi1mb3JnZXR0YWJsZSBsaXN0cw0KCQltZW1vcnksDQoNCgkJLy8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWQNCgkJZmlyZWQsDQoNCgkJLy8gRmxhZyB0byBwcmV2ZW50IGZpcmluZw0KCQlsb2NrZWQsDQoNCgkJLy8gQWN0dWFsIGNhbGxiYWNrIGxpc3QNCgkJbGlzdCA9IFtdLA0KDQoJCS8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzDQoJCXF1ZXVlID0gW10sDQoNCgkJLy8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpDQoJCWZpcmluZ0luZGV4ID0gLTEsDQoNCgkJLy8gRmlyZSBjYWxsYmFja3MNCgkJZmlyZSA9IGZ1bmN0aW9uKCkgew0KDQoJCQkvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmcNCgkJCWxvY2tlZCA9IGxvY2tlZCB8fCBvcHRpb25zLm9uY2U7DQoNCgkJCS8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLA0KCQkJLy8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlcw0KCQkJZmlyZWQgPSBmaXJpbmcgPSB0cnVlOw0KCQkJZm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7DQoJCQkJbWVtb3J5ID0gcXVldWUuc2hpZnQoKTsNCgkJCQl3aGlsZSAoICsrZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCApIHsNCg0KCQkJCQkvLyBSdW4gY2FsbGJhY2sgYW5kIGNoZWNrIGZvciBlYXJseSB0ZXJtaW5hdGlvbg0KCQkJCQlpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJg0KCQkJCQkJb3B0aW9ucy5zdG9wT25GYWxzZSApIHsNCg0KCQkJCQkJLy8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZQ0KCQkJCQkJZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDsNCgkJCQkJCW1lbW9yeSA9IGZhbHNlOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KDQoJCQkvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0DQoJCQlpZiAoICFvcHRpb25zLm1lbW9yeSApIHsNCgkJCQltZW1vcnkgPSBmYWxzZTsNCgkJCX0NCg0KCQkJZmlyaW5nID0gZmFsc2U7DQoNCgkJCS8vIENsZWFuIHVwIGlmIHdlJ3JlIGRvbmUgZmlyaW5nIGZvciBnb29kDQoJCQlpZiAoIGxvY2tlZCApIHsNCg0KCQkJCS8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHMNCgkJCQlpZiAoIG1lbW9yeSApIHsNCgkJCQkJbGlzdCA9IFtdOw0KDQoJCQkJLy8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudA0KCQkJCX0gZWxzZSB7DQoJCQkJCWxpc3QgPSAiIjsNCgkJCQl9DQoJCQl9DQoJCX0sDQoNCgkJLy8gQWN0dWFsIENhbGxiYWNrcyBvYmplY3QNCgkJc2VsZiA9IHsNCg0KCQkJLy8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdA0KCQkJYWRkOiBmdW5jdGlvbigpIHsNCgkJCQlpZiAoIGxpc3QgKSB7DQoNCgkJCQkJLy8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmcNCgkJCQkJaWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHsNCgkJCQkJCWZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxOw0KCQkJCQkJcXVldWUucHVzaCggbWVtb3J5ICk7DQoJCQkJCX0NCg0KCQkJCQkoIGZ1bmN0aW9uIGFkZCggYXJncyApIHsNCgkJCQkJCWpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkgew0KCQkJCQkJCWlmICggaXNGdW5jdGlvbiggYXJnICkgKSB7DQoJCQkJCQkJCWlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7DQoJCQkJCQkJCQlsaXN0LnB1c2goIGFyZyApOw0KCQkJCQkJCQl9DQoJCQkJCQkJfSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgdG9UeXBlKCBhcmcgKSAhPT0gInN0cmluZyIgKSB7DQoNCgkJCQkJCQkJLy8gSW5zcGVjdCByZWN1cnNpdmVseQ0KCQkJCQkJCQlhZGQoIGFyZyApOw0KCQkJCQkJCX0NCgkJCQkJCX0gKTsNCgkJCQkJfSApKCBhcmd1bWVudHMgKTsNCg0KCQkJCQlpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkgew0KCQkJCQkJZmlyZSgpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCXJldHVybiB0aGlzOw0KCQkJfSwNCg0KCQkJLy8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdA0KCQkJcmVtb3ZlOiBmdW5jdGlvbigpIHsNCgkJCQlqUXVlcnkuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbiggXywgYXJnICkgew0KCQkJCQl2YXIgaW5kZXg7DQoJCQkJCXdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5pbkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkgew0KCQkJCQkJbGlzdC5zcGxpY2UoIGluZGV4LCAxICk7DQoNCgkJCQkJCS8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlcw0KCQkJCQkJaWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHsNCgkJCQkJCQlmaXJpbmdJbmRleC0tOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfSApOw0KCQkJCXJldHVybiB0aGlzOw0KCQkJfSwNCg0KCQkJLy8gQ2hlY2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC4NCgkJCS8vIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0dGFjaGVkLg0KCQkJaGFzOiBmdW5jdGlvbiggZm4gKSB7DQoJCQkJcmV0dXJuIGZuID8NCgkJCQkJalF1ZXJ5LmluQXJyYXkoIGZuLCBsaXN0ICkgPiAtMSA6DQoJCQkJCWxpc3QubGVuZ3RoID4gMDsNCgkJCX0sDQoNCgkJCS8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3QNCgkJCWVtcHR5OiBmdW5jdGlvbigpIHsNCgkJCQlpZiAoIGxpc3QgKSB7DQoJCQkJCWxpc3QgPSBbXTsNCgkJCQl9DQoJCQkJcmV0dXJuIHRoaXM7DQoJCQl9LA0KDQoJCQkvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkDQoJCQkvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnMNCgkJCS8vIENsZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlcw0KCQkJZGlzYWJsZTogZnVuY3Rpb24oKSB7DQoJCQkJbG9ja2VkID0gcXVldWUgPSBbXTsNCgkJCQlsaXN0ID0gbWVtb3J5ID0gIiI7DQoJCQkJcmV0dXJuIHRoaXM7DQoJCQl9LA0KCQkJZGlzYWJsZWQ6IGZ1bmN0aW9uKCkgew0KCQkJCXJldHVybiAhbGlzdDsNCgkJCX0sDQoNCgkJCS8vIERpc2FibGUgLmZpcmUNCgkJCS8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpDQoJCQkvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zDQoJCQlsb2NrOiBmdW5jdGlvbigpIHsNCgkJCQlsb2NrZWQgPSBxdWV1ZSA9IFtdOw0KCQkJCWlmICggIW1lbW9yeSAmJiAhZmlyaW5nICkgew0KCQkJCQlsaXN0ID0gbWVtb3J5ID0gIiI7DQoJCQkJfQ0KCQkJCXJldHVybiB0aGlzOw0KCQkJfSwNCgkJCWxvY2tlZDogZnVuY3Rpb24oKSB7DQoJCQkJcmV0dXJuICEhbG9ja2VkOw0KCQkJfSwNCg0KCQkJLy8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50cw0KCQkJZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkgew0KCQkJCWlmICggIWxvY2tlZCApIHsNCgkJCQkJYXJncyA9IGFyZ3MgfHwgW107DQoJCQkJCWFyZ3MgPSBbIGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07DQoJCQkJCXF1ZXVlLnB1c2goIGFyZ3MgKTsNCgkJCQkJaWYgKCAhZmlyaW5nICkgew0KCQkJCQkJZmlyZSgpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCXJldHVybiB0aGlzOw0KCQkJfSwNCg0KCQkJLy8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHMNCgkJCWZpcmU6IGZ1bmN0aW9uKCkgew0KCQkJCXNlbGYuZmlyZVdpdGgoIHRoaXMsIGFyZ3VtZW50cyApOw0KCQkJCXJldHVybiB0aGlzOw0KCQkJfSwNCg0KCQkJLy8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlDQoJCQlmaXJlZDogZnVuY3Rpb24oKSB7DQoJCQkJcmV0dXJuICEhZmlyZWQ7DQoJCQl9DQoJCX07DQoNCglyZXR1cm4gc2VsZjsNCn07DQoNCg0KZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7DQoJcmV0dXJuIHY7DQp9DQpmdW5jdGlvbiBUaHJvd2VyKCBleCApIHsNCgl0aHJvdyBleDsNCn0NCg0KZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUsIHJlamVjdCwgbm9WYWx1ZSApIHsNCgl2YXIgbWV0aG9kOw0KDQoJdHJ5IHsNCg0KCQkvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yDQoJCWlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS5wcm9taXNlICkgKSApIHsNCgkJCW1ldGhvZC5jYWxsKCB2YWx1ZSApLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKTsNCg0KCQkvLyBPdGhlciB0aGVuYWJsZXMNCgkJfSBlbHNlIGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHsNCgkJCW1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7DQoNCgkJLy8gT3RoZXIgbm9uLXRoZW5hYmxlcw0KCQl9IGVsc2Ugew0KDQoJCQkvLyBDb250cm9sIGByZXNvbHZlYCBhcmd1bWVudHMgYnkgbGV0dGluZyBBcnJheSNzbGljZSBjYXN0IGJvb2xlYW4gYG5vVmFsdWVgIHRvIGludGVnZXI6DQoJCQkvLyAqIGZhbHNlOiBbIHZhbHVlIF0uc2xpY2UoIDAgKSA9PiByZXNvbHZlKCB2YWx1ZSApDQoJCQkvLyAqIHRydWU6IFsgdmFsdWUgXS5zbGljZSggMSApID0+IHJlc29sdmUoKQ0KCQkJcmVzb2x2ZS5hcHBseSggdW5kZWZpbmVkLCBbIHZhbHVlIF0uc2xpY2UoIG5vVmFsdWUgKSApOw0KCQl9DQoNCgkvLyBGb3IgUHJvbWlzZXMvQSssIGNvbnZlcnQgZXhjZXB0aW9ucyBpbnRvIHJlamVjdGlvbnMNCgkvLyBTaW5jZSBqUXVlcnkud2hlbiBkb2Vzbid0IHVud3JhcCB0aGVuYWJsZXMsIHdlIGNhbiBza2lwIHRoZSBleHRyYSBjaGVja3MgYXBwZWFyaW5nIGluDQoJLy8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi4NCgl9IGNhdGNoICggdmFsdWUgKSB7DQoNCgkJLy8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seQ0KCQkvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0DQoJCXJlamVjdC5hcHBseSggdW5kZWZpbmVkLCBbIHZhbHVlIF0gKTsNCgl9DQp9DQoNCmpRdWVyeS5leHRlbmQoIHsNCg0KCURlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHsNCgkJdmFyIHR1cGxlcyA9IFsNCg0KCQkJCS8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsDQoJCQkJLy8gLi4uIC50aGVuIGhhbmRsZXJzLCBhcmd1bWVudCBpbmRleCwgW2ZpbmFsIHN0YXRlXQ0KCQkJCVsgIm5vdGlmeSIsICJwcm9ncmVzcyIsIGpRdWVyeS5DYWxsYmFja3MoICJtZW1vcnkiICksDQoJCQkJCWpRdWVyeS5DYWxsYmFja3MoICJtZW1vcnkiICksIDIgXSwNCgkJCQlbICJyZXNvbHZlIiwgImRvbmUiLCBqUXVlcnkuQ2FsbGJhY2tzKCAib25jZSBtZW1vcnkiICksDQoJCQkJCWpRdWVyeS5DYWxsYmFja3MoICJvbmNlIG1lbW9yeSIgKSwgMCwgInJlc29sdmVkIiBdLA0KCQkJCVsgInJlamVjdCIsICJmYWlsIiwgalF1ZXJ5LkNhbGxiYWNrcyggIm9uY2UgbWVtb3J5IiApLA0KCQkJCQlqUXVlcnkuQ2FsbGJhY2tzKCAib25jZSBtZW1vcnkiICksIDEsICJyZWplY3RlZCIgXQ0KCQkJXSwNCgkJCXN0YXRlID0gInBlbmRpbmciLA0KCQkJcHJvbWlzZSA9IHsNCgkJCQlzdGF0ZTogZnVuY3Rpb24oKSB7DQoJCQkJCXJldHVybiBzdGF0ZTsNCgkJCQl9LA0KCQkJCWFsd2F5czogZnVuY3Rpb24oKSB7DQoJCQkJCWRlZmVycmVkLmRvbmUoIGFyZ3VtZW50cyApLmZhaWwoIGFyZ3VtZW50cyApOw0KCQkJCQlyZXR1cm4gdGhpczsNCgkJCQl9LA0KCQkJCSJjYXRjaCI6IGZ1bmN0aW9uKCBmbiApIHsNCgkJCQkJcmV0dXJuIHByb21pc2UudGhlbiggbnVsbCwgZm4gKTsNCgkJCQl9LA0KDQoJCQkJLy8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdA0KCQkJCXBpcGU6IGZ1bmN0aW9uKCAvKiBmbkRvbmUsIGZuRmFpbCwgZm5Qcm9ncmVzcyAqLyApIHsNCgkJCQkJdmFyIGZucyA9IGFyZ3VtZW50czsNCg0KCQkJCQlyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7DQoJCQkJCQlqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggX2ksIHR1cGxlICkgew0KDQoJCQkJCQkJLy8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpDQoJCQkJCQkJdmFyIGZuID0gaXNGdW5jdGlvbiggZm5zWyB0dXBsZVsgNCBdIF0gKSAmJiBmbnNbIHR1cGxlWyA0IF0gXTsNCg0KCQkJCQkJCS8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KQ0KCQkJCQkJCS8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KQ0KCQkJCQkJCS8vIGRlZmVycmVkLmZhaWwoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVqZWN0IH0pDQoJCQkJCQkJZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7DQoJCQkJCQkJCXZhciByZXR1cm5lZCA9IGZuICYmIGZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTsNCgkJCQkJCQkJaWYgKCByZXR1cm5lZCAmJiBpc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7DQoJCQkJCQkJCQlyZXR1cm5lZC5wcm9taXNlKCkNCgkJCQkJCQkJCQkucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApDQoJCQkJCQkJCQkJLmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKQ0KCQkJCQkJCQkJCS5mYWlsKCBuZXdEZWZlci5yZWplY3QgKTsNCgkJCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkJCW5ld0RlZmVyWyB0dXBsZVsgMCBdICsgIldpdGgiIF0oDQoJCQkJCQkJCQkJdGhpcywNCgkJCQkJCQkJCQlmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50cw0KCQkJCQkJCQkJKTsNCgkJCQkJCQkJfQ0KCQkJCQkJCX0gKTsNCgkJCQkJCX0gKTsNCgkJCQkJCWZucyA9IG51bGw7DQoJCQkJCX0gKS5wcm9taXNlKCk7DQoJCQkJfSwNCgkJCQl0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MgKSB7DQoJCQkJCXZhciBtYXhEZXB0aCA9IDA7DQoJCQkJCWZ1bmN0aW9uIHJlc29sdmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHsNCgkJCQkJCXJldHVybiBmdW5jdGlvbigpIHsNCgkJCQkJCQl2YXIgdGhhdCA9IHRoaXMsDQoJCQkJCQkJCWFyZ3MgPSBhcmd1bWVudHMsDQoJCQkJCQkJCW1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHsNCgkJCQkJCQkJCXZhciByZXR1cm5lZCwgdGhlbjsNCg0KCQkJCQkJCQkJLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjMNCgkJCQkJCQkJCS8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU5DQoJCQkJCQkJCQkvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHMNCgkJCQkJCQkJCWlmICggZGVwdGggPCBtYXhEZXB0aCApIHsNCgkJCQkJCQkJCQlyZXR1cm47DQoJCQkJCQkJCQl9DQoNCgkJCQkJCQkJCXJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApOw0KDQoJCQkJCQkJCQkvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xDQoJCQkJCQkJCQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OA0KCQkJCQkJCQkJaWYgKCByZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkgew0KCQkJCQkJCQkJCXRocm93IG5ldyBUeXBlRXJyb3IoICJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iICk7DQoJCQkJCQkJCQl9DQoNCgkJCQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNQ0KCQkJCQkJCQkJLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTQNCgkJCQkJCQkJCS8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1DQoJCQkJCQkJCQkvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlDQoJCQkJCQkJCQl0aGVuID0gcmV0dXJuZWQgJiYNCg0KCQkJCQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjQNCgkJCQkJCQkJCQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02NA0KCQkJCQkJCQkJCS8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eQ0KCQkJCQkJCQkJCSggdHlwZW9mIHJldHVybmVkID09PSAib2JqZWN0IiB8fA0KCQkJCQkJCQkJCQl0eXBlb2YgcmV0dXJuZWQgPT09ICJmdW5jdGlvbiIgKSAmJg0KCQkJCQkJCQkJCXJldHVybmVkLnRoZW47DQoNCgkJCQkJCQkJCS8vIEhhbmRsZSBhIHJldHVybmVkIHRoZW5hYmxlDQoJCQkJCQkJCQlpZiAoIGlzRnVuY3Rpb24oIHRoZW4gKSApIHsNCg0KCQkJCQkJCQkJCS8vIFNwZWNpYWwgcHJvY2Vzc29ycyAobm90aWZ5KSBqdXN0IHdhaXQgZm9yIHJlc29sdXRpb24NCgkJCQkJCQkJCQlpZiAoIHNwZWNpYWwgKSB7DQoJCQkJCQkJCQkJCXRoZW4uY2FsbCgNCgkJCQkJCQkJCQkJCXJldHVybmVkLA0KCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLA0KCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICkNCgkJCQkJCQkJCQkJKTsNCg0KCQkJCQkJCQkJCS8vIE5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBhbHNvIGhvb2sgaW50byBwcm9ncmVzcw0KCQkJCQkJCQkJCX0gZWxzZSB7DQoNCgkJCQkJCQkJCQkJLy8gLi4uYW5kIGRpc3JlZ2FyZCBvbGRlciByZXNvbHV0aW9uIHZhbHVlcw0KCQkJCQkJCQkJCQltYXhEZXB0aCsrOw0KDQoJCQkJCQkJCQkJCXRoZW4uY2FsbCgNCgkJCQkJCQkJCQkJCXJldHVybmVkLA0KCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLA0KCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksDQoJCQkJCQkJCQkJCQlyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LA0KCQkJCQkJCQkJCQkJCWRlZmVycmVkLm5vdGlmeVdpdGggKQ0KCQkJCQkJCQkJCQkpOw0KCQkJCQkJCQkJCX0NCg0KCQkJCQkJCQkJLy8gSGFuZGxlIGFsbCBvdGhlciByZXR1cm5lZCB2YWx1ZXMNCgkJCQkJCQkJCX0gZWxzZSB7DQoNCgkJCQkJCQkJCQkvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0DQoJCQkJCQkJCQkJLy8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpDQoJCQkJCQkJCQkJaWYgKCBoYW5kbGVyICE9PSBJZGVudGl0eSApIHsNCgkJCQkJCQkJCQkJdGhhdCA9IHVuZGVmaW5lZDsNCgkJCQkJCQkJCQkJYXJncyA9IFsgcmV0dXJuZWQgXTsNCgkJCQkJCQkJCQl9DQoNCgkJCQkJCQkJCQkvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKQ0KCQkJCQkJCQkJCS8vIERlZmF1bHQgcHJvY2VzcyBpcyByZXNvbHZlDQoJCQkJCQkJCQkJKCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTsNCgkJCQkJCQkJCX0NCgkJCQkJCQkJfSwNCg0KCQkJCQkJCQkvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnMNCgkJCQkJCQkJcHJvY2VzcyA9IHNwZWNpYWwgPw0KCQkJCQkJCQkJbWlnaHRUaHJvdyA6DQoJCQkJCQkJCQlmdW5jdGlvbigpIHsNCgkJCQkJCQkJCQl0cnkgew0KCQkJCQkJCQkJCQltaWdodFRocm93KCk7DQoJCQkJCQkJCQkJfSBjYXRjaCAoIGUgKSB7DQoNCgkJCQkJCQkJCQkJaWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHsNCgkJCQkJCQkJCQkJCWpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLA0KCQkJCQkJCQkJCQkJCXByb2Nlc3Muc3RhY2tUcmFjZSApOw0KCQkJCQkJCQkJCQl9DQoNCgkJCQkJCQkJCQkJLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjQuMQ0KCQkJCQkJCQkJCQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MQ0KCQkJCQkJCQkJCQkvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnMNCgkJCQkJCQkJCQkJaWYgKCBkZXB0aCArIDEgPj0gbWF4RGVwdGggKSB7DQoNCgkJCQkJCQkJCQkJCS8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHQNCgkJCQkJCQkJCQkJCS8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKQ0KCQkJCQkJCQkJCQkJaWYgKCBoYW5kbGVyICE9PSBUaHJvd2VyICkgew0KCQkJCQkJCQkJCQkJCXRoYXQgPSB1bmRlZmluZWQ7DQoJCQkJCQkJCQkJCQkJYXJncyA9IFsgZSBdOw0KCQkJCQkJCQkJCQkJfQ0KDQoJCQkJCQkJCQkJCQlkZWZlcnJlZC5yZWplY3RXaXRoKCB0aGF0LCBhcmdzICk7DQoJCQkJCQkJCQkJCX0NCgkJCQkJCQkJCQl9DQoJCQkJCQkJCQl9Ow0KDQoJCQkJCQkJLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjENCgkJCQkJCQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01Nw0KCQkJCQkJCS8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb20NCgkJCQkJCQkvLyBzdWJzZXF1ZW50IGVycm9ycw0KCQkJCQkJCWlmICggZGVwdGggKSB7DQoJCQkJCQkJCXByb2Nlc3MoKTsNCgkJCQkJCQl9IGVsc2Ugew0KDQoJCQkJCQkJCS8vIENhbGwgYW4gb3B0aW9uYWwgaG9vayB0byByZWNvcmQgdGhlIHN0YWNrLCBpbiBjYXNlIG9mIGV4Y2VwdGlvbg0KCQkJCQkJCQkvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmMNCgkJCQkJCQkJaWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkgew0KCQkJCQkJCQkJcHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpOw0KCQkJCQkJCQl9DQoJCQkJCQkJCXdpbmRvdy5zZXRUaW1lb3V0KCBwcm9jZXNzICk7DQoJCQkJCQkJfQ0KCQkJCQkJfTsNCgkJCQkJfQ0KDQoJCQkJCXJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHsNCg0KCQkJCQkJLy8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKQ0KCQkJCQkJdHVwbGVzWyAwIF1bIDMgXS5hZGQoDQoJCQkJCQkJcmVzb2x2ZSgNCgkJCQkJCQkJMCwNCgkJCQkJCQkJbmV3RGVmZXIsDQoJCQkJCQkJCWlzRnVuY3Rpb24oIG9uUHJvZ3Jlc3MgKSA/DQoJCQkJCQkJCQlvblByb2dyZXNzIDoNCgkJCQkJCQkJCUlkZW50aXR5LA0KCQkJCQkJCQluZXdEZWZlci5ub3RpZnlXaXRoDQoJCQkJCQkJKQ0KCQkJCQkJKTsNCg0KCQkJCQkJLy8gZnVsZmlsbGVkX2hhbmRsZXJzLmFkZCggLi4uICkNCgkJCQkJCXR1cGxlc1sgMSBdWyAzIF0uYWRkKA0KCQkJCQkJCXJlc29sdmUoDQoJCQkJCQkJCTAsDQoJCQkJCQkJCW5ld0RlZmVyLA0KCQkJCQkJCQlpc0Z1bmN0aW9uKCBvbkZ1bGZpbGxlZCApID8NCgkJCQkJCQkJCW9uRnVsZmlsbGVkIDoNCgkJCQkJCQkJCUlkZW50aXR5DQoJCQkJCQkJKQ0KCQkJCQkJKTsNCg0KCQkJCQkJLy8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKQ0KCQkJCQkJdHVwbGVzWyAyIF1bIDMgXS5hZGQoDQoJCQkJCQkJcmVzb2x2ZSgNCgkJCQkJCQkJMCwNCgkJCQkJCQkJbmV3RGVmZXIsDQoJCQkJCQkJCWlzRnVuY3Rpb24oIG9uUmVqZWN0ZWQgKSA/DQoJCQkJCQkJCQlvblJlamVjdGVkIDoNCgkJCQkJCQkJCVRocm93ZXINCgkJCQkJCQkpDQoJCQkJCQkpOw0KCQkJCQl9ICkucHJvbWlzZSgpOw0KCQkJCX0sDQoNCgkJCQkvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkDQoJCQkJLy8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdA0KCQkJCXByb21pc2U6IGZ1bmN0aW9uKCBvYmogKSB7DQoJCQkJCXJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTsNCgkJCQl9DQoJCQl9LA0KCQkJZGVmZXJyZWQgPSB7fTsNCg0KCQkvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzDQoJCWpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHsNCgkJCXZhciBsaXN0ID0gdHVwbGVbIDIgXSwNCgkJCQlzdGF0ZVN0cmluZyA9IHR1cGxlWyA1IF07DQoNCgkJCS8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZA0KCQkJLy8gcHJvbWlzZS5kb25lID0gbGlzdC5hZGQNCgkJCS8vIHByb21pc2UuZmFpbCA9IGxpc3QuYWRkDQoJCQlwcm9taXNlWyB0dXBsZVsgMSBdIF0gPSBsaXN0LmFkZDsNCg0KCQkJLy8gSGFuZGxlIHN0YXRlDQoJCQlpZiAoIHN0YXRlU3RyaW5nICkgew0KCQkJCWxpc3QuYWRkKA0KCQkJCQlmdW5jdGlvbigpIHsNCg0KCQkJCQkJLy8gc3RhdGUgPSAicmVzb2x2ZWQiIChpLmUuLCBmdWxmaWxsZWQpDQoJCQkJCQkvLyBzdGF0ZSA9ICJyZWplY3RlZCINCgkJCQkJCXN0YXRlID0gc3RhdGVTdHJpbmc7DQoJCQkJCX0sDQoNCgkJCQkJLy8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGUNCgkJCQkJLy8gZnVsZmlsbGVkX2NhbGxiYWNrcy5kaXNhYmxlDQoJCQkJCXR1cGxlc1sgMyAtIGkgXVsgMiBdLmRpc2FibGUsDQoNCgkJCQkJLy8gcmVqZWN0ZWRfaGFuZGxlcnMuZGlzYWJsZQ0KCQkJCQkvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZGlzYWJsZQ0KCQkJCQl0dXBsZXNbIDMgLSBpIF1bIDMgXS5kaXNhYmxlLA0KDQoJCQkJCS8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrDQoJCQkJCXR1cGxlc1sgMCBdWyAyIF0ubG9jaywNCg0KCQkJCQkvLyBwcm9ncmVzc19oYW5kbGVycy5sb2NrDQoJCQkJCXR1cGxlc1sgMCBdWyAzIF0ubG9jaw0KCQkJCSk7DQoJCQl9DQoNCgkJCS8vIHByb2dyZXNzX2hhbmRsZXJzLmZpcmUNCgkJCS8vIGZ1bGZpbGxlZF9oYW5kbGVycy5maXJlDQoJCQkvLyByZWplY3RlZF9oYW5kbGVycy5maXJlDQoJCQlsaXN0LmFkZCggdHVwbGVbIDMgXS5maXJlICk7DQoNCgkJCS8vIGRlZmVycmVkLm5vdGlmeSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5ub3RpZnlXaXRoKC4uLikgfQ0KCQkJLy8gZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZXNvbHZlV2l0aCguLi4pIH0NCgkJCS8vIGRlZmVycmVkLnJlamVjdCA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZWplY3RXaXRoKC4uLikgfQ0KCQkJZGVmZXJyZWRbIHR1cGxlWyAwIF0gXSA9IGZ1bmN0aW9uKCkgew0KCQkJCWRlZmVycmVkWyB0dXBsZVsgMCBdICsgIldpdGgiIF0oIHRoaXMgPT09IGRlZmVycmVkID8gdW5kZWZpbmVkIDogdGhpcywgYXJndW1lbnRzICk7DQoJCQkJcmV0dXJuIHRoaXM7DQoJCQl9Ow0KDQoJCQkvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aA0KCQkJLy8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVXaXRoDQoJCQkvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aA0KCQkJZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyAiV2l0aCIgXSA9IGxpc3QuZmlyZVdpdGg7DQoJCX0gKTsNCg0KCQkvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2UNCgkJcHJvbWlzZS5wcm9taXNlKCBkZWZlcnJlZCApOw0KDQoJCS8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnkNCgkJaWYgKCBmdW5jICkgew0KCQkJZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTsNCgkJfQ0KDQoJCS8vIEFsbCBkb25lIQ0KCQlyZXR1cm4gZGVmZXJyZWQ7DQoJfSwNCg0KCS8vIERlZmVycmVkIGhlbHBlcg0KCXdoZW46IGZ1bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHsNCgkJdmFyDQoNCgkJCS8vIGNvdW50IG9mIHVuY29tcGxldGVkIHN1Ym9yZGluYXRlcw0KCQkJcmVtYWluaW5nID0gYXJndW1lbnRzLmxlbmd0aCwNCg0KCQkJLy8gY291bnQgb2YgdW5wcm9jZXNzZWQgYXJndW1lbnRzDQoJCQlpID0gcmVtYWluaW5nLA0KDQoJCQkvLyBzdWJvcmRpbmF0ZSBmdWxmaWxsbWVudCBkYXRhDQoJCQlyZXNvbHZlQ29udGV4dHMgPSBBcnJheSggaSApLA0KCQkJcmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLA0KDQoJCQkvLyB0aGUgbWFzdGVyIERlZmVycmVkDQoJCQltYXN0ZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSwNCg0KCQkJLy8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeQ0KCQkJdXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpICkgew0KCQkJCXJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7DQoJCQkJCXJlc29sdmVDb250ZXh0c1sgaSBdID0gdGhpczsNCgkJCQkJcmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlOw0KCQkJCQlpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7DQoJCQkJCQltYXN0ZXIucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApOw0KCQkJCQl9DQoJCQkJfTsNCgkJCX07DQoNCgkJLy8gU2luZ2xlLSBhbmQgZW1wdHkgYXJndW1lbnRzIGFyZSBhZG9wdGVkIGxpa2UgUHJvbWlzZS5yZXNvbHZlDQoJCWlmICggcmVtYWluaW5nIDw9IDEgKSB7DQoJCQlhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgbWFzdGVyLmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIG1hc3Rlci5yZWplY3QsDQoJCQkJIXJlbWFpbmluZyApOw0KDQoJCQkvLyBVc2UgLnRoZW4oKSB0byB1bndyYXAgc2Vjb25kYXJ5IHRoZW5hYmxlcyAoY2YuIGdoLTMwMDApDQoJCQlpZiAoIG1hc3Rlci5zdGF0ZSgpID09PSAicGVuZGluZyIgfHwNCgkJCQlpc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHsNCg0KCQkJCXJldHVybiBtYXN0ZXIudGhlbigpOw0KCQkJfQ0KCQl9DQoNCgkJLy8gTXVsdGlwbGUgYXJndW1lbnRzIGFyZSBhZ2dyZWdhdGVkIGxpa2UgUHJvbWlzZS5hbGwgYXJyYXkgZWxlbWVudHMNCgkJd2hpbGUgKCBpLS0gKSB7DQoJCQlhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgbWFzdGVyLnJlamVjdCApOw0KCQl9DQoNCgkJcmV0dXJuIG1hc3Rlci5wcm9taXNlKCk7DQoJfQ0KfSApOw0KDQoNCi8vIFRoZXNlIHVzdWFsbHkgaW5kaWNhdGUgYSBwcm9ncmFtbWVyIG1pc3Rha2UgZHVyaW5nIGRldmVsb3BtZW50LA0KLy8gd2FybiBhYm91dCB0aGVtIEFTQVAgcmF0aGVyIHRoYW4gc3dhbGxvd2luZyB0aGVtIGJ5IGRlZmF1bHQuDQp2YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLzsNCg0KalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgPSBmdW5jdGlvbiggZXJyb3IsIHN0YWNrICkgew0KDQoJLy8gU3VwcG9ydDogSUUgOCAtIDkgb25seQ0KCS8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lDQoJaWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHsNCgkJd2luZG93LmNvbnNvbGUud2FybiggImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgc3RhY2sgKTsNCgl9DQp9Ow0KDQoNCg0KDQpqUXVlcnkucmVhZHlFeGNlcHRpb24gPSBmdW5jdGlvbiggZXJyb3IgKSB7DQoJd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgew0KCQl0aHJvdyBlcnJvcjsNCgl9ICk7DQp9Ow0KDQoNCg0KDQovLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHkNCnZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTsNCg0KalF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkgew0KDQoJcmVhZHlMaXN0DQoJCS50aGVuKCBmbiApDQoNCgkJLy8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXANCgkJLy8gaGFwcGVucyBhdCB0aGUgdGltZSBvZiBlcnJvciBoYW5kbGluZyBpbnN0ZWFkIG9mIGNhbGxiYWNrDQoJCS8vIHJlZ2lzdHJhdGlvbi4NCgkJLmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7DQoJCQlqUXVlcnkucmVhZHlFeGNlcHRpb24oIGVycm9yICk7DQoJCX0gKTsNCg0KCXJldHVybiB0aGlzOw0KfTsNCg0KalF1ZXJ5LmV4dGVuZCggew0KDQoJLy8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy4NCglpc1JlYWR5OiBmYWxzZSwNCg0KCS8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmUNCgkvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MQ0KCXJlYWR5V2FpdDogMSwNCg0KCS8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHkNCglyZWFkeTogZnVuY3Rpb24oIHdhaXQgKSB7DQoNCgkJLy8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeQ0KCQlpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCS8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeQ0KCQlqUXVlcnkuaXNSZWFkeSA9IHRydWU7DQoNCgkJLy8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmUNCgkJaWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQkvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlDQoJCXJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTsNCgl9DQp9ICk7DQoNCmpRdWVyeS5yZWFkeS50aGVuID0gcmVhZHlMaXN0LnRoZW47DQoNCi8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kDQpmdW5jdGlvbiBjb21wbGV0ZWQoKSB7DQoJZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggIkRPTUNvbnRlbnRMb2FkZWQiLCBjb21wbGV0ZWQgKTsNCgl3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggImxvYWQiLCBjb21wbGV0ZWQgKTsNCglqUXVlcnkucmVhZHkoKTsNCn0NCg0KLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWQNCi8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLg0KLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seQ0KLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgImludGVyYWN0aXZlIiB0b28gc29vbg0KaWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAiY29tcGxldGUiIHx8DQoJKCBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAibG9hZGluZyIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkgew0KDQoJLy8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5DQoJd2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApOw0KDQp9IGVsc2Ugew0KDQoJLy8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFjaw0KCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICJET01Db250ZW50TG9hZGVkIiwgY29tcGxldGVkICk7DQoNCgkvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29yaw0KCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAibG9hZCIsIGNvbXBsZXRlZCApOw0KfQ0KDQoNCg0KDQovLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb24NCi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvbg0KdmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHsNCgl2YXIgaSA9IDAsDQoJCWxlbiA9IGVsZW1zLmxlbmd0aCwNCgkJYnVsayA9IGtleSA9PSBudWxsOw0KDQoJLy8gU2V0cyBtYW55IHZhbHVlcw0KCWlmICggdG9UeXBlKCBrZXkgKSA9PT0gIm9iamVjdCIgKSB7DQoJCWNoYWluYWJsZSA9IHRydWU7DQoJCWZvciAoIGkgaW4ga2V5ICkgew0KCQkJYWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7DQoJCX0NCg0KCS8vIFNldHMgb25lIHZhbHVlDQoJfSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHsNCgkJY2hhaW5hYmxlID0gdHJ1ZTsNCg0KCQlpZiAoICFpc0Z1bmN0aW9uKCB2YWx1ZSApICkgew0KCQkJcmF3ID0gdHJ1ZTsNCgkJfQ0KDQoJCWlmICggYnVsayApIHsNCg0KCQkJLy8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0DQoJCQlpZiAoIHJhdyApIHsNCgkJCQlmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTsNCgkJCQlmbiA9IG51bGw7DQoNCgkJCS8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXMNCgkJCX0gZWxzZSB7DQoJCQkJYnVsayA9IGZuOw0KCQkJCWZuID0gZnVuY3Rpb24oIGVsZW0sIF9rZXksIHZhbHVlICkgew0KCQkJCQlyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTsNCgkJCQl9Ow0KCQkJfQ0KCQl9DQoNCgkJaWYgKCBmbiApIHsNCgkJCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgew0KCQkJCWZuKA0KCQkJCQllbGVtc1sgaSBdLCBrZXksIHJhdyA/DQoJCQkJCXZhbHVlIDoNCgkJCQkJdmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApICkNCgkJCQkpOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJaWYgKCBjaGFpbmFibGUgKSB7DQoJCXJldHVybiBlbGVtczsNCgl9DQoNCgkvLyBHZXRzDQoJaWYgKCBidWxrICkgew0KCQlyZXR1cm4gZm4uY2FsbCggZWxlbXMgKTsNCgl9DQoNCglyZXR1cm4gbGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7DQp9Ow0KDQoNCi8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZw0KdmFyIHJtc1ByZWZpeCA9IC9eLW1zLS8sDQoJcmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nOw0KDQovLyBVc2VkIGJ5IGNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKCkNCmZ1bmN0aW9uIGZjYW1lbENhc2UoIF9hbGwsIGxldHRlciApIHsNCglyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7DQp9DQoNCi8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXMNCi8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTUNCi8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICgjOTU3MikNCmZ1bmN0aW9uIGNhbWVsQ2FzZSggc3RyaW5nICkgew0KCXJldHVybiBzdHJpbmcucmVwbGFjZSggcm1zUHJlZml4LCAibXMtIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTsNCn0NCnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkgew0KDQoJLy8gQWNjZXB0cyBvbmx5Og0KCS8vICAtIE5vZGUNCgkvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFDQoJLy8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREUNCgkvLyAgLSBPYmplY3QNCgkvLyAgICAtIEFueQ0KCXJldHVybiBvd25lci5ub2RlVHlwZSA9PT0gMSB8fCBvd25lci5ub2RlVHlwZSA9PT0gOSB8fCAhKCArb3duZXIubm9kZVR5cGUgKTsNCn07DQoNCg0KDQoNCmZ1bmN0aW9uIERhdGEoKSB7DQoJdGhpcy5leHBhbmRvID0galF1ZXJ5LmV4cGFuZG8gKyBEYXRhLnVpZCsrOw0KfQ0KDQpEYXRhLnVpZCA9IDE7DQoNCkRhdGEucHJvdG90eXBlID0gew0KDQoJY2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHsNCg0KCQkvLyBDaGVjayBpZiB0aGUgb3duZXIgb2JqZWN0IGFscmVhZHkgaGFzIGEgY2FjaGUNCgkJdmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdOw0KDQoJCS8vIElmIG5vdCwgY3JlYXRlIG9uZQ0KCQlpZiAoICF2YWx1ZSApIHsNCgkJCXZhbHVlID0ge307DQoNCgkJCS8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLA0KCQkJLy8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS4NCgkJCS8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0Lg0KCQkJaWYgKCBhY2NlcHREYXRhKCBvd25lciApICkgew0KDQoJCQkJLy8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3Zlcg0KCQkJCS8vIHVzZSBwbGFpbiBhc3NpZ25tZW50DQoJCQkJaWYgKCBvd25lci5ub2RlVHlwZSApIHsNCgkJCQkJb3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdmFsdWU7DQoNCgkJCQkvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkNCgkJCQkvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZQ0KCQkJCS8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWQNCgkJCQl9IGVsc2Ugew0KCQkJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoIG93bmVyLCB0aGlzLmV4cGFuZG8sIHsNCgkJCQkJCXZhbHVlOiB2YWx1ZSwNCgkJCQkJCWNvbmZpZ3VyYWJsZTogdHJ1ZQ0KCQkJCQl9ICk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJcmV0dXJuIHZhbHVlOw0KCX0sDQoJc2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkgew0KCQl2YXIgcHJvcCwNCgkJCWNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTsNCg0KCQkvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzDQoJCS8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1NykNCgkJaWYgKCB0eXBlb2YgZGF0YSA9PT0gInN0cmluZyIgKSB7DQoJCQljYWNoZVsgY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlOw0KDQoJCS8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzDQoJCX0gZWxzZSB7DQoNCgkJCS8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0DQoJCQlmb3IgKCBwcm9wIGluIGRhdGEgKSB7DQoJCQkJY2FjaGVbIGNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07DQoJCQl9DQoJCX0NCgkJcmV0dXJuIGNhY2hlOw0KCX0sDQoJZ2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHsNCgkJcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8NCgkJCXRoaXMuY2FjaGUoIG93bmVyICkgOg0KDQoJCQkvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpDQoJCQlvd25lclsgdGhpcy5leHBhbmRvIF0gJiYgb3duZXJbIHRoaXMuZXhwYW5kbyBdWyBjYW1lbENhc2UoIGtleSApIF07DQoJfSwNCglhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHsNCg0KCQkvLyBJbiBjYXNlcyB3aGVyZSBlaXRoZXI6DQoJCS8vDQoJCS8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWQNCgkJLy8gICAyLiBBIHN0cmluZyBrZXkgd2FzIHNwZWNpZmllZCwgYnV0IG5vIHZhbHVlIHByb3ZpZGVkDQoJCS8vDQoJCS8vIFRha2UgdGhlICJyZWFkIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmUNCgkJLy8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOg0KCQkvLw0KCQkvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0DQoJCS8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXkNCgkJLy8NCgkJaWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fA0KCQkJCSggKCBrZXkgJiYgdHlwZW9mIGtleSA9PT0gInN0cmluZyIgKSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgKSB7DQoNCgkJCXJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApOw0KCQl9DQoNCgkJLy8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWUNCgkJLy8gYXJlIHNwZWNpZmllZCwgc2V0IG9yIGV4dGVuZCAoZXhpc3Rpbmcgb2JqZWN0cykgd2l0aCBlaXRoZXI6DQoJCS8vDQoJCS8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXMNCgkJLy8gICAyLiBBIGtleSBhbmQgdmFsdWUNCgkJLy8NCgkJdGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7DQoNCgkJLy8gU2luY2UgdGhlICJzZXQiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50cw0KCQkvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl0NCgkJcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGtleTsNCgl9LA0KCXJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7DQoJCXZhciBpLA0KCQkJY2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07DQoNCgkJaWYgKCBjYWNoZSA9PT0gdW5kZWZpbmVkICkgew0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJaWYgKCBrZXkgIT09IHVuZGVmaW5lZCApIHsNCg0KCQkJLy8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXMNCgkJCWlmICggQXJyYXkuaXNBcnJheSgga2V5ICkgKSB7DQoNCgkJCQkvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLg0KCQkJCS8vIFdlIGFsd2F5cyBzZXQgY2FtZWxDYXNlIGtleXMsIHNvIHJlbW92ZSB0aGF0Lg0KCQkJCWtleSA9IGtleS5tYXAoIGNhbWVsQ2FzZSApOw0KCQkJfSBlbHNlIHsNCgkJCQlrZXkgPSBjYW1lbENhc2UoIGtleSApOw0KDQoJCQkJLy8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0Lg0KCQkJCS8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlDQoJCQkJa2V5ID0ga2V5IGluIGNhY2hlID8NCgkJCQkJWyBrZXkgXSA6DQoJCQkJCSgga2V5Lm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10gKTsNCgkJCX0NCg0KCQkJaSA9IGtleS5sZW5ndGg7DQoNCgkJCXdoaWxlICggaS0tICkgew0KCQkJCWRlbGV0ZSBjYWNoZVsga2V5WyBpIF0gXTsNCgkJCX0NCgkJfQ0KDQoJCS8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiB0aGVyZSdzIG5vIG1vcmUgZGF0YQ0KCQlpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkgew0KDQoJCQkvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1DQoJCQkvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllcw0KCQkJLy8gZnJvbSBET00gbm9kZXMsIHNvIHNldCB0byB1bmRlZmluZWQgaW5zdGVhZA0KCQkJLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZCkNCgkJCWlmICggb3duZXIubm9kZVR5cGUgKSB7DQoJCQkJb3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdW5kZWZpbmVkOw0KCQkJfSBlbHNlIHsNCgkJCQlkZWxldGUgb3duZXJbIHRoaXMuZXhwYW5kbyBdOw0KCQkJfQ0KCQl9DQoJfSwNCgloYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7DQoJCXZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTsNCgkJcmV0dXJuIGNhY2hlICE9PSB1bmRlZmluZWQgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApOw0KCX0NCn07DQp2YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpOw0KDQp2YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpOw0KDQoNCg0KLy8JSW1wbGVtZW50YXRpb24gU3VtbWFyeQ0KLy8NCi8vCTEuIEVuZm9yY2UgQVBJIHN1cmZhY2UgYW5kIHNlbWFudGljIGNvbXBhdGliaWxpdHkgd2l0aCAxLjkueCBicmFuY2gNCi8vCTIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZQ0KLy8JCXBhdGhzIHRvIGEgc2luZ2xlIG1lY2hhbmlzbS4NCi8vCTMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgInByaXZhdGUiIGFuZCAidXNlciIgZGF0YS4NCi8vCTQuIF9OZXZlcl8gZXhwb3NlICJwcml2YXRlIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpDQovLwk1LiBBdm9pZCBleHBvc2luZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9uIHVzZXIgb2JqZWN0cyAoZWcuIGV4cGFuZG8gcHJvcGVydGllcykNCi8vCTYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNA0KDQp2YXIgcmJyYWNlID0gL14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLywNCglybXVsdGlEYXNoID0gL1tBLVpdL2c7DQoNCmZ1bmN0aW9uIGdldERhdGEoIGRhdGEgKSB7DQoJaWYgKCBkYXRhID09PSAidHJ1ZSIgKSB7DQoJCXJldHVybiB0cnVlOw0KCX0NCg0KCWlmICggZGF0YSA9PT0gImZhbHNlIiApIHsNCgkJcmV0dXJuIGZhbHNlOw0KCX0NCg0KCWlmICggZGF0YSA9PT0gIm51bGwiICkgew0KCQlyZXR1cm4gbnVsbDsNCgl9DQoNCgkvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZw0KCWlmICggZGF0YSA9PT0gK2RhdGEgKyAiIiApIHsNCgkJcmV0dXJuICtkYXRhOw0KCX0NCg0KCWlmICggcmJyYWNlLnRlc3QoIGRhdGEgKSApIHsNCgkJcmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKTsNCgl9DQoNCglyZXR1cm4gZGF0YTsNCn0NCg0KZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHsNCgl2YXIgbmFtZTsNCg0KCS8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnkNCgkvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGUNCglpZiAoIGRhdGEgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkgew0KCQluYW1lID0gImRhdGEtIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCAiLSQmIiApLnRvTG93ZXJDYXNlKCk7DQoJCWRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApOw0KDQoJCWlmICggdHlwZW9mIGRhdGEgPT09ICJzdHJpbmciICkgew0KCQkJdHJ5IHsNCgkJCQlkYXRhID0gZ2V0RGF0YSggZGF0YSApOw0KCQkJfSBjYXRjaCAoIGUgKSB7fQ0KDQoJCQkvLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBkYXRhIHNvIGl0IGlzbid0IGNoYW5nZWQgbGF0ZXINCgkJCWRhdGFVc2VyLnNldCggZWxlbSwga2V5LCBkYXRhICk7DQoJCX0gZWxzZSB7DQoJCQlkYXRhID0gdW5kZWZpbmVkOw0KCQl9DQoJfQ0KCXJldHVybiBkYXRhOw0KfQ0KDQpqUXVlcnkuZXh0ZW5kKCB7DQoJaGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7DQoJCXJldHVybiBkYXRhVXNlci5oYXNEYXRhKCBlbGVtICkgfHwgZGF0YVByaXYuaGFzRGF0YSggZWxlbSApOw0KCX0sDQoNCglkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHsNCgkJcmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApOw0KCX0sDQoNCglyZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHsNCgkJZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7DQoJfSwNCg0KCS8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkDQoJLy8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuDQoJX2RhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkgew0KCQlyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7DQoJfSwNCg0KCV9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHsNCgkJZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBuYW1lICk7DQoJfQ0KfSApOw0KDQpqUXVlcnkuZm4uZXh0ZW5kKCB7DQoJZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7DQoJCXZhciBpLCBuYW1lLCBkYXRhLA0KCQkJZWxlbSA9IHRoaXNbIDAgXSwNCgkJCWF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7DQoNCgkJLy8gR2V0cyBhbGwgdmFsdWVzDQoJCWlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7DQoJCQlpZiAoIHRoaXMubGVuZ3RoICkgew0KCQkJCWRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0gKTsNCg0KCQkJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KCBlbGVtLCAiaGFzRGF0YUF0dHJzIiApICkgew0KCQkJCQlpID0gYXR0cnMubGVuZ3RoOw0KCQkJCQl3aGlsZSAoIGktLSApIHsNCg0KCQkJCQkJLy8gU3VwcG9ydDogSUUgMTEgb25seQ0KCQkJCQkJLy8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpDQoJCQkJCQlpZiAoIGF0dHJzWyBpIF0gKSB7DQoJCQkJCQkJbmFtZSA9IGF0dHJzWyBpIF0ubmFtZTsNCgkJCQkJCQlpZiAoIG5hbWUuaW5kZXhPZiggImRhdGEtIiApID09PSAwICkgew0KCQkJCQkJCQluYW1lID0gY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTsNCgkJCQkJCQkJZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQlkYXRhUHJpdi5zZXQoIGVsZW0sICJoYXNEYXRhQXR0cnMiLCB0cnVlICk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQlyZXR1cm4gZGF0YTsNCgkJfQ0KDQoJCS8vIFNldHMgbXVsdGlwbGUgdmFsdWVzDQoJCWlmICggdHlwZW9mIGtleSA9PT0gIm9iamVjdCIgKSB7DQoJCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsNCgkJCQlkYXRhVXNlci5zZXQoIHRoaXMsIGtleSApOw0KCQkJfSApOw0KCQl9DQoNCgkJcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkgew0KCQkJdmFyIGRhdGE7DQoNCgkJCS8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5DQoJCQkvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZQ0KCQkJLy8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3QNCgkJCS8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGwNCgkJCS8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuDQoJCQlpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHsNCg0KCQkJCS8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGUNCgkJCQkvLyBUaGUga2V5IHdpbGwgYWx3YXlzIGJlIGNhbWVsQ2FzZWQgaW4gRGF0YQ0KCQkJCWRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApOw0KCQkJCWlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkgew0KCQkJCQlyZXR1cm4gZGF0YTsNCgkJCQl9DQoNCgkJCQkvLyBBdHRlbXB0IHRvICJkaXNjb3ZlciIgdGhlIGRhdGEgaW4NCgkJCQkvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzDQoJCQkJZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTsNCgkJCQlpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHsNCgkJCQkJcmV0dXJuIGRhdGE7DQoJCQkJfQ0KDQoJCQkJLy8gV2UgdHJpZWQgcmVhbGx5IGhhcmQsIGJ1dCB0aGUgZGF0YSBkb2Vzbid0IGV4aXN0Lg0KCQkJCXJldHVybjsNCgkJCX0NCg0KCQkJLy8gU2V0IHRoZSBkYXRhLi4uDQoJCQl0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KDQoJCQkJLy8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleQ0KCQkJCWRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApOw0KCQkJfSApOw0KCQl9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTsNCgl9LA0KDQoJcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHsNCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQlkYXRhVXNlci5yZW1vdmUoIHRoaXMsIGtleSApOw0KCQl9ICk7DQoJfQ0KfSApOw0KDQoNCmpRdWVyeS5leHRlbmQoIHsNCglxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7DQoJCXZhciBxdWV1ZTsNCg0KCQlpZiAoIGVsZW0gKSB7DQoJCQl0eXBlID0gKCB0eXBlIHx8ICJmeCIgKSArICJxdWV1ZSI7DQoJCQlxdWV1ZSA9IGRhdGFQcml2LmdldCggZWxlbSwgdHlwZSApOw0KDQoJCQkvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwDQoJCQlpZiAoIGRhdGEgKSB7DQoJCQkJaWYgKCAhcXVldWUgfHwgQXJyYXkuaXNBcnJheSggZGF0YSApICkgew0KCQkJCQlxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJcXVldWUucHVzaCggZGF0YSApOw0KCQkJCX0NCgkJCX0NCgkJCXJldHVybiBxdWV1ZSB8fCBbXTsNCgkJfQ0KCX0sDQoNCglkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHsNCgkJdHlwZSA9IHR5cGUgfHwgImZ4IjsNCg0KCQl2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSwNCgkJCXN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLA0KCQkJZm4gPSBxdWV1ZS5zaGlmdCgpLA0KCQkJaG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSwNCgkJCW5leHQgPSBmdW5jdGlvbigpIHsNCgkJCQlqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApOw0KCQkJfTsNCg0KCQkvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsDQoJCWlmICggZm4gPT09ICJpbnByb2dyZXNzIiApIHsNCgkJCWZuID0gcXVldWUuc2hpZnQoKTsNCgkJCXN0YXJ0TGVuZ3RoLS07DQoJCX0NCg0KCQlpZiAoIGZuICkgew0KDQoJCQkvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nDQoJCQkvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkDQoJCQlpZiAoIHR5cGUgPT09ICJmeCIgKSB7DQoJCQkJcXVldWUudW5zaGlmdCggImlucHJvZ3Jlc3MiICk7DQoJCQl9DQoNCgkJCS8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb24NCgkJCWRlbGV0ZSBob29rcy5zdG9wOw0KCQkJZm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTsNCgkJfQ0KDQoJCWlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkgew0KCQkJaG9va3MuZW1wdHkuZmlyZSgpOw0KCQl9DQoJfSwNCg0KCS8vIE5vdCBwdWJsaWMgLSBnZW5lcmF0ZSBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm4gdGhlIGN1cnJlbnQgb25lDQoJX3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkgew0KCQl2YXIga2V5ID0gdHlwZSArICJxdWV1ZUhvb2tzIjsNCgkJcmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHsNCgkJCWVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCAib25jZSBtZW1vcnkiICkuYWRkKCBmdW5jdGlvbigpIHsNCgkJCQlkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArICJxdWV1ZSIsIGtleSBdICk7DQoJCQl9ICkNCgkJfSApOw0KCX0NCn0gKTsNCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KCXF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHsNCgkJdmFyIHNldHRlciA9IDI7DQoNCgkJaWYgKCB0eXBlb2YgdHlwZSAhPT0gInN0cmluZyIgKSB7DQoJCQlkYXRhID0gdHlwZTsNCgkJCXR5cGUgPSAiZngiOw0KCQkJc2V0dGVyLS07DQoJCX0NCg0KCQlpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7DQoJCQlyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTsNCgkJfQ0KDQoJCXJldHVybiBkYXRhID09PSB1bmRlZmluZWQgPw0KCQkJdGhpcyA6DQoJCQl0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJCXZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApOw0KDQoJCQkJLy8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWUNCgkJCQlqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTsNCg0KCQkJCWlmICggdHlwZSA9PT0gImZ4IiAmJiBxdWV1ZVsgMCBdICE9PSAiaW5wcm9ncmVzcyIgKSB7DQoJCQkJCWpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7DQoJCQkJfQ0KCQkJfSApOw0KCX0sDQoJZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7DQoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJalF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTsNCgkJfSApOw0KCX0sDQoJY2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7DQoJCXJldHVybiB0aGlzLnF1ZXVlKCB0eXBlIHx8ICJmeCIsIFtdICk7DQoJfSwNCg0KCS8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGUNCgkvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdCkNCglwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkgew0KCQl2YXIgdG1wLA0KCQkJY291bnQgPSAxLA0KCQkJZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSwNCgkJCWVsZW1lbnRzID0gdGhpcywNCgkJCWkgPSB0aGlzLmxlbmd0aCwNCgkJCXJlc29sdmUgPSBmdW5jdGlvbigpIHsNCgkJCQlpZiAoICEoIC0tY291bnQgKSApIHsNCgkJCQkJZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTsNCgkJCQl9DQoJCQl9Ow0KDQoJCWlmICggdHlwZW9mIHR5cGUgIT09ICJzdHJpbmciICkgew0KCQkJb2JqID0gdHlwZTsNCgkJCXR5cGUgPSB1bmRlZmluZWQ7DQoJCX0NCgkJdHlwZSA9IHR5cGUgfHwgImZ4IjsNCg0KCQl3aGlsZSAoIGktLSApIHsNCgkJCXRtcCA9IGRhdGFQcml2LmdldCggZWxlbWVudHNbIGkgXSwgdHlwZSArICJxdWV1ZUhvb2tzIiApOw0KCQkJaWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkgew0KCQkJCWNvdW50Kys7DQoJCQkJdG1wLmVtcHR5LmFkZCggcmVzb2x2ZSApOw0KCQkJfQ0KCQl9DQoJCXJlc29sdmUoKTsNCgkJcmV0dXJuIGRlZmVyLnByb21pc2UoIG9iaiApOw0KCX0NCn0gKTsNCnZhciBwbnVtID0gKCAvWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvICkuc291cmNlOw0KDQp2YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoICJeKD86KFsrLV0pPXwpKCIgKyBwbnVtICsgIikoW2EteiVdKikkIiwgImkiICk7DQoNCg0KdmFyIGNzc0V4cGFuZCA9IFsgIlRvcCIsICJSaWdodCIsICJCb3R0b20iLCAiTGVmdCIgXTsNCg0KdmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsNCg0KDQoNCgl2YXIgaXNBdHRhY2hlZCA9IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJcmV0dXJuIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7DQoJCX0sDQoJCWNvbXBvc2VkID0geyBjb21wb3NlZDogdHJ1ZSB9Ow0KDQoJLy8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4KywgaU9TIDEwLjAgLSAxMC4yIG9ubHkNCgkvLyBDaGVjayBhdHRhY2htZW50IGFjcm9zcyBzaGFkb3cgRE9NIGJvdW5kYXJpZXMgd2hlbiBwb3NzaWJsZSAoZ2gtMzUwNCkNCgkvLyBTdXBwb3J0OiBpT1MgMTAuMC0xMC4yIG9ubHkNCgkvLyBFYXJseSBpT1MgMTAgdmVyc2lvbnMgc3VwcG9ydCBgYXR0YWNoU2hhZG93YCBidXQgbm90IGBnZXRSb290Tm9kZWAsDQoJLy8gbGVhZGluZyB0byBlcnJvcnMuIFdlIG5lZWQgdG8gY2hlY2sgZm9yIGBnZXRSb290Tm9kZWAuDQoJaWYgKCBkb2N1bWVudEVsZW1lbnQuZ2V0Um9vdE5vZGUgKSB7DQoJCWlzQXR0YWNoZWQgPSBmdW5jdGlvbiggZWxlbSApIHsNCgkJCXJldHVybiBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApIHx8DQoJCQkJZWxlbS5nZXRSb290Tm9kZSggY29tcG9zZWQgKSA9PT0gZWxlbS5vd25lckRvY3VtZW50Ow0KCQl9Ow0KCX0NCnZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7DQoNCgkJLy8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247DQoJCS8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudA0KCQllbGVtID0gZWwgfHwgZWxlbTsNCg0KCQkvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbA0KCQlyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSAibm9uZSIgfHwNCgkJCWVsZW0uc3R5bGUuZGlzcGxheSA9PT0gIiIgJiYNCg0KCQkJLy8gT3RoZXJ3aXNlLCBjaGVjayBjb21wdXRlZCBzdHlsZQ0KCQkJLy8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDUNCgkJCS8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpcw0KCQkJLy8gaW4gdGhlIGRvY3VtZW50Lg0KCQkJaXNBdHRhY2hlZCggZWxlbSApICYmDQoNCgkJCWpRdWVyeS5jc3MoIGVsZW0sICJkaXNwbGF5IiApID09PSAibm9uZSI7DQoJfTsNCg0KDQoNCmZ1bmN0aW9uIGFkanVzdENTUyggZWxlbSwgcHJvcCwgdmFsdWVQYXJ0cywgdHdlZW4gKSB7DQoJdmFyIGFkanVzdGVkLCBzY2FsZSwNCgkJbWF4SXRlcmF0aW9ucyA9IDIwLA0KCQljdXJyZW50VmFsdWUgPSB0d2VlbiA/DQoJCQlmdW5jdGlvbigpIHsNCgkJCQlyZXR1cm4gdHdlZW4uY3VyKCk7DQoJCQl9IDoNCgkJCWZ1bmN0aW9uKCkgew0KCQkJCXJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCAiIiApOw0KCQkJfSwNCgkJaW5pdGlhbCA9IGN1cnJlbnRWYWx1ZSgpLA0KCQl1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyAiIiA6ICJweCIgKSwNCg0KCQkvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlcw0KCQlpbml0aWFsSW5Vbml0ID0gZWxlbS5ub2RlVHlwZSAmJg0KCQkJKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gInB4IiAmJiAraW5pdGlhbCApICYmDQoJCQlyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AgKSApOw0KDQoJaWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMgXSAhPT0gdW5pdCApIHsNCg0KCQkvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTQNCgkJLy8gSGFsdmUgdGhlIGl0ZXJhdGlvbiB0YXJnZXQgdmFsdWUgdG8gcHJldmVudCBpbnRlcmZlcmVuY2UgZnJvbSBDU1MgdXBwZXIgYm91bmRzIChnaC0yMTQ0KQ0KCQlpbml0aWFsID0gaW5pdGlhbCAvIDI7DQoNCgkJLy8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzcw0KCQl1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07DQoNCgkJLy8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnQNCgkJaW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7DQoNCgkJd2hpbGUgKCBtYXhJdGVyYXRpb25zLS0gKSB7DQoNCgkJCS8vIEV2YWx1YXRlIGFuZCB1cGRhdGUgb3VyIGJlc3QgZ3Vlc3MgKGRvdWJsaW5nIGd1ZXNzZXMgdGhhdCB6ZXJvIG91dCkuDQoJCQkvLyBGaW5pc2ggaWYgdGhlIHNjYWxlIGVxdWFscyBvciBjcm9zc2VzIDEgKG1ha2luZyB0aGUgb2xkKm5ldyBwcm9kdWN0IG5vbi1wb3NpdGl2ZSkuDQoJCQlqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7DQoJCQlpZiAoICggMSAtIHNjYWxlICkgKiAoIDEgLSAoIHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsIHx8IDAuNSApICkgPD0gMCApIHsNCgkJCQltYXhJdGVyYXRpb25zID0gMDsNCgkJCX0NCgkJCWluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0IC8gc2NhbGU7DQoNCgkJfQ0KDQoJCWluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0ICogMjsNCgkJalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApOw0KDQoJCS8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb24NCgkJdmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107DQoJfQ0KDQoJaWYgKCB2YWx1ZVBhcnRzICkgew0KCQlpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDsNCg0KCQkvLyBBcHBseSByZWxhdGl2ZSBvZmZzZXQgKCs9Ly09KSBpZiBzcGVjaWZpZWQNCgkJYWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gPw0KCQkJaW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDoNCgkJCSt2YWx1ZVBhcnRzWyAyIF07DQoJCWlmICggdHdlZW4gKSB7DQoJCQl0d2Vlbi51bml0ID0gdW5pdDsNCgkJCXR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDsNCgkJCXR3ZWVuLmVuZCA9IGFkanVzdGVkOw0KCQl9DQoJfQ0KCXJldHVybiBhZGp1c3RlZDsNCn0NCg0KDQp2YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTsNCg0KZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7DQoJdmFyIHRlbXAsDQoJCWRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCwNCgkJbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLA0KCQlkaXNwbGF5ID0gZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF07DQoNCglpZiAoIGRpc3BsYXkgKSB7DQoJCXJldHVybiBkaXNwbGF5Ow0KCX0NCg0KCXRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTsNCglkaXNwbGF5ID0galF1ZXJ5LmNzcyggdGVtcCwgImRpc3BsYXkiICk7DQoNCgl0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRlbXAgKTsNCg0KCWlmICggZGlzcGxheSA9PT0gIm5vbmUiICkgew0KCQlkaXNwbGF5ID0gImJsb2NrIjsNCgl9DQoJZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF0gPSBkaXNwbGF5Ow0KDQoJcmV0dXJuIGRpc3BsYXk7DQp9DQoNCmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHsNCgl2YXIgZGlzcGxheSwgZWxlbSwNCgkJdmFsdWVzID0gW10sDQoJCWluZGV4ID0gMCwNCgkJbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOw0KDQoJLy8gRGV0ZXJtaW5lIG5ldyBkaXNwbGF5IHZhbHVlIGZvciBlbGVtZW50cyB0aGF0IG5lZWQgdG8gY2hhbmdlDQoJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsNCgkJZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdOw0KCQlpZiAoICFlbGVtLnN0eWxlICkgew0KCQkJY29udGludWU7DQoJCX0NCg0KCQlkaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5Ow0KCQlpZiAoIHNob3cgKSB7DQoNCgkJCS8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdykNCgkJCS8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlcg0KCQkJLy8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKQ0KCQkJaWYgKCBkaXNwbGF5ID09PSAibm9uZSIgKSB7DQoJCQkJdmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCAiZGlzcGxheSIgKSB8fCBudWxsOw0KCQkJCWlmICggIXZhbHVlc1sgaW5kZXggXSApIHsNCgkJCQkJZWxlbS5zdHlsZS5kaXNwbGF5ID0gIiI7DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09ICIiICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApICkgew0KCQkJCXZhbHVlc1sgaW5kZXggXSA9IGdldERlZmF1bHREaXNwbGF5KCBlbGVtICk7DQoJCQl9DQoJCX0gZWxzZSB7DQoJCQlpZiAoIGRpc3BsYXkgIT09ICJub25lIiApIHsNCgkJCQl2YWx1ZXNbIGluZGV4IF0gPSAibm9uZSI7DQoNCgkJCQkvLyBSZW1lbWJlciB3aGF0IHdlJ3JlIG92ZXJ3cml0aW5nDQoJCQkJZGF0YVByaXYuc2V0KCBlbGVtLCAiZGlzcGxheSIsIGRpc3BsYXkgKTsNCgkJCX0NCgkJfQ0KCX0NCg0KCS8vIFNldCB0aGUgZGlzcGxheSBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcCB0byBhdm9pZCBjb25zdGFudCByZWZsb3cNCglmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkgew0KCQlpZiAoIHZhbHVlc1sgaW5kZXggXSAhPSBudWxsICkgew0KCQkJZWxlbWVudHNbIGluZGV4IF0uc3R5bGUuZGlzcGxheSA9IHZhbHVlc1sgaW5kZXggXTsNCgkJfQ0KCX0NCg0KCXJldHVybiBlbGVtZW50czsNCn0NCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KCXNob3c6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTsNCgl9LA0KCWhpZGU6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTsNCgl9LA0KCXRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkgew0KCQlpZiAoIHR5cGVvZiBzdGF0ZSA9PT0gImJvb2xlYW4iICkgew0KCQkJcmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJaWYgKCBpc0hpZGRlbldpdGhpblRyZWUoIHRoaXMgKSApIHsNCgkJCQlqUXVlcnkoIHRoaXMgKS5zaG93KCk7DQoJCQl9IGVsc2Ugew0KCQkJCWpRdWVyeSggdGhpcyApLmhpZGUoKTsNCgkJCX0NCgkJfSApOw0KCX0NCn0gKTsNCnZhciByY2hlY2thYmxlVHlwZSA9ICggL14oPzpjaGVja2JveHxyYWRpbykkL2kgKTsNCg0KdmFyIHJ0YWdOYW1lID0gKCAvPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSApOw0KDQp2YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxebW9kdWxlJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApOw0KDQoNCg0KKCBmdW5jdGlvbigpIHsNCgl2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksDQoJCWRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApICksDQoJCWlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImlucHV0IiApOw0KDQoJLy8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seQ0KCS8vIENoZWNrIHN0YXRlIGxvc3QgaWYgdGhlIG5hbWUgaXMgc2V0ICgjMTEyMTcpDQoJLy8gU3VwcG9ydDogV2luZG93cyBXZWIgQXBwcyAoV1dBKQ0KCS8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAoIzE0OTAxKQ0KCWlucHV0LnNldEF0dHJpYnV0ZSggInR5cGUiLCAicmFkaW8iICk7DQoJaW5wdXQuc2V0QXR0cmlidXRlKCAiY2hlY2tlZCIsICJjaGVja2VkIiApOw0KCWlucHV0LnNldEF0dHJpYnV0ZSggIm5hbWUiLCAidCIgKTsNCg0KCWRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTsNCg0KCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seQ0KCS8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50cw0KCXN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDsNCg0KCS8vIFN1cHBvcnQ6IElFIDw9MTEgb25seQ0KCS8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkDQoJZGl2LmlubmVySFRNTCA9ICI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IjsNCglzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTsNCg0KCS8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5DQoJLy8gSUUgPD05IHJlcGxhY2VzIDxvcHRpb24+IHRhZ3Mgd2l0aCB0aGVpciBjb250ZW50cyB3aGVuIGluc2VydGVkIG91dHNpZGUgb2YNCgkvLyB0aGUgc2VsZWN0IGVsZW1lbnQuDQoJZGl2LmlubmVySFRNTCA9ICI8b3B0aW9uPjwvb3B0aW9uPiI7DQoJc3VwcG9ydC5vcHRpb24gPSAhIWRpdi5sYXN0Q2hpbGQ7DQp9ICkoKTsNCg0KDQovLyBXZSBoYXZlIHRvIGNsb3NlIHRoZXNlIHRhZ3MgdG8gc3VwcG9ydCBYSFRNTCAoIzEzMjAwKQ0KdmFyIHdyYXBNYXAgPSB7DQoNCgkvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZQ0KCS8vIHNhbWUgd2F5IHRoYXQgdGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW4NCgkvLyB0aGlzIGJ5IG9taXR0aW5nIDx0Ym9keT4gb3Igb3RoZXIgcmVxdWlyZWQgZWxlbWVudHMuDQoJdGhlYWQ6IFsgMSwgIjx0YWJsZT4iLCAiPC90YWJsZT4iIF0sDQoJY29sOiBbIDIsICI8dGFibGU+PGNvbGdyb3VwPiIsICI8L2NvbGdyb3VwPjwvdGFibGU+IiBdLA0KCXRyOiBbIDIsICI8dGFibGU+PHRib2R5PiIsICI8L3Rib2R5PjwvdGFibGU+IiBdLA0KCXRkOiBbIDMsICI8dGFibGU+PHRib2R5Pjx0cj4iLCAiPC90cj48L3Rib2R5PjwvdGFibGU+IiBdLA0KDQoJX2RlZmF1bHQ6IFsgMCwgIiIsICIiIF0NCn07DQoNCndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7DQp3cmFwTWFwLnRoID0gd3JhcE1hcC50ZDsNCg0KLy8gU3VwcG9ydDogSUUgPD05IG9ubHkNCmlmICggIXN1cHBvcnQub3B0aW9uICkgew0KCXdyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbiA9IFsgMSwgIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCAiPC9zZWxlY3Q+IiBdOw0KfQ0KDQoNCmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkgew0KDQoJLy8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seQ0KCS8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKCMxNTE1MSkNCgl2YXIgcmV0Ow0KDQoJaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gInVuZGVmaW5lZCIgKSB7DQoJCXJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCAiKiIgKTsNCg0KCX0gZWxzZSBpZiAoIHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09ICJ1bmRlZmluZWQiICkgew0KCQlyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCAiKiIgKTsNCg0KCX0gZWxzZSB7DQoJCXJldCA9IFtdOw0KCX0NCg0KCWlmICggdGFnID09PSB1bmRlZmluZWQgfHwgdGFnICYmIG5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSApIHsNCgkJcmV0dXJuIGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIHJldCApOw0KCX0NCg0KCXJldHVybiByZXQ7DQp9DQoNCg0KLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkDQpmdW5jdGlvbiBzZXRHbG9iYWxFdmFsKCBlbGVtcywgcmVmRWxlbWVudHMgKSB7DQoJdmFyIGkgPSAwLA0KCQlsID0gZWxlbXMubGVuZ3RoOw0KDQoJZm9yICggOyBpIDwgbDsgaSsrICkgew0KCQlkYXRhUHJpdi5zZXQoDQoJCQllbGVtc1sgaSBdLA0KCQkJImdsb2JhbEV2YWwiLA0KCQkJIXJlZkVsZW1lbnRzIHx8IGRhdGFQcml2LmdldCggcmVmRWxlbWVudHNbIGkgXSwgImdsb2JhbEV2YWwiICkNCgkJKTsNCgl9DQp9DQoNCg0KdmFyIHJodG1sID0gLzx8JiM/XHcrOy87DQoNCmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQgKSB7DQoJdmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBhdHRhY2hlZCwgaiwNCgkJZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwNCgkJbm9kZXMgPSBbXSwNCgkJaSA9IDAsDQoJCWwgPSBlbGVtcy5sZW5ndGg7DQoNCglmb3IgKCA7IGkgPCBsOyBpKysgKSB7DQoJCWVsZW0gPSBlbGVtc1sgaSBdOw0KDQoJCWlmICggZWxlbSB8fCBlbGVtID09PSAwICkgew0KDQoJCQkvLyBBZGQgbm9kZXMgZGlyZWN0bHkNCgkJCWlmICggdG9UeXBlKCBlbGVtICkgPT09ICJvYmplY3QiICkgew0KDQoJCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5DQoJCQkJLy8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdA0KCQkJCWpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTsNCg0KCQkJLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlDQoJCQl9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkgew0KCQkJCW5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApOw0KDQoJCQkvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXMNCgkJCX0gZWxzZSB7DQoJCQkJdG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoICJkaXYiICkgKTsNCg0KCQkJCS8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb24NCgkJCQl0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbICIiLCAiIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpOw0KCQkJCXdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0Ow0KCQkJCXRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdOw0KDQoJCQkJLy8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50DQoJCQkJaiA9IHdyYXBbIDAgXTsNCgkJCQl3aGlsZSAoIGotLSApIHsNCgkJCQkJdG1wID0gdG1wLmxhc3RDaGlsZDsNCgkJCQl9DQoNCgkJCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHkNCgkJCQkvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0DQoJCQkJalF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTsNCg0KCQkJCS8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyDQoJCQkJdG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDsNCg0KCQkJCS8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5MikNCgkJCQl0bXAudGV4dENvbnRlbnQgPSAiIjsNCgkJCX0NCgkJfQ0KCX0NCg0KCS8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnQNCglmcmFnbWVudC50ZXh0Q29udGVudCA9ICIiOw0KDQoJaSA9IDA7DQoJd2hpbGUgKCAoIGVsZW0gPSBub2Rlc1sgaSsrIF0gKSApIHsNCg0KCQkvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KQ0KCQlpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHsNCgkJCWlmICggaWdub3JlZCApIHsNCgkJCQlpZ25vcmVkLnB1c2goIGVsZW0gKTsNCgkJCX0NCgkJCWNvbnRpbnVlOw0KCQl9DQoNCgkJYXR0YWNoZWQgPSBpc0F0dGFjaGVkKCBlbGVtICk7DQoNCgkJLy8gQXBwZW5kIHRvIGZyYWdtZW50DQoJCXRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgInNjcmlwdCIgKTsNCg0KCQkvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5DQoJCWlmICggYXR0YWNoZWQgKSB7DQoJCQlzZXRHbG9iYWxFdmFsKCB0bXAgKTsNCgkJfQ0KDQoJCS8vIENhcHR1cmUgZXhlY3V0YWJsZXMNCgkJaWYgKCBzY3JpcHRzICkgew0KCQkJaiA9IDA7DQoJCQl3aGlsZSAoICggZWxlbSA9IHRtcFsgaisrIF0gKSApIHsNCgkJCQlpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCAiIiApICkgew0KCQkJCQlzY3JpcHRzLnB1c2goIGVsZW0gKTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoNCglyZXR1cm4gZnJhZ21lbnQ7DQp9DQoNCg0KdmFyDQoJcmtleUV2ZW50ID0gL15rZXkvLA0KCXJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLA0KCXJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XC4oLispfCkvOw0KDQpmdW5jdGlvbiByZXR1cm5UcnVlKCkgew0KCXJldHVybiB0cnVlOw0KfQ0KDQpmdW5jdGlvbiByZXR1cm5GYWxzZSgpIHsNCglyZXR1cm4gZmFsc2U7DQp9DQoNCi8vIFN1cHBvcnQ6IElFIDw9OSAtIDExKw0KLy8gZm9jdXMoKSBhbmQgYmx1cigpIGFyZSBhc3luY2hyb25vdXMsIGV4Y2VwdCB3aGVuIHRoZXkgYXJlIG5vLW9wLg0KLy8gU28gZXhwZWN0IGZvY3VzIHRvIGJlIHN5bmNocm9ub3VzIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWxyZWFkeSBhY3RpdmUsDQovLyBhbmQgYmx1ciB0byBiZSBzeW5jaHJvbm91cyB3aGVuIHRoZSBlbGVtZW50IGlzIG5vdCBhbHJlYWR5IGFjdGl2ZS4NCi8vIChmb2N1cyBhbmQgYmx1ciBhcmUgYWx3YXlzIHN5bmNocm9ub3VzIGluIG90aGVyIHN1cHBvcnRlZCBicm93c2VycywNCi8vIHRoaXMganVzdCBkZWZpbmVzIHdoZW4gd2UgY2FuIGNvdW50IG9uIGl0KS4NCmZ1bmN0aW9uIGV4cGVjdFN5bmMoIGVsZW0sIHR5cGUgKSB7DQoJcmV0dXJuICggZWxlbSA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSApID09PSAoIHR5cGUgPT09ICJmb2N1cyIgKTsNCn0NCg0KLy8gU3VwcG9ydDogSUUgPD05IG9ubHkNCi8vIEFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiB0aHJvdyB1bmV4cGVjdGVkbHkNCi8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM5Mw0KZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7DQoJdHJ5IHsNCgkJcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7DQoJfSBjYXRjaCAoIGVyciApIHsgfQ0KfQ0KDQpmdW5jdGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkgew0KCXZhciBvcmlnRm4sIHR5cGU7DQoNCgkvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnMNCglpZiAoIHR5cGVvZiB0eXBlcyA9PT0gIm9iamVjdCIgKSB7DQoNCgkJLy8gKCB0eXBlcy1PYmplY3QsIHNlbGVjdG9yLCBkYXRhICkNCgkJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09ICJzdHJpbmciICkgew0KDQoJCQkvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApDQoJCQlkYXRhID0gZGF0YSB8fCBzZWxlY3RvcjsNCgkJCXNlbGVjdG9yID0gdW5kZWZpbmVkOw0KCQl9DQoJCWZvciAoIHR5cGUgaW4gdHlwZXMgKSB7DQoJCQlvbiggZWxlbSwgdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzWyB0eXBlIF0sIG9uZSApOw0KCQl9DQoJCXJldHVybiBlbGVtOw0KCX0NCg0KCWlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7DQoNCgkJLy8gKCB0eXBlcywgZm4gKQ0KCQlmbiA9IHNlbGVjdG9yOw0KCQlkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7DQoJfSBlbHNlIGlmICggZm4gPT0gbnVsbCApIHsNCgkJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09ICJzdHJpbmciICkgew0KDQoJCQkvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKQ0KCQkJZm4gPSBkYXRhOw0KCQkJZGF0YSA9IHVuZGVmaW5lZDsNCgkJfSBlbHNlIHsNCg0KCQkJLy8gKCB0eXBlcywgZGF0YSwgZm4gKQ0KCQkJZm4gPSBkYXRhOw0KCQkJZGF0YSA9IHNlbGVjdG9yOw0KCQkJc2VsZWN0b3IgPSB1bmRlZmluZWQ7DQoJCX0NCgl9DQoJaWYgKCBmbiA9PT0gZmFsc2UgKSB7DQoJCWZuID0gcmV0dXJuRmFsc2U7DQoJfSBlbHNlIGlmICggIWZuICkgew0KCQlyZXR1cm4gZWxlbTsNCgl9DQoNCglpZiAoIG9uZSA9PT0gMSApIHsNCgkJb3JpZ0ZuID0gZm47DQoJCWZuID0gZnVuY3Rpb24oIGV2ZW50ICkgew0KDQoJCQkvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm8NCgkJCWpRdWVyeSgpLm9mZiggZXZlbnQgKTsNCgkJCXJldHVybiBvcmlnRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOw0KCQl9Ow0KDQoJCS8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuDQoJCWZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAoIG9yaWdGbi5ndWlkID0galF1ZXJ5Lmd1aWQrKyApOw0KCX0NCglyZXR1cm4gZWxlbS5lYWNoKCBmdW5jdGlvbigpIHsNCgkJalF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApOw0KCX0gKTsNCn0NCg0KLyoNCiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS4NCiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuDQogKi8NCmpRdWVyeS5ldmVudCA9IHsNCg0KCWdsb2JhbDoge30sDQoNCglhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7DQoNCgkJdmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwgdG1wLA0KCQkJZXZlbnRzLCB0LCBoYW5kbGVPYmosDQoJCQlzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsDQoJCQllbGVtRGF0YSA9IGRhdGFQcml2LmdldCggZWxlbSApOw0KDQoJCS8vIE9ubHkgYXR0YWNoIGV2ZW50cyB0byBvYmplY3RzIHRoYXQgYWNjZXB0IGRhdGENCgkJaWYgKCAhYWNjZXB0RGF0YSggZWxlbSApICkgew0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJLy8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBjdXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyDQoJCWlmICggaGFuZGxlci5oYW5kbGVyICkgew0KCQkJaGFuZGxlT2JqSW4gPSBoYW5kbGVyOw0KCQkJaGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7DQoJCQlzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yOw0KCQl9DQoNCgkJLy8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZQ0KCQkvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudCkNCgkJaWYgKCBzZWxlY3RvciApIHsNCgkJCWpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBzZWxlY3RvciApOw0KCQl9DQoNCgkJLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyDQoJCWlmICggIWhhbmRsZXIuZ3VpZCApIHsNCgkJCWhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7DQoJCX0NCg0KCQkvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0DQoJCWlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7DQoJCQlldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSBPYmplY3QuY3JlYXRlKCBudWxsICk7DQoJCX0NCgkJaWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkgew0KCQkJZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHsNCg0KCQkJCS8vIERpc2NhcmQgdGhlIHNlY29uZCBldmVudCBvZiBhIGpRdWVyeS5ldmVudC50cmlnZ2VyKCkgYW5kDQoJCQkJLy8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZA0KCQkJCXJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSAidW5kZWZpbmVkIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgPw0KCQkJCQlqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGVsZW0sIGFyZ3VtZW50cyApIDogdW5kZWZpbmVkOw0KCQkJfTsNCgkJfQ0KDQoJCS8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2UNCgkJdHlwZXMgPSAoIHR5cGVzIHx8ICIiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbICIiIF07DQoJCXQgPSB0eXBlcy5sZW5ndGg7DQoJCXdoaWxlICggdC0tICkgew0KCQkJdG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdOw0KCQkJdHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07DQoJCQluYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCAiIiApLnNwbGl0KCAiLiIgKS5zb3J0KCk7DQoNCgkJCS8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVycw0KCQkJaWYgKCAhdHlwZSApIHsNCgkJCQljb250aW51ZTsNCgkJCX0NCg0KCQkJLy8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlDQoJCQlzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTsNCg0KCQkJLy8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlDQoJCQl0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7DQoNCgkJCS8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGUNCgkJCXNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9Ow0KDQoJCQkvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVycw0KCQkJaGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCggew0KCQkJCXR5cGU6IHR5cGUsDQoJCQkJb3JpZ1R5cGU6IG9yaWdUeXBlLA0KCQkJCWRhdGE6IGRhdGEsDQoJCQkJaGFuZGxlcjogaGFuZGxlciwNCgkJCQlndWlkOiBoYW5kbGVyLmd1aWQsDQoJCQkJc2VsZWN0b3I6IHNlbGVjdG9yLA0KCQkJCW5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksDQoJCQkJbmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oICIuIiApDQoJCQl9LCBoYW5kbGVPYmpJbiApOw0KDQoJCQkvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdA0KCQkJaWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7DQoJCQkJaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdOw0KCQkJCWhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwOw0KDQoJCQkJLy8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlDQoJCQkJaWYgKCAhc3BlY2lhbC5zZXR1cCB8fA0KCQkJCQlzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkgew0KDQoJCQkJCWlmICggZWxlbS5hZGRFdmVudExpc3RlbmVyICkgew0KCQkJCQkJZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KDQoJCQlpZiAoIHNwZWNpYWwuYWRkICkgew0KCQkJCXNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApOw0KDQoJCQkJaWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHsNCgkJCQkJaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDsNCgkJCQl9DQoJCQl9DQoNCgkJCS8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250DQoJCQlpZiAoIHNlbGVjdG9yICkgew0KCQkJCWhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTsNCgkJCX0gZWxzZSB7DQoJCQkJaGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7DQoJCQl9DQoNCgkJCS8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb24NCgkJCWpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7DQoJCX0NCg0KCX0sDQoNCgkvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnQNCglyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkgew0KDQoJCXZhciBqLCBvcmlnQ291bnQsIHRtcCwNCgkJCWV2ZW50cywgdCwgaGFuZGxlT2JqLA0KCQkJc3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLA0KCQkJZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7DQoNCgkJaWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQkvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkDQoJCXR5cGVzID0gKCB0eXBlcyB8fCAiIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyAiIiBdOw0KCQl0ID0gdHlwZXMubGVuZ3RoOw0KCQl3aGlsZSAoIHQtLSApIHsNCgkJCXRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTsNCgkJCXR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdOw0KCQkJbmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgIiIgKS5zcGxpdCggIi4iICkuc29ydCgpOw0KDQoJCQkvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnQNCgkJCWlmICggIXR5cGUgKSB7DQoJCQkJZm9yICggdHlwZSBpbiBldmVudHMgKSB7DQoJCQkJCWpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApOw0KCQkJCX0NCgkJCQljb250aW51ZTsNCgkJCX0NCg0KCQkJc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307DQoJCQl0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7DQoJCQloYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdOw0KCQkJdG1wID0gdG1wWyAyIF0gJiYNCgkJCQluZXcgUmVnRXhwKCAiKF58XFwuKSIgKyBuYW1lc3BhY2VzLmpvaW4oICJcXC4oPzouKlxcLnwpIiApICsgIihcXC58JCkiICk7DQoNCgkJCS8vIFJlbW92ZSBtYXRjaGluZyBldmVudHMNCgkJCW9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7DQoJCQl3aGlsZSAoIGotLSApIHsNCgkJCQloYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdOw0KDQoJCQkJaWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJg0KCQkJCQkoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJg0KCQkJCQkoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmDQoJCQkJCSggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHwNCgkJCQkJCXNlbGVjdG9yID09PSAiKioiICYmIGhhbmRsZU9iai5zZWxlY3RvciApICkgew0KCQkJCQloYW5kbGVycy5zcGxpY2UoIGosIDEgKTsNCg0KCQkJCQlpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHsNCgkJCQkJCWhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTsNCgkJCQkJfQ0KCQkJCQlpZiAoIHNwZWNpYWwucmVtb3ZlICkgew0KCQkJCQkJc3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoNCgkJCS8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3QNCgkJCS8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKQ0KCQkJaWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHsNCgkJCQlpZiAoICFzcGVjaWFsLnRlYXJkb3duIHx8DQoJCQkJCXNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkgew0KDQoJCQkJCWpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7DQoJCQkJfQ0KDQoJCQkJZGVsZXRlIGV2ZW50c1sgdHlwZSBdOw0KCQkJfQ0KCQl9DQoNCgkJLy8gUmVtb3ZlIGRhdGEgYW5kIHRoZSBleHBhbmRvIGlmIGl0J3Mgbm8gbG9uZ2VyIHVzZWQNCgkJaWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggZXZlbnRzICkgKSB7DQoJCQlkYXRhUHJpdi5yZW1vdmUoIGVsZW0sICJoYW5kbGUgZXZlbnRzIiApOw0KCQl9DQoJfSwNCg0KCWRpc3BhdGNoOiBmdW5jdGlvbiggbmF0aXZlRXZlbnQgKSB7DQoNCgkJdmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLCBoYW5kbGVyUXVldWUsDQoJCQlhcmdzID0gbmV3IEFycmF5KCBhcmd1bWVudHMubGVuZ3RoICksDQoNCgkJCS8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdA0KCQkJZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApLA0KDQoJCQloYW5kbGVycyA9ICgNCgkJCQkJZGF0YVByaXYuZ2V0KCB0aGlzLCAiZXZlbnRzIiApIHx8IE9iamVjdC5jcmVhdGUoIG51bGwgKQ0KCQkJCSlbIGV2ZW50LnR5cGUgXSB8fCBbXSwNCgkJCXNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9Ow0KDQoJCS8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50DQoJCWFyZ3NbIDAgXSA9IGV2ZW50Ow0KDQoJCWZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkgew0KCQkJYXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07DQoJCX0NCg0KCQlldmVudC5kZWxlZ2F0ZVRhcmdldCA9IHRoaXM7DQoNCgkJLy8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZA0KCQlpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCS8vIERldGVybWluZSBoYW5kbGVycw0KCQloYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7DQoNCgkJLy8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXMNCgkJaSA9IDA7DQoJCXdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkgew0KCQkJZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTsNCg0KCQkJaiA9IDA7DQoJCQl3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJg0KCQkJCSFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkgew0KDQoJCQkJLy8gSWYgdGhlIGV2ZW50IGlzIG5hbWVzcGFjZWQsIHRoZW4gZWFjaCBoYW5kbGVyIGlzIG9ubHkgaW52b2tlZCBpZiBpdCBpcw0KCQkJCS8vIHNwZWNpYWxseSB1bml2ZXJzYWwgb3IgaXRzIG5hbWVzcGFjZXMgYXJlIGEgc3VwZXJzZXQgb2YgdGhlIGV2ZW50J3MuDQoJCQkJaWYgKCAhZXZlbnQucm5hbWVzcGFjZSB8fCBoYW5kbGVPYmoubmFtZXNwYWNlID09PSBmYWxzZSB8fA0KCQkJCQlldmVudC5ybmFtZXNwYWNlLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApIHsNCg0KCQkJCQlldmVudC5oYW5kbGVPYmogPSBoYW5kbGVPYmo7DQoJCQkJCWV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTsNCg0KCQkJCQlyZXQgPSAoICggalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGhhbmRsZU9iai5vcmlnVHlwZSBdIHx8IHt9ICkuaGFuZGxlIHx8DQoJCQkJCQloYW5kbGVPYmouaGFuZGxlciApLmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTsNCg0KCQkJCQlpZiAoIHJldCAhPT0gdW5kZWZpbmVkICkgew0KCQkJCQkJaWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHsNCgkJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQkJCWV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJLy8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZQ0KCQlpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkgew0KCQkJc3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTsNCgkJfQ0KDQoJCXJldHVybiBldmVudC5yZXN1bHQ7DQoJfSwNCg0KCWhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkgew0KCQl2YXIgaSwgaGFuZGxlT2JqLCBzZWwsIG1hdGNoZWRIYW5kbGVycywgbWF0Y2hlZFNlbGVjdG9ycywNCgkJCWhhbmRsZXJRdWV1ZSA9IFtdLA0KCQkJZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsDQoJCQljdXIgPSBldmVudC50YXJnZXQ7DQoNCgkJLy8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVycw0KCQlpZiAoIGRlbGVnYXRlQ291bnQgJiYNCg0KCQkJLy8gU3VwcG9ydDogSUUgPD05DQoJCQkvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MCkNCgkJCWN1ci5ub2RlVHlwZSAmJg0KDQoJCQkvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDINCgkJCS8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSkNCgkJCS8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2sNCgkJCS8vIFN1cHBvcnQ6IElFIDExIG9ubHkNCgkJCS8vIC4uLmJ1dCBub3QgYXJyb3cga2V5ICJjbGlja3MiIG9mIHJhZGlvIGlucHV0cywgd2hpY2ggY2FuIGhhdmUgYGJ1dHRvbmAgLTEgKGdoLTIzNDMpDQoJCQkhKCBldmVudC50eXBlID09PSAiY2xpY2siICYmIGV2ZW50LmJ1dHRvbiA+PSAxICkgKSB7DQoNCgkJCWZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkgew0KDQoJCQkJLy8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICgjMTMyMDgpDQoJCQkJLy8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpDQoJCQkJaWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgISggZXZlbnQudHlwZSA9PT0gImNsaWNrIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHsNCgkJCQkJbWF0Y2hlZEhhbmRsZXJzID0gW107DQoJCQkJCW1hdGNoZWRTZWxlY3RvcnMgPSB7fTsNCgkJCQkJZm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7DQoJCQkJCQloYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdOw0KDQoJCQkJCQkvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKQ0KCQkJCQkJc2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgIiAiOw0KDQoJCQkJCQlpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7DQoJCQkJCQkJbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID8NCgkJCQkJCQkJalF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPiAtMSA6DQoJCQkJCQkJCWpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51bGwsIFsgY3VyIF0gKS5sZW5ndGg7DQoJCQkJCQl9DQoJCQkJCQlpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdICkgew0KCQkJCQkJCW1hdGNoZWRIYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQlpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7DQoJCQkJCQloYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJLy8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVycw0KCQljdXIgPSB0aGlzOw0KCQlpZiAoIGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7DQoJCQloYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0gKTsNCgkJfQ0KDQoJCXJldHVybiBoYW5kbGVyUXVldWU7DQoJfSwNCg0KCWFkZFByb3A6IGZ1bmN0aW9uKCBuYW1lLCBob29rICkgew0KCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoIGpRdWVyeS5FdmVudC5wcm90b3R5cGUsIG5hbWUsIHsNCgkJCWVudW1lcmFibGU6IHRydWUsDQoJCQljb25maWd1cmFibGU6IHRydWUsDQoNCgkJCWdldDogaXNGdW5jdGlvbiggaG9vayApID8NCgkJCQlmdW5jdGlvbigpIHsNCgkJCQkJaWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7DQoJCQkJCQkJcmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApOw0KCQkJCQl9DQoJCQkJfSA6DQoJCQkJZnVuY3Rpb24oKSB7DQoJCQkJCWlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkgew0KCQkJCQkJCXJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTsNCgkJCQkJfQ0KCQkJCX0sDQoNCgkJCXNldDogZnVuY3Rpb24oIHZhbHVlICkgew0KCQkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgbmFtZSwgew0KCQkJCQllbnVtZXJhYmxlOiB0cnVlLA0KCQkJCQljb25maWd1cmFibGU6IHRydWUsDQoJCQkJCXdyaXRhYmxlOiB0cnVlLA0KCQkJCQl2YWx1ZTogdmFsdWUNCgkJCQl9ICk7DQoJCQl9DQoJCX0gKTsNCgl9LA0KDQoJZml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHsNCgkJcmV0dXJuIG9yaWdpbmFsRXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gPw0KCQkJb3JpZ2luYWxFdmVudCA6DQoJCQluZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7DQoJfSwNCg0KCXNwZWNpYWw6IHsNCgkJbG9hZDogew0KDQoJCQkvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkDQoJCQlub0J1YmJsZTogdHJ1ZQ0KCQl9LA0KCQljbGljazogew0KDQoJCQkvLyBVdGlsaXplIG5hdGl2ZSBldmVudCB0byBlbnN1cmUgY29ycmVjdCBzdGF0ZSBmb3IgY2hlY2thYmxlIGlucHV0cw0KCQkJc2V0dXA6IGZ1bmN0aW9uKCBkYXRhICkgew0KDQoJCQkJLy8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuDQoJCQkJLy8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi4NCgkJCQl2YXIgZWwgPSB0aGlzIHx8IGRhdGE7DQoNCgkJCQkvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlcg0KCQkJCWlmICggcmNoZWNrYWJsZVR5cGUudGVzdCggZWwudHlwZSApICYmDQoJCQkJCWVsLmNsaWNrICYmIG5vZGVOYW1lKCBlbCwgImlucHV0IiApICkgew0KDQoJCQkJCS8vIGRhdGFQcml2LnNldCggZWwsICJjbGljayIsIC4uLiApDQoJCQkJCWxldmVyYWdlTmF0aXZlKCBlbCwgImNsaWNrIiwgcmV0dXJuVHJ1ZSApOw0KCQkJCX0NCg0KCQkJCS8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyDQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfSwNCgkJCXRyaWdnZXI6IGZ1bmN0aW9uKCBkYXRhICkgew0KDQoJCQkJLy8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuDQoJCQkJLy8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi4NCgkJCQl2YXIgZWwgPSB0aGlzIHx8IGRhdGE7DQoNCgkJCQkvLyBGb3JjZSBzZXR1cCBiZWZvcmUgdHJpZ2dlcmluZyBhIGNsaWNrDQoJCQkJaWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiYNCgkJCQkJZWwuY2xpY2sgJiYgbm9kZU5hbWUoIGVsLCAiaW5wdXQiICkgKSB7DQoNCgkJCQkJbGV2ZXJhZ2VOYXRpdmUoIGVsLCAiY2xpY2siICk7DQoJCQkJfQ0KDQoJCQkJLy8gUmV0dXJuIG5vbi1mYWxzZSB0byBhbGxvdyBub3JtYWwgZXZlbnQtcGF0aCBwcm9wYWdhdGlvbg0KCQkJCXJldHVybiB0cnVlOw0KCQkJfSwNCg0KCQkJLy8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIHN1cHByZXNzIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rcw0KCQkJLy8gQWxzbyBwcmV2ZW50IGl0IGlmIHdlJ3JlIGN1cnJlbnRseSBpbnNpZGUgYSBsZXZlcmFnZWQgbmF0aXZlLWV2ZW50IHN0YWNrDQoJCQlfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJCXZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7DQoJCQkJcmV0dXJuIHJjaGVja2FibGVUeXBlLnRlc3QoIHRhcmdldC50eXBlICkgJiYNCgkJCQkJdGFyZ2V0LmNsaWNrICYmIG5vZGVOYW1lKCB0YXJnZXQsICJpbnB1dCIgKSAmJg0KCQkJCQlkYXRhUHJpdi5nZXQoIHRhcmdldCwgImNsaWNrIiApIHx8DQoJCQkJCW5vZGVOYW1lKCB0YXJnZXQsICJhIiApOw0KCQkJfQ0KCQl9LA0KDQoJCWJlZm9yZXVubG9hZDogew0KCQkJcG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7DQoNCgkJCQkvLyBTdXBwb3J0OiBGaXJlZm94IDIwKw0KCQkJCS8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC4NCgkJCQlpZiAoIGV2ZW50LnJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7DQoJCQkJCWV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KfTsNCg0KLy8gRW5zdXJlIHRoZSBwcmVzZW5jZSBvZiBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGhhbmRsZXMgbWFudWFsbHktdHJpZ2dlcmVkDQovLyBzeW50aGV0aWMgZXZlbnRzIGJ5IGludGVycnVwdGluZyBwcm9ncmVzcyB1bnRpbCByZWludm9rZWQgaW4gcmVzcG9uc2UgdG8NCi8vICpuYXRpdmUqIGV2ZW50cyB0aGF0IGl0IGZpcmVzIGRpcmVjdGx5LCBlbnN1cmluZyB0aGF0IHN0YXRlIGNoYW5nZXMgaGF2ZQ0KLy8gYWxyZWFkeSBvY2N1cnJlZCBiZWZvcmUgb3RoZXIgbGlzdGVuZXJzIGFyZSBpbnZva2VkLg0KZnVuY3Rpb24gbGV2ZXJhZ2VOYXRpdmUoIGVsLCB0eXBlLCBleHBlY3RTeW5jICkgew0KDQoJLy8gTWlzc2luZyBleHBlY3RTeW5jIGluZGljYXRlcyBhIHRyaWdnZXIgY2FsbCwgd2hpY2ggbXVzdCBmb3JjZSBzZXR1cCB0aHJvdWdoIGpRdWVyeS5ldmVudC5hZGQNCglpZiAoICFleHBlY3RTeW5jICkgew0KCQlpZiAoIGRhdGFQcml2LmdldCggZWwsIHR5cGUgKSA9PT0gdW5kZWZpbmVkICkgew0KCQkJalF1ZXJ5LmV2ZW50LmFkZCggZWwsIHR5cGUsIHJldHVyblRydWUgKTsNCgkJfQ0KCQlyZXR1cm47DQoJfQ0KDQoJLy8gUmVnaXN0ZXIgdGhlIGNvbnRyb2xsZXIgYXMgYSBzcGVjaWFsIHVuaXZlcnNhbCBoYW5kbGVyIGZvciBhbGwgZXZlbnQgbmFtZXNwYWNlcw0KCWRhdGFQcml2LnNldCggZWwsIHR5cGUsIGZhbHNlICk7DQoJalF1ZXJ5LmV2ZW50LmFkZCggZWwsIHR5cGUsIHsNCgkJbmFtZXNwYWNlOiBmYWxzZSwNCgkJaGFuZGxlcjogZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJdmFyIG5vdEFzeW5jLCByZXN1bHQsDQoJCQkJc2F2ZWQgPSBkYXRhUHJpdi5nZXQoIHRoaXMsIHR5cGUgKTsNCg0KCQkJaWYgKCAoIGV2ZW50LmlzVHJpZ2dlciAmIDEgKSAmJiB0aGlzWyB0eXBlIF0gKSB7DQoNCgkJCQkvLyBJbnRlcnJ1cHQgcHJvY2Vzc2luZyBvZiB0aGUgb3V0ZXIgc3ludGhldGljIC50cmlnZ2VyKCllZCBldmVudA0KCQkJCS8vIFNhdmVkIGRhdGEgc2hvdWxkIGJlIGZhbHNlIGluIHN1Y2ggY2FzZXMsIGJ1dCBtaWdodCBiZSBhIGxlZnRvdmVyIGNhcHR1cmUgb2JqZWN0DQoJCQkJLy8gZnJvbSBhbiBhc3luYyBuYXRpdmUgaGFuZGxlciAoZ2gtNDM1MCkNCgkJCQlpZiAoICFzYXZlZC5sZW5ndGggKSB7DQoNCgkJCQkJLy8gU3RvcmUgYXJndW1lbnRzIGZvciB1c2Ugd2hlbiBoYW5kbGluZyB0aGUgaW5uZXIgbmF0aXZlIGV2ZW50DQoJCQkJCS8vIFRoZXJlIHdpbGwgYWx3YXlzIGJlIGF0IGxlYXN0IG9uZSBhcmd1bWVudCAoYW4gZXZlbnQgb2JqZWN0KSwgc28gdGhpcyBhcnJheQ0KCQkJCQkvLyB3aWxsIG5vdCBiZSBjb25mdXNlZCB3aXRoIGEgbGVmdG92ZXIgY2FwdHVyZSBvYmplY3QuDQoJCQkJCXNhdmVkID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICk7DQoJCQkJCWRhdGFQcml2LnNldCggdGhpcywgdHlwZSwgc2F2ZWQgKTsNCg0KCQkJCQkvLyBUcmlnZ2VyIHRoZSBuYXRpdmUgZXZlbnQgYW5kIGNhcHR1cmUgaXRzIHJlc3VsdA0KCQkJCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSsNCgkJCQkJLy8gZm9jdXMoKSBhbmQgYmx1cigpIGFyZSBhc3luY2hyb25vdXMNCgkJCQkJbm90QXN5bmMgPSBleHBlY3RTeW5jKCB0aGlzLCB0eXBlICk7DQoJCQkJCXRoaXNbIHR5cGUgXSgpOw0KCQkJCQlyZXN1bHQgPSBkYXRhUHJpdi5nZXQoIHRoaXMsIHR5cGUgKTsNCgkJCQkJaWYgKCBzYXZlZCAhPT0gcmVzdWx0IHx8IG5vdEFzeW5jICkgew0KCQkJCQkJZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCBmYWxzZSApOw0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJcmVzdWx0ID0ge307DQoJCQkJCX0NCgkJCQkJaWYgKCBzYXZlZCAhPT0gcmVzdWx0ICkgew0KDQoJCQkJCQkvLyBDYW5jZWwgdGhlIG91dGVyIHN5bnRoZXRpYyBldmVudA0KCQkJCQkJZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7DQoJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQkJcmV0dXJuIHJlc3VsdC52YWx1ZTsNCgkJCQkJfQ0KDQoJCQkJLy8gSWYgdGhpcyBpcyBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgZm9yIGFuIGV2ZW50IHdpdGggYSBidWJibGluZyBzdXJyb2dhdGUNCgkJCQkvLyAoZm9jdXMgb3IgYmx1ciksIGFzc3VtZSB0aGF0IHRoZSBzdXJyb2dhdGUgYWxyZWFkeSBwcm9wYWdhdGVkIGZyb20gdHJpZ2dlcmluZyB0aGUNCgkJCQkvLyBuYXRpdmUgZXZlbnQgYW5kIHByZXZlbnQgdGhhdCBmcm9tIGhhcHBlbmluZyBhZ2FpbiBoZXJlLg0KCQkJCS8vIFRoaXMgdGVjaG5pY2FsbHkgZ2V0cyB0aGUgb3JkZXJpbmcgd3Jvbmcgdy5yLnQuIHRvIGAudHJpZ2dlcigpYCAoaW4gd2hpY2ggdGhlDQoJCQkJLy8gYnViYmxpbmcgc3Vycm9nYXRlIHByb3BhZ2F0ZXMgKmFmdGVyKiB0aGUgbm9uLWJ1YmJsaW5nIGJhc2UpLCBidXQgdGhhdCBzZWVtcw0KCQkJCS8vIGxlc3MgYmFkIHRoYW4gZHVwbGljYXRpb24uDQoJCQkJfSBlbHNlIGlmICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9ICkuZGVsZWdhdGVUeXBlICkgew0KCQkJCQlldmVudC5zdG9wUHJvcGFnYXRpb24oKTsNCgkJCQl9DQoNCgkJCS8vIElmIHRoaXMgaXMgYSBuYXRpdmUgZXZlbnQgdHJpZ2dlcmVkIGFib3ZlLCBldmVyeXRoaW5nIGlzIG5vdyBpbiBvcmRlcg0KCQkJLy8gRmlyZSBhbiBpbm5lciBzeW50aGV0aWMgZXZlbnQgd2l0aCB0aGUgb3JpZ2luYWwgYXJndW1lbnRzDQoJCQl9IGVsc2UgaWYgKCBzYXZlZC5sZW5ndGggKSB7DQoNCgkJCQkvLyAuLi5hbmQgY2FwdHVyZSB0aGUgcmVzdWx0DQoJCQkJZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCB7DQoJCQkJCXZhbHVlOiBqUXVlcnkuZXZlbnQudHJpZ2dlcigNCg0KCQkJCQkJLy8gU3VwcG9ydDogSUUgPD05IC0gMTErDQoJCQkJCQkvLyBFeHRlbmQgd2l0aCB0aGUgcHJvdG90eXBlIHRvIHJlc2V0IHRoZSBhYm92ZSBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKQ0KCQkJCQkJalF1ZXJ5LmV4dGVuZCggc2F2ZWRbIDAgXSwgalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSApLA0KCQkJCQkJc2F2ZWQuc2xpY2UoIDEgKSwNCgkJCQkJCXRoaXMNCgkJCQkJKQ0KCQkJCX0gKTsNCg0KCQkJCS8vIEFib3J0IGhhbmRsaW5nIG9mIHRoZSBuYXRpdmUgZXZlbnQNCgkJCQlldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsNCgkJCX0NCgkJfQ0KCX0gKTsNCn0NCg0KalF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHsNCg0KCS8vIFRoaXMgImlmIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHMNCglpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHsNCgkJZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUgKTsNCgl9DQp9Ow0KDQpqUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBwcm9wcyApIHsNCg0KCS8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZA0KCWlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkgew0KCQlyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApOw0KCX0NCg0KCS8vIEV2ZW50IG9iamVjdA0KCWlmICggc3JjICYmIHNyYy50eXBlICkgew0KCQl0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7DQoJCXRoaXMudHlwZSA9IHNyYy50eXBlOw0KDQoJCS8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkDQoJCS8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLg0KCQl0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8DQoJCQkJc3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJg0KDQoJCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5DQoJCQkJc3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/DQoJCQlyZXR1cm5UcnVlIDoNCgkJCXJldHVybkZhbHNlOw0KDQoJCS8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllcw0KCQkvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5DQoJCS8vIFRhcmdldCBzaG91bGQgbm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpDQoJCXRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/DQoJCQlzcmMudGFyZ2V0LnBhcmVudE5vZGUgOg0KCQkJc3JjLnRhcmdldDsNCg0KCQl0aGlzLmN1cnJlbnRUYXJnZXQgPSBzcmMuY3VycmVudFRhcmdldDsNCgkJdGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7DQoNCgkvLyBFdmVudCB0eXBlDQoJfSBlbHNlIHsNCgkJdGhpcy50eXBlID0gc3JjOw0KCX0NCg0KCS8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0DQoJaWYgKCBwcm9wcyApIHsNCgkJalF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTsNCgl9DQoNCgkvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZQ0KCXRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTsNCg0KCS8vIE1hcmsgaXQgYXMgZml4ZWQNCgl0aGlzWyBqUXVlcnkuZXhwYW5kbyBdID0gdHJ1ZTsNCn07DQoNCi8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZw0KLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbA0KalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHsNCgljb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LA0KCWlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsDQoJaXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLA0KCWlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSwNCglpc1NpbXVsYXRlZDogZmFsc2UsDQoNCglwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7DQoJCXZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50Ow0KDQoJCXRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTsNCg0KCQlpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7DQoJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCX0NCgl9LA0KCXN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7DQoJCXZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50Ow0KDQoJCXRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlOw0KDQoJCWlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHsNCgkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCX0NCgl9LA0KCXN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7DQoJCXZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50Ow0KDQoJCXRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlOw0KDQoJCWlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHsNCgkJCWUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7DQoJCX0NCg0KCQl0aGlzLnN0b3BQcm9wYWdhdGlvbigpOw0KCX0NCn07DQoNCi8vIEluY2x1ZGVzIGFsbCBjb21tb24gZXZlbnQgcHJvcHMgaW5jbHVkaW5nIEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50IHNwZWNpZmljIHByb3BzDQpqUXVlcnkuZWFjaCggew0KCWFsdEtleTogdHJ1ZSwNCglidWJibGVzOiB0cnVlLA0KCWNhbmNlbGFibGU6IHRydWUsDQoJY2hhbmdlZFRvdWNoZXM6IHRydWUsDQoJY3RybEtleTogdHJ1ZSwNCglkZXRhaWw6IHRydWUsDQoJZXZlbnRQaGFzZTogdHJ1ZSwNCgltZXRhS2V5OiB0cnVlLA0KCXBhZ2VYOiB0cnVlLA0KCXBhZ2VZOiB0cnVlLA0KCXNoaWZ0S2V5OiB0cnVlLA0KCXZpZXc6IHRydWUsDQoJImNoYXIiOiB0cnVlLA0KCWNvZGU6IHRydWUsDQoJY2hhckNvZGU6IHRydWUsDQoJa2V5OiB0cnVlLA0KCWtleUNvZGU6IHRydWUsDQoJYnV0dG9uOiB0cnVlLA0KCWJ1dHRvbnM6IHRydWUsDQoJY2xpZW50WDogdHJ1ZSwNCgljbGllbnRZOiB0cnVlLA0KCW9mZnNldFg6IHRydWUsDQoJb2Zmc2V0WTogdHJ1ZSwNCglwb2ludGVySWQ6IHRydWUsDQoJcG9pbnRlclR5cGU6IHRydWUsDQoJc2NyZWVuWDogdHJ1ZSwNCglzY3JlZW5ZOiB0cnVlLA0KCXRhcmdldFRvdWNoZXM6IHRydWUsDQoJdG9FbGVtZW50OiB0cnVlLA0KCXRvdWNoZXM6IHRydWUsDQoNCgl3aGljaDogZnVuY3Rpb24oIGV2ZW50ICkgew0KCQl2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uOw0KDQoJCS8vIEFkZCB3aGljaCBmb3Iga2V5IGV2ZW50cw0KCQlpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHsNCgkJCXJldHVybiBldmVudC5jaGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlOw0KCQl9DQoNCgkJLy8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodA0KCQlpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBybW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7DQoJCQlpZiAoIGJ1dHRvbiAmIDEgKSB7DQoJCQkJcmV0dXJuIDE7DQoJCQl9DQoNCgkJCWlmICggYnV0dG9uICYgMiApIHsNCgkJCQlyZXR1cm4gMzsNCgkJCX0NCg0KCQkJaWYgKCBidXR0b24gJiA0ICkgew0KCQkJCXJldHVybiAyOw0KCQkJfQ0KDQoJCQlyZXR1cm4gMDsNCgkJfQ0KDQoJCXJldHVybiBldmVudC53aGljaDsNCgl9DQp9LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCApOw0KDQpqUXVlcnkuZWFjaCggeyBmb2N1czogImZvY3VzaW4iLCBibHVyOiAiZm9jdXNvdXQiIH0sIGZ1bmN0aW9uKCB0eXBlLCBkZWxlZ2F0ZVR5cGUgKSB7DQoJalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSA9IHsNCg0KCQkvLyBVdGlsaXplIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3QNCgkJc2V0dXA6IGZ1bmN0aW9uKCkgew0KDQoJCQkvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlcg0KCQkJLy8gZGF0YVByaXYuc2V0KCB0aGlzLCAiZm9jdXMiLCAuLi4gKQ0KCQkJLy8gZGF0YVByaXYuc2V0KCB0aGlzLCAiYmx1ciIsIC4uLiApDQoJCQlsZXZlcmFnZU5hdGl2ZSggdGhpcywgdHlwZSwgZXhwZWN0U3luYyApOw0KDQoJCQkvLyBSZXR1cm4gZmFsc2UgdG8gYWxsb3cgbm9ybWFsIHByb2Nlc3NpbmcgaW4gdGhlIGNhbGxlcg0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9LA0KCQl0cmlnZ2VyOiBmdW5jdGlvbigpIHsNCg0KCQkJLy8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXINCgkJCWxldmVyYWdlTmF0aXZlKCB0aGlzLCB0eXBlICk7DQoNCgkJCS8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb24NCgkJCXJldHVybiB0cnVlOw0KCQl9LA0KDQoJCWRlbGVnYXRlVHlwZTogZGVsZWdhdGVUeXBlDQoJfTsNCn0gKTsNCg0KLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzDQovLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5Lg0KLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXQNCi8vDQovLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5DQovLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZToNCi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OA0KLy8gZm9yIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVnIChpdCBleGlzdGVkIGluIG9sZGVyIENocm9tZSB2ZXJzaW9ucyBhcyB3ZWxsKS4NCmpRdWVyeS5lYWNoKCB7DQoJbW91c2VlbnRlcjogIm1vdXNlb3ZlciIsDQoJbW91c2VsZWF2ZTogIm1vdXNlb3V0IiwNCglwb2ludGVyZW50ZXI6ICJwb2ludGVyb3ZlciIsDQoJcG9pbnRlcmxlYXZlOiAicG9pbnRlcm91dCINCn0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7DQoJalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIG9yaWcgXSA9IHsNCgkJZGVsZWdhdGVUeXBlOiBmaXgsDQoJCWJpbmRUeXBlOiBmaXgsDQoNCgkJaGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7DQoJCQl2YXIgcmV0LA0KCQkJCXRhcmdldCA9IHRoaXMsDQoJCQkJcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsDQoJCQkJaGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqOw0KDQoJCQkvLyBGb3IgbW91c2VlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0Lg0KCQkJLy8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3cNCgkJCWlmICggIXJlbGF0ZWQgfHwgKCByZWxhdGVkICE9PSB0YXJnZXQgJiYgIWpRdWVyeS5jb250YWlucyggdGFyZ2V0LCByZWxhdGVkICkgKSApIHsNCgkJCQlldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlOw0KCQkJCXJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTsNCgkJCQlldmVudC50eXBlID0gZml4Ow0KCQkJfQ0KCQkJcmV0dXJuIHJldDsNCgkJfQ0KCX07DQp9ICk7DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCg0KCW9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHsNCgkJcmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7DQoJfSwNCglvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkgew0KCQlyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTsNCgl9LA0KCW9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7DQoJCXZhciBoYW5kbGVPYmosIHR5cGU7DQoJCWlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkgew0KDQoJCQkvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50DQoJCQloYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7DQoJCQlqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKA0KCQkJCWhhbmRsZU9iai5uYW1lc3BhY2UgPw0KCQkJCQloYW5kbGVPYmoub3JpZ1R5cGUgKyAiLiIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDoNCgkJCQkJaGFuZGxlT2JqLm9yaWdUeXBlLA0KCQkJCWhhbmRsZU9iai5zZWxlY3RvciwNCgkJCQloYW5kbGVPYmouaGFuZGxlcg0KCQkJKTsNCgkJCXJldHVybiB0aGlzOw0KCQl9DQoJCWlmICggdHlwZW9mIHR5cGVzID09PSAib2JqZWN0IiApIHsNCg0KCQkJLy8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdICkNCgkJCWZvciAoIHR5cGUgaW4gdHlwZXMgKSB7DQoJCQkJdGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7DQoJCQl9DQoJCQlyZXR1cm4gdGhpczsNCgkJfQ0KCQlpZiAoIHNlbGVjdG9yID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09ICJmdW5jdGlvbiIgKSB7DQoNCgkJCS8vICggdHlwZXMgWywgZm5dICkNCgkJCWZuID0gc2VsZWN0b3I7DQoJCQlzZWxlY3RvciA9IHVuZGVmaW5lZDsNCgkJfQ0KCQlpZiAoIGZuID09PSBmYWxzZSApIHsNCgkJCWZuID0gcmV0dXJuRmFsc2U7DQoJCX0NCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQlqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7DQoJCX0gKTsNCgl9DQp9ICk7DQoNCg0KdmFyDQoNCgkvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEsIEVkZ2UgMTIgLSAxMyBvbmx5DQoJLy8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy4NCgkvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyLw0KCXJub0lubmVyaHRtbCA9IC88c2NyaXB0fDxzdHlsZXw8bGluay9pLA0KDQoJLy8gY2hlY2tlZD0iY2hlY2tlZCIgb3IgY2hlY2tlZA0KCXJjaGVja2VkID0gL2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksDQoJcmNsZWFuU2NyaXB0ID0gL15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nOw0KDQovLyBQcmVmZXIgYSB0Ym9keSBvdmVyIGl0cyBwYXJlbnQgdGFibGUgZm9yIGNvbnRhaW5pbmcgbmV3IHJvd3MNCmZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHsNCglpZiAoIG5vZGVOYW1lKCBlbGVtLCAidGFibGUiICkgJiYNCgkJbm9kZU5hbWUoIGNvbnRlbnQubm9kZVR5cGUgIT09IDExID8gY29udGVudCA6IGNvbnRlbnQuZmlyc3RDaGlsZCwgInRyIiApICkgew0KDQoJCXJldHVybiBqUXVlcnkoIGVsZW0gKS5jaGlsZHJlbiggInRib2R5IiApWyAwIF0gfHwgZWxlbTsNCgl9DQoNCglyZXR1cm4gZWxlbTsNCn0NCg0KLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvbg0KZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHsNCgllbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCAidHlwZSIgKSAhPT0gbnVsbCApICsgIi8iICsgZWxlbS50eXBlOw0KCXJldHVybiBlbGVtOw0KfQ0KZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHsNCglpZiAoICggZWxlbS50eXBlIHx8ICIiICkuc2xpY2UoIDAsIDUgKSA9PT0gInRydWUvIiApIHsNCgkJZWxlbS50eXBlID0gZWxlbS50eXBlLnNsaWNlKCA1ICk7DQoJfSBlbHNlIHsNCgkJZWxlbS5yZW1vdmVBdHRyaWJ1dGUoICJ0eXBlIiApOw0KCX0NCg0KCXJldHVybiBlbGVtOw0KfQ0KDQpmdW5jdGlvbiBjbG9uZUNvcHlFdmVudCggc3JjLCBkZXN0ICkgew0KCXZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7DQoNCglpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgKSB7DQoJCXJldHVybjsNCgl9DQoNCgkvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLg0KCWlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7DQoJCXBkYXRhT2xkID0gZGF0YVByaXYuZ2V0KCBzcmMgKTsNCgkJZXZlbnRzID0gcGRhdGFPbGQuZXZlbnRzOw0KDQoJCWlmICggZXZlbnRzICkgew0KCQkJZGF0YVByaXYucmVtb3ZlKCBkZXN0LCAiaGFuZGxlIGV2ZW50cyIgKTsNCg0KCQkJZm9yICggdHlwZSBpbiBldmVudHMgKSB7DQoJCQkJZm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7DQoJCQkJCWpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoNCgkvLyAyLiBDb3B5IHVzZXIgZGF0YQ0KCWlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7DQoJCXVkYXRhT2xkID0gZGF0YVVzZXIuYWNjZXNzKCBzcmMgKTsNCgkJdWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTsNCg0KCQlkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7DQoJfQ0KfQ0KDQovLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHMNCmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7DQoJdmFyIG5vZGVOYW1lID0gZGVzdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOw0KDQoJLy8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uDQoJaWYgKCBub2RlTmFtZSA9PT0gImlucHV0IiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkgew0KCQlkZXN0LmNoZWNrZWQgPSBzcmMuY2hlY2tlZDsNCg0KCS8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zDQoJfSBlbHNlIGlmICggbm9kZU5hbWUgPT09ICJpbnB1dCIgfHwgbm9kZU5hbWUgPT09ICJ0ZXh0YXJlYSIgKSB7DQoJCWRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTsNCgl9DQp9DQoNCmZ1bmN0aW9uIGRvbU1hbmlwKCBjb2xsZWN0aW9uLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApIHsNCg0KCS8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXMNCglhcmdzID0gZmxhdCggYXJncyApOw0KDQoJdmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLA0KCQlpID0gMCwNCgkJbCA9IGNvbGxlY3Rpb24ubGVuZ3RoLA0KCQlpTm9DbG9uZSA9IGwgLSAxLA0KCQl2YWx1ZSA9IGFyZ3NbIDAgXSwNCgkJdmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggdmFsdWUgKTsNCg0KCS8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdA0KCWlmICggdmFsdWVJc0Z1bmN0aW9uIHx8DQoJCQkoIGwgPiAxICYmIHR5cGVvZiB2YWx1ZSA9PT0gInN0cmluZyIgJiYNCgkJCQkhc3VwcG9ydC5jaGVja0Nsb25lICYmIHJjaGVja2VkLnRlc3QoIHZhbHVlICkgKSApIHsNCgkJcmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkgew0KCQkJdmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApOw0KCQkJaWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7DQoJCQkJYXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7DQoJCQl9DQoJCQlkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTsNCgkJfSApOw0KCX0NCg0KCWlmICggbCApIHsNCgkJZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTsNCgkJZmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkOw0KDQoJCWlmICggZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgKSB7DQoJCQlmcmFnbWVudCA9IGZpcnN0Ow0KCQl9DQoNCgkJLy8gUmVxdWlyZSBlaXRoZXIgbmV3IGNvbnRlbnQgb3IgYW4gaW50ZXJlc3QgaW4gaWdub3JlZCBlbGVtZW50cyB0byBpbnZva2UgdGhlIGNhbGxiYWNrDQoJCWlmICggZmlyc3QgfHwgaWdub3JlZCApIHsNCgkJCXNjcmlwdHMgPSBqUXVlcnkubWFwKCBnZXRBbGwoIGZyYWdtZW50LCAic2NyaXB0IiApLCBkaXNhYmxlU2NyaXB0ICk7DQoJCQloYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7DQoNCgkJCS8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW0NCgkJCS8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cA0KCQkJLy8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS4NCgkJCWZvciAoIDsgaSA8IGw7IGkrKyApIHsNCgkJCQlub2RlID0gZnJhZ21lbnQ7DQoNCgkJCQlpZiAoIGkgIT09IGlOb0Nsb25lICkgew0KCQkJCQlub2RlID0galF1ZXJ5LmNsb25lKCBub2RlLCB0cnVlLCB0cnVlICk7DQoNCgkJCQkJLy8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvbg0KCQkJCQlpZiAoIGhhc1NjcmlwdHMgKSB7DQoNCgkJCQkJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seQ0KCQkJCQkJLy8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdA0KCQkJCQkJalF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsICJzY3JpcHQiICkgKTsNCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCWNhbGxiYWNrLmNhbGwoIGNvbGxlY3Rpb25bIGkgXSwgbm9kZSwgaSApOw0KCQkJfQ0KDQoJCQlpZiAoIGhhc1NjcmlwdHMgKSB7DQoJCQkJZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDsNCg0KCQkJCS8vIFJlZW5hYmxlIHNjcmlwdHMNCgkJCQlqUXVlcnkubWFwKCBzY3JpcHRzLCByZXN0b3JlU2NyaXB0ICk7DQoNCgkJCQkvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uDQoJCQkJZm9yICggaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKysgKSB7DQoJCQkJCW5vZGUgPSBzY3JpcHRzWyBpIF07DQoJCQkJCWlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8ICIiICkgJiYNCgkJCQkJCSFkYXRhUHJpdi5hY2Nlc3MoIG5vZGUsICJnbG9iYWxFdmFsIiApICYmDQoJCQkJCQlqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkgew0KDQoJCQkJCQlpZiAoIG5vZGUuc3JjICYmICggbm9kZS50eXBlIHx8ICIiICkudG9Mb3dlckNhc2UoKSAgIT09ICJtb2R1bGUiICkgew0KDQoJCQkJCQkJLy8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnQNCgkJCQkJCQlpZiAoIGpRdWVyeS5fZXZhbFVybCAmJiAhbm9kZS5ub01vZHVsZSApIHsNCgkJCQkJCQkJalF1ZXJ5Ll9ldmFsVXJsKCBub2RlLnNyYywgew0KCQkJCQkJCQkJbm9uY2U6IG5vZGUubm9uY2UgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoICJub25jZSIgKQ0KCQkJCQkJCQl9LCBkb2MgKTsNCgkJCQkJCQl9DQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCURPTUV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCAiIiApLCBub2RlLCBkb2MgKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCg0KCXJldHVybiBjb2xsZWN0aW9uOw0KfQ0KDQpmdW5jdGlvbiByZW1vdmUoIGVsZW0sIHNlbGVjdG9yLCBrZWVwRGF0YSApIHsNCgl2YXIgbm9kZSwNCgkJbm9kZXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBlbGVtICkgOiBlbGVtLA0KCQlpID0gMDsNCg0KCWZvciAoIDsgKCBub2RlID0gbm9kZXNbIGkgXSApICE9IG51bGw7IGkrKyApIHsNCgkJaWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHsNCgkJCWpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7DQoJCX0NCg0KCQlpZiAoIG5vZGUucGFyZW50Tm9kZSApIHsNCgkJCWlmICgga2VlcERhdGEgJiYgaXNBdHRhY2hlZCggbm9kZSApICkgew0KCQkJCXNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgInNjcmlwdCIgKSApOw0KCQkJfQ0KCQkJbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7DQoJCX0NCgl9DQoNCglyZXR1cm4gZWxlbTsNCn0NCg0KalF1ZXJ5LmV4dGVuZCggew0KCWh0bWxQcmVmaWx0ZXI6IGZ1bmN0aW9uKCBodG1sICkgew0KCQlyZXR1cm4gaHRtbDsNCgl9LA0KDQoJY2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHsNCgkJdmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxlbWVudHMsDQoJCQljbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICksDQoJCQlpblBhZ2UgPSBpc0F0dGFjaGVkKCBlbGVtICk7DQoNCgkJLy8gRml4IElFIGNsb25pbmcgaXNzdWVzDQoJCWlmICggIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExICkgJiYNCgkJCQkhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7DQoNCgkJCS8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cHM6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMg0KCQkJZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSApOw0KCQkJc3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTsNCg0KCQkJZm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7DQoJCQkJZml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7DQoJCQl9DQoJCX0NCg0KCQkvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lDQoJCWlmICggZGF0YUFuZEV2ZW50cyApIHsNCgkJCWlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7DQoJCQkJc3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTsNCgkJCQlkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApOw0KDQoJCQkJZm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7DQoJCQkJCWNsb25lQ29weUV2ZW50KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApOw0KCQkJCX0NCgkJCX0gZWxzZSB7DQoJCQkJY2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7DQoJCQl9DQoJCX0NCg0KCQkvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5DQoJCWRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsICJzY3JpcHQiICk7DQoJCWlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7DQoJCQlzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCAic2NyaXB0IiApICk7DQoJCX0NCg0KCQkvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXQNCgkJcmV0dXJuIGNsb25lOw0KCX0sDQoNCgljbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHsNCgkJdmFyIGRhdGEsIGVsZW0sIHR5cGUsDQoJCQlzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsDQoJCQlpID0gMDsNCg0KCQlmb3IgKCA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPT0gdW5kZWZpbmVkOyBpKysgKSB7DQoJCQlpZiAoIGFjY2VwdERhdGEoIGVsZW0gKSApIHsNCgkJCQlpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkgew0KCQkJCQlpZiAoIGRhdGEuZXZlbnRzICkgew0KCQkJCQkJZm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHsNCgkJCQkJCQlpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHsNCgkJCQkJCQkJalF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSApOw0KDQoJCQkJCQkJLy8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZA0KCQkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJCWpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCg0KCQkJCQkvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1Kw0KCQkJCQkvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmUNCgkJCQkJZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdID0gdW5kZWZpbmVkOw0KCQkJCX0NCgkJCQlpZiAoIGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSApIHsNCg0KCQkJCQkvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1Kw0KCQkJCQkvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmUNCgkJCQkJZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCn0gKTsNCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KCWRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkgew0KCQlyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciwgdHJ1ZSApOw0KCX0sDQoNCglyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsNCgkJcmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTsNCgl9LA0KDQoJdGV4dDogZnVuY3Rpb24oIHZhbHVlICkgew0KCQlyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7DQoJCQlyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/DQoJCQkJalF1ZXJ5LnRleHQoIHRoaXMgKSA6DQoJCQkJdGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJCQlpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHsNCgkJCQkJCXRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTsNCgkJCQkJfQ0KCQkJCX0gKTsNCgkJfSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTsNCgl9LA0KDQoJYXBwZW5kOiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJaWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7DQoJCQkJdmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApOw0KCQkJCXRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApOw0KCQkJfQ0KCQl9ICk7DQoJfSwNCg0KCXByZXBlbmQ6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQlpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHsNCgkJCQl2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7DQoJCQkJdGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTsNCgkJCX0NCgkJfSApOw0KCX0sDQoNCgliZWZvcmU6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQlpZiAoIHRoaXMucGFyZW50Tm9kZSApIHsNCgkJCQl0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7DQoJCQl9DQoJCX0gKTsNCgl9LA0KDQoJYWZ0ZXI6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQlpZiAoIHRoaXMucGFyZW50Tm9kZSApIHsNCgkJCQl0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7DQoJCQl9DQoJCX0gKTsNCgl9LA0KDQoJZW1wdHk6IGZ1bmN0aW9uKCkgew0KCQl2YXIgZWxlbSwNCgkJCWkgPSAwOw0KDQoJCWZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkgew0KCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkgew0KDQoJCQkJLy8gUHJldmVudCBtZW1vcnkgbGVha3MNCgkJCQlqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTsNCg0KCQkJCS8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzDQoJCQkJZWxlbS50ZXh0Q29udGVudCA9ICIiOw0KCQkJfQ0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCWNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7DQoJCWRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7DQoJCWRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50czsNCg0KCQlyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkgew0KCQkJcmV0dXJuIGpRdWVyeS5jbG9uZSggdGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKTsNCgkJfSApOw0KCX0sDQoNCglodG1sOiBmdW5jdGlvbiggdmFsdWUgKSB7DQoJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHsNCgkJCXZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LA0KCQkJCWkgPSAwLA0KCQkJCWwgPSB0aGlzLmxlbmd0aDsNCg0KCQkJaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7DQoJCQkJcmV0dXJuIGVsZW0uaW5uZXJIVE1MOw0KCQkJfQ0KDQoJCQkvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MDQoJCQlpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gInN0cmluZyIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmDQoJCQkJIXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbICIiLCAiIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpIF0gKSB7DQoNCgkJCQl2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApOw0KDQoJCQkJdHJ5IHsNCgkJCQkJZm9yICggOyBpIDwgbDsgaSsrICkgew0KCQkJCQkJZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTsNCg0KCQkJCQkJLy8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzDQoJCQkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7DQoJCQkJCQkJalF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7DQoJCQkJCQkJZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTsNCgkJCQkJCX0NCgkJCQkJfQ0KDQoJCQkJCWVsZW0gPSAwOw0KDQoJCQkJLy8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kDQoJCQkJfSBjYXRjaCAoIGUgKSB7fQ0KCQkJfQ0KDQoJCQlpZiAoIGVsZW0gKSB7DQoJCQkJdGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTsNCgkJCX0NCgkJfSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTsNCgl9LA0KDQoJcmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkgew0KCQl2YXIgaWdub3JlZCA9IFtdOw0KDQoJCS8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIG5vbi1pZ25vcmVkIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudA0KCQlyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQl2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlOw0KDQoJCQlpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkgew0KCQkJCWpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7DQoJCQkJaWYgKCBwYXJlbnQgKSB7DQoJCQkJCXBhcmVudC5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTsNCgkJCQl9DQoJCQl9DQoNCgkJLy8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvbg0KCQl9LCBpZ25vcmVkICk7DQoJfQ0KfSApOw0KDQpqUXVlcnkuZWFjaCggew0KCWFwcGVuZFRvOiAiYXBwZW5kIiwNCglwcmVwZW5kVG86ICJwcmVwZW5kIiwNCglpbnNlcnRCZWZvcmU6ICJiZWZvcmUiLA0KCWluc2VydEFmdGVyOiAiYWZ0ZXIiLA0KCXJlcGxhY2VBbGw6ICJyZXBsYWNlV2l0aCINCn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHsNCglqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsNCgkJdmFyIGVsZW1zLA0KCQkJcmV0ID0gW10sDQoJCQlpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksDQoJCQlsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsDQoJCQlpID0gMDsNCg0KCQlmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkgew0KCQkJZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTsNCgkJCWpRdWVyeSggaW5zZXJ0WyBpIF0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTsNCg0KCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5DQoJCQkvLyAuZ2V0KCkgYmVjYXVzZSBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0DQoJCQlwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7DQoJCX0NCg0KCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApOw0KCX07DQp9ICk7DQp2YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCggIl4oIiArIHBudW0gKyAiKSg/IXB4KVthLXolXSskIiwgImkiICk7DQoNCnZhciBnZXRTdHlsZXMgPSBmdW5jdGlvbiggZWxlbSApIHsNCg0KCQkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAoIzE1MDk4LCAjMTQxNTApDQoJCS8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwcw0KCQkvLyBGRiBtZWFud2hpbGUgdGhyb3dzIG9uIGZyYW1lIGVsZW1lbnRzIHRocm91Z2ggImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUiDQoJCXZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Ow0KDQoJCWlmICggIXZpZXcgfHwgIXZpZXcub3BlbmVyICkgew0KCQkJdmlldyA9IHdpbmRvdzsNCgkJfQ0KDQoJCXJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTsNCgl9Ow0KDQp2YXIgc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjayApIHsNCgl2YXIgcmV0LCBuYW1lLA0KCQlvbGQgPSB7fTsNCg0KCS8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lcw0KCWZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHsNCgkJb2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07DQoJCWVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlvbnNbIG5hbWUgXTsNCgl9DQoNCglyZXQgPSBjYWxsYmFjay5jYWxsKCBlbGVtICk7DQoNCgkvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXMNCglmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7DQoJCWVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdOw0KCX0NCg0KCXJldHVybiByZXQ7DQp9Ow0KDQoNCnZhciByYm94U3R5bGUgPSBuZXcgUmVnRXhwKCBjc3NFeHBhbmQuam9pbiggInwiICksICJpIiApOw0KDQoNCg0KKCBmdW5jdGlvbigpIHsNCg0KCS8vIEV4ZWN1dGluZyBib3RoIHBpeGVsUG9zaXRpb24gJiBib3hTaXppbmdSZWxpYWJsZSB0ZXN0cyByZXF1aXJlIG9ubHkgb25lIGxheW91dA0KCS8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uDQoJZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7DQoNCgkJLy8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZQ0KCQlpZiAoICFkaXYgKSB7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQljb250YWluZXIuc3R5bGUuY3NzVGV4dCA9ICJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7IiArDQoJCQkibWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIjsNCgkJZGl2LnN0eWxlLmNzc1RleHQgPQ0KCQkJInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDsiICsNCgkJCSJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4OyIgKw0KCQkJIndpZHRoOjYwJTt0b3A6MSUiOw0KCQlkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApLmFwcGVuZENoaWxkKCBkaXYgKTsNCg0KCQl2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7DQoJCXBpeGVsUG9zaXRpb25WYWwgPSBkaXZTdHlsZS50b3AgIT09ICIxJSI7DQoNCgkJLy8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NA0KCQlyZWxpYWJsZU1hcmdpbkxlZnRWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLm1hcmdpbkxlZnQgKSA9PT0gMTI7DQoNCgkJLy8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgU2FmYXJpIDw9OS4xIC0gMTAuMSwgaU9TIDw9Ny4wIC0gOS4zDQoJCS8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndA0KCQlkaXYuc3R5bGUucmlnaHQgPSAiNjAlIjsNCgkJcGl4ZWxCb3hTdHlsZXNWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLnJpZ2h0ICkgPT09IDM2Ow0KDQoJCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5DQoJCS8vIERldGVjdCBtaXNyZXBvcnRpbmcgb2YgY29udGVudCBkaW1lbnNpb25zIGZvciBib3gtc2l6aW5nOmJvcmRlci1ib3ggZWxlbWVudHMNCgkJYm94U2l6aW5nUmVsaWFibGVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLndpZHRoICkgPT09IDM2Ow0KDQoJCS8vIFN1cHBvcnQ6IElFIDkgb25seQ0KCQkvLyBEZXRlY3Qgb3ZlcmZsb3c6c2Nyb2xsIHNjcmV3aW5lc3MgKGdoLTM2OTkpDQoJCS8vIFN1cHBvcnQ6IENocm9tZSA8PTY0DQoJCS8vIERvbid0IGdldCB0cmlja2VkIHdoZW4gem9vbSBhZmZlY3RzIG9mZnNldFdpZHRoIChnaC00MDI5KQ0KCQlkaXYuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOw0KCQlzY3JvbGxib3hTaXplVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXYub2Zmc2V0V2lkdGggLyAzICkgPT09IDEyOw0KDQoJCWRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7DQoNCgkJLy8gTnVsbGlmeSB0aGUgZGl2IHNvIGl0IHdvdWxkbid0IGJlIHN0b3JlZCBpbiB0aGUgbWVtb3J5IGFuZA0KCQkvLyBpdCB3aWxsIGFsc28gYmUgYSBzaWduIHRoYXQgY2hlY2tzIGFscmVhZHkgcGVyZm9ybWVkDQoJCWRpdiA9IG51bGw7DQoJfQ0KDQoJZnVuY3Rpb24gcm91bmRQaXhlbE1lYXN1cmVzKCBtZWFzdXJlICkgew0KCQlyZXR1cm4gTWF0aC5yb3VuZCggcGFyc2VGbG9hdCggbWVhc3VyZSApICk7DQoJfQ0KDQoJdmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLCBzY3JvbGxib3hTaXplVmFsLCBwaXhlbEJveFN0eWxlc1ZhbCwNCgkJcmVsaWFibGVUckRpbWVuc2lvbnNWYWwsIHJlbGlhYmxlTWFyZ2luTGVmdFZhbCwNCgkJY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImRpdiIgKSwNCgkJZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImRpdiIgKTsNCg0KCS8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzDQoJaWYgKCAhZGl2LnN0eWxlICkgew0KCQlyZXR1cm47DQoJfQ0KDQoJLy8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seQ0KCS8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOCkNCglkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPSAiY29udGVudC1ib3giOw0KCWRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9ICIiOw0KCXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlID0gZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID09PSAiY29udGVudC1ib3giOw0KDQoJalF1ZXJ5LmV4dGVuZCggc3VwcG9ydCwgew0KCQlib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7DQoJCQljb21wdXRlU3R5bGVUZXN0cygpOw0KCQkJcmV0dXJuIGJveFNpemluZ1JlbGlhYmxlVmFsOw0KCQl9LA0KCQlwaXhlbEJveFN0eWxlczogZnVuY3Rpb24oKSB7DQoJCQljb21wdXRlU3R5bGVUZXN0cygpOw0KCQkJcmV0dXJuIHBpeGVsQm94U3R5bGVzVmFsOw0KCQl9LA0KCQlwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHsNCgkJCWNvbXB1dGVTdHlsZVRlc3RzKCk7DQoJCQlyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDsNCgkJfSwNCgkJcmVsaWFibGVNYXJnaW5MZWZ0OiBmdW5jdGlvbigpIHsNCgkJCWNvbXB1dGVTdHlsZVRlc3RzKCk7DQoJCQlyZXR1cm4gcmVsaWFibGVNYXJnaW5MZWZ0VmFsOw0KCQl9LA0KCQlzY3JvbGxib3hTaXplOiBmdW5jdGlvbigpIHsNCgkJCWNvbXB1dGVTdHlsZVRlc3RzKCk7DQoJCQlyZXR1cm4gc2Nyb2xsYm94U2l6ZVZhbDsNCgkJfSwNCg0KCQkvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDE1IC0gMTgrDQoJCS8vIElFL0VkZ2UgbWlzcmVwb3J0IGBnZXRDb21wdXRlZFN0eWxlYCBvZiB0YWJsZSByb3dzIHdpdGggd2lkdGgvaGVpZ2h0DQoJCS8vIHNldCBpbiBDU1Mgd2hpbGUgYG9mZnNldCpgIHByb3BlcnRpZXMgcmVwb3J0IGNvcnJlY3QgdmFsdWVzLg0KCQkvLyBCZWhhdmlvciBpbiBJRSA5IGlzIG1vcmUgc3VidGxlIHRoYW4gaW4gbmV3ZXIgdmVyc2lvbnMgJiBpdCBwYXNzZXMNCgkJLy8gc29tZSB2ZXJzaW9ucyBvZiB0aGlzIHRlc3Q7IG1ha2Ugc3VyZSBub3QgdG8gbWFrZSBpdCBwYXNzIHRoZXJlIQ0KCQlyZWxpYWJsZVRyRGltZW5zaW9uczogZnVuY3Rpb24oKSB7DQoJCQl2YXIgdGFibGUsIHRyLCB0ckNoaWxkLCB0clN0eWxlOw0KCQkJaWYgKCByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9PSBudWxsICkgew0KCQkJCXRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggInRhYmxlIiApOw0KCQkJCXRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggInRyIiApOw0KCQkJCXRyQ2hpbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApOw0KDQoJCQkJdGFibGUuc3R5bGUuY3NzVGV4dCA9ICJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4IjsNCgkJCQl0ci5zdHlsZS5oZWlnaHQgPSAiMXB4IjsNCgkJCQl0ckNoaWxkLnN0eWxlLmhlaWdodCA9ICI5cHgiOw0KDQoJCQkJZG9jdW1lbnRFbGVtZW50DQoJCQkJCS5hcHBlbmRDaGlsZCggdGFibGUgKQ0KCQkJCQkuYXBwZW5kQ2hpbGQoIHRyICkNCgkJCQkJLmFwcGVuZENoaWxkKCB0ckNoaWxkICk7DQoNCgkJCQl0clN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIHRyICk7DQoJCQkJcmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPSBwYXJzZUludCggdHJTdHlsZS5oZWlnaHQgKSA+IDM7DQoNCgkJCQlkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIHRhYmxlICk7DQoJCQl9DQoJCQlyZXR1cm4gcmVsaWFibGVUckRpbWVuc2lvbnNWYWw7DQoJCX0NCgl9ICk7DQp9ICkoKTsNCg0KDQpmdW5jdGlvbiBjdXJDU1MoIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkgew0KCXZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsDQoNCgkJLy8gU3VwcG9ydDogRmlyZWZveCA1MSsNCgkJLy8gUmV0cmlldmluZyBzdHlsZSBiZWZvcmUgY29tcHV0ZWQgc29tZWhvdw0KCQkvLyBmaXhlcyBhbiBpc3N1ZSB3aXRoIGdldHRpbmcgd3JvbmcgdmFsdWVzDQoJCS8vIG9uIGRldGFjaGVkIGVsZW1lbnRzDQoJCXN0eWxlID0gZWxlbS5zdHlsZTsNCg0KCWNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7DQoNCgkvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG5lZWRlZCBmb3I6DQoJLy8gICAuY3NzKCdmaWx0ZXInKSAoSUUgOSBvbmx5LCAjMTI1MzcpDQoJLy8gICAuY3NzKCctLWN1c3RvbVByb3BlcnR5KSAoIzMxNDQpDQoJaWYgKCBjb21wdXRlZCApIHsNCgkJcmV0ID0gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF07DQoNCgkJaWYgKCByZXQgPT09ICIiICYmICFpc0F0dGFjaGVkKCBlbGVtICkgKSB7DQoJCQlyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTsNCgkJfQ0KDQoJCS8vIEEgdHJpYnV0ZSB0byB0aGUgImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHMiDQoJCS8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLA0KCQkvLyBidXQgd2lkdGggc2VlbXMgdG8gYmUgcmVsaWFibHkgcGl4ZWxzLg0KCQkvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6DQoJCS8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzDQoJCWlmICggIXN1cHBvcnQucGl4ZWxCb3hTdHlsZXMoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcmJveFN0eWxlLnRlc3QoIG5hbWUgKSApIHsNCg0KCQkJLy8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlcw0KCQkJd2lkdGggPSBzdHlsZS53aWR0aDsNCgkJCW1pbldpZHRoID0gc3R5bGUubWluV2lkdGg7DQoJCQltYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoOw0KDQoJCQkvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0DQoJCQlzdHlsZS5taW5XaWR0aCA9IHN0eWxlLm1heFdpZHRoID0gc3R5bGUud2lkdGggPSByZXQ7DQoJCQlyZXQgPSBjb21wdXRlZC53aWR0aDsNCg0KCQkJLy8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlcw0KCQkJc3R5bGUud2lkdGggPSB3aWR0aDsNCgkJCXN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7DQoJCQlzdHlsZS5tYXhXaWR0aCA9IG1heFdpZHRoOw0KCQl9DQoJfQ0KDQoJcmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID8NCg0KCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5DQoJCS8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuDQoJCXJldCArICIiIDoNCgkJcmV0Ow0KfQ0KDQoNCmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHsNCg0KCS8vIERlZmluZSB0aGUgaG9vaywgd2UnbGwgY2hlY2sgb24gdGhlIGZpcnN0IHJ1biBpZiBpdCdzIHJlYWxseSBuZWVkZWQuDQoJcmV0dXJuIHsNCgkJZ2V0OiBmdW5jdGlvbigpIHsNCgkJCWlmICggY29uZGl0aW9uRm4oKSApIHsNCg0KCQkJCS8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZQ0KCQkJCS8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC4NCgkJCQlkZWxldGUgdGhpcy5nZXQ7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQkvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi4NCgkJCXJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOw0KCQl9DQoJfTsNCn0NCg0KDQp2YXIgY3NzUHJlZml4ZXMgPSBbICJXZWJraXQiLCAiTW96IiwgIm1zIiBdLA0KCWVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApLnN0eWxlLA0KCXZlbmRvclByb3BzID0ge307DQoNCi8vIFJldHVybiBhIHZlbmRvci1wcmVmaXhlZCBwcm9wZXJ0eSBvciB1bmRlZmluZWQNCmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkgew0KDQoJLy8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lcw0KCXZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksDQoJCWkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7DQoNCgl3aGlsZSAoIGktLSApIHsNCgkJbmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lOw0KCQlpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHsNCgkJCXJldHVybiBuYW1lOw0KCQl9DQoJfQ0KfQ0KDQovLyBSZXR1cm4gYSBwb3RlbnRpYWxseS1tYXBwZWQgalF1ZXJ5LmNzc1Byb3BzIG9yIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eQ0KZnVuY3Rpb24gZmluYWxQcm9wTmFtZSggbmFtZSApIHsNCgl2YXIgZmluYWwgPSBqUXVlcnkuY3NzUHJvcHNbIG5hbWUgXSB8fCB2ZW5kb3JQcm9wc1sgbmFtZSBdOw0KDQoJaWYgKCBmaW5hbCApIHsNCgkJcmV0dXJuIGZpbmFsOw0KCX0NCglpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHsNCgkJcmV0dXJuIG5hbWU7DQoJfQ0KCXJldHVybiB2ZW5kb3JQcm9wc1sgbmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB8fCBuYW1lOw0KfQ0KDQoNCnZhcg0KDQoJLy8gU3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZQ0KCS8vIGV4Y2VwdCAidGFibGUiLCAidGFibGUtY2VsbCIsIG9yICJ0YWJsZS1jYXB0aW9uIg0KCS8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheQ0KCXJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLywNCglyY3VzdG9tUHJvcCA9IC9eLS0vLA0KCWNzc1Nob3cgPSB7IHBvc2l0aW9uOiAiYWJzb2x1dGUiLCB2aXNpYmlsaXR5OiAiaGlkZGVuIiwgZGlzcGxheTogImJsb2NrIiB9LA0KCWNzc05vcm1hbFRyYW5zZm9ybSA9IHsNCgkJbGV0dGVyU3BhY2luZzogIjAiLA0KCQlmb250V2VpZ2h0OiAiNDAwIg0KCX07DQoNCmZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKCBfZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkgew0KDQoJLy8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlbg0KCS8vIG5vcm1hbGl6ZWQgYXQgdGhpcyBwb2ludA0KCXZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApOw0KCXJldHVybiBtYXRjaGVzID8NCg0KCQkvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCAic3VidHJhY3QiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3MNCgkJTWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCAicHgiICkgOg0KCQl2YWx1ZTsNCn0NCg0KZnVuY3Rpb24gYm94TW9kZWxBZGp1c3RtZW50KCBlbGVtLCBkaW1lbnNpb24sIGJveCwgaXNCb3JkZXJCb3gsIHN0eWxlcywgY29tcHV0ZWRWYWwgKSB7DQoJdmFyIGkgPSBkaW1lbnNpb24gPT09ICJ3aWR0aCIgPyAxIDogMCwNCgkJZXh0cmEgPSAwLA0KCQlkZWx0YSA9IDA7DQoNCgkvLyBBZGp1c3RtZW50IG1heSBub3QgYmUgbmVjZXNzYXJ5DQoJaWYgKCBib3ggPT09ICggaXNCb3JkZXJCb3ggPyAiYm9yZGVyIiA6ICJjb250ZW50IiApICkgew0KCQlyZXR1cm4gMDsNCgl9DQoNCglmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7DQoNCgkJLy8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luDQoJCWlmICggYm94ID09PSAibWFyZ2luIiApIHsNCgkJCWRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIGJveCArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTsNCgkJfQ0KDQoJCS8vIElmIHdlIGdldCBoZXJlIHdpdGggYSBjb250ZW50LWJveCwgd2UncmUgc2Vla2luZyAicGFkZGluZyIgb3IgImJvcmRlciIgb3IgIm1hcmdpbiINCgkJaWYgKCAhaXNCb3JkZXJCb3ggKSB7DQoNCgkJCS8vIEFkZCBwYWRkaW5nDQoJCQlkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCAicGFkZGluZyIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7DQoNCgkJCS8vIEZvciAiYm9yZGVyIiBvciAibWFyZ2luIiwgYWRkIGJvcmRlcg0KCQkJaWYgKCBib3ggIT09ICJwYWRkaW5nIiApIHsNCgkJCQlkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCAiYm9yZGVyIiArIGNzc0V4cGFuZFsgaSBdICsgIldpZHRoIiwgdHJ1ZSwgc3R5bGVzICk7DQoNCgkJCS8vIEJ1dCBzdGlsbCBrZWVwIHRyYWNrIG9mIGl0IG90aGVyd2lzZQ0KCQkJfSBlbHNlIHsNCgkJCQlleHRyYSArPSBqUXVlcnkuY3NzKCBlbGVtLCAiYm9yZGVyIiArIGNzc0V4cGFuZFsgaSBdICsgIldpZHRoIiwgdHJ1ZSwgc3R5bGVzICk7DQoJCQl9DQoNCgkJLy8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGJvcmRlci1ib3ggKGNvbnRlbnQgKyBwYWRkaW5nICsgYm9yZGVyKSwgd2UncmUgc2Vla2luZyAiY29udGVudCIgb3INCgkJLy8gInBhZGRpbmciIG9yICJtYXJnaW4iDQoJCX0gZWxzZSB7DQoNCgkJCS8vIEZvciAiY29udGVudCIsIHN1YnRyYWN0IHBhZGRpbmcNCgkJCWlmICggYm94ID09PSAiY29udGVudCIgKSB7DQoJCQkJZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgInBhZGRpbmciICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApOw0KCQkJfQ0KDQoJCQkvLyBGb3IgImNvbnRlbnQiIG9yICJwYWRkaW5nIiwgc3VidHJhY3QgYm9yZGVyDQoJCQlpZiAoIGJveCAhPT0gIm1hcmdpbiIgKSB7DQoJCQkJZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgImJvcmRlciIgKyBjc3NFeHBhbmRbIGkgXSArICJXaWR0aCIsIHRydWUsIHN0eWxlcyApOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJLy8gQWNjb3VudCBmb3IgcG9zaXRpdmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlciB3aGVuIHJlcXVlc3RlZCBieSBwcm92aWRpbmcgY29tcHV0ZWRWYWwNCglpZiAoICFpc0JvcmRlckJveCAmJiBjb21wdXRlZFZhbCA+PSAwICkgew0KDQoJCS8vIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBpcyBhIHJvdW5kZWQgc3VtIG9mIGNvbnRlbnQsIHBhZGRpbmcsIHNjcm9sbCBndXR0ZXIsIGFuZCBib3JkZXINCgkJLy8gQXNzdW1pbmcgaW50ZWdlciBzY3JvbGwgZ3V0dGVyLCBzdWJ0cmFjdCB0aGUgcmVzdCBhbmQgcm91bmQgZG93bg0KCQlkZWx0YSArPSBNYXRoLm1heCggMCwgTWF0aC5jZWlsKA0KCQkJZWxlbVsgIm9mZnNldCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICkgXSAtDQoJCQljb21wdXRlZFZhbCAtDQoJCQlkZWx0YSAtDQoJCQlleHRyYSAtDQoJCQkwLjUNCg0KCQkvLyBJZiBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgdW5rbm93biwgdGhlbiB3ZSBjYW4ndCBkZXRlcm1pbmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlcg0KCQkvLyBVc2UgYW4gZXhwbGljaXQgemVybyB0byBhdm9pZCBOYU4gKGdoLTM5NjQpDQoJCSkgKSB8fCAwOw0KCX0NCg0KCXJldHVybiBkZWx0YTsNCn0NCg0KZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApIHsNCg0KCS8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGUNCgl2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksDQoNCgkJLy8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtNDMyMikuDQoJCS8vIEZha2UgY29udGVudC1ib3ggdW50aWwgd2Uga25vdyBpdCdzIG5lZWRlZCB0byBrbm93IHRoZSB0cnVlIHZhbHVlLg0KCQlib3hTaXppbmdOZWVkZWQgPSAhc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IGV4dHJhLA0KCQlpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJg0KCQkJalF1ZXJ5LmNzcyggZWxlbSwgImJveFNpemluZyIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImJvcmRlci1ib3giLA0KCQl2YWx1ZUlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3gsDQoNCgkJdmFsID0gY3VyQ1NTKCBlbGVtLCBkaW1lbnNpb24sIHN0eWxlcyApLA0KCQlvZmZzZXRQcm9wID0gIm9mZnNldCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICk7DQoNCgkvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTQNCgkvLyBSZXR1cm4gYSBjb25mb3VuZGluZyBub24tcGl4ZWwgdmFsdWUgb3IgZmVpZ24gaWdub3JhbmNlLCBhcyBhcHByb3ByaWF0ZS4NCglpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHsNCgkJaWYgKCAhZXh0cmEgKSB7DQoJCQlyZXR1cm4gdmFsOw0KCQl9DQoJCXZhbCA9ICJhdXRvIjsNCgl9DQoNCg0KCS8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5DQoJLy8gVXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3Igd2hlbiBib3ggc2l6aW5nIGlzIHVucmVsaWFibGUuDQoJLy8gSW4gdGhvc2UgY2FzZXMsIHRoZSBjb21wdXRlZCB2YWx1ZSBjYW4gYmUgdHJ1c3RlZCB0byBiZSBib3JkZXItYm94Lg0KCWlmICggKCAhc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpICYmIGlzQm9yZGVyQm94IHx8DQoNCgkJLy8gU3VwcG9ydDogSUUgMTAgLSAxMSssIEVkZ2UgMTUgLSAxOCsNCgkJLy8gSUUvRWRnZSBtaXNyZXBvcnQgYGdldENvbXB1dGVkU3R5bGVgIG9mIHRhYmxlIHJvd3Mgd2l0aCB3aWR0aC9oZWlnaHQNCgkJLy8gc2V0IGluIENTUyB3aGlsZSBgb2Zmc2V0KmAgcHJvcGVydGllcyByZXBvcnQgY29ycmVjdCB2YWx1ZXMuDQoJCS8vIEludGVyZXN0aW5nbHksIGluIHNvbWUgY2FzZXMgSUUgOSBkb2Vzbid0IHN1ZmZlciBmcm9tIHRoaXMgaXNzdWUuDQoJCSFzdXBwb3J0LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkgJiYgbm9kZU5hbWUoIGVsZW0sICJ0ciIgKSB8fA0KDQoJCS8vIEZhbGwgYmFjayB0byBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgd2hlbiB2YWx1ZSBpcyAiYXV0byINCgkJLy8gVGhpcyBoYXBwZW5zIGZvciBpbmxpbmUgZWxlbWVudHMgd2l0aCBubyBleHBsaWNpdCBzZXR0aW5nIChnaC0zNTcxKQ0KCQl2YWwgPT09ICJhdXRvIiB8fA0KDQoJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgLSA0LjMgb25seQ0KCQkvLyBBbHNvIHVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIG1pc3JlcG9ydGVkIGlubGluZSBkaW1lbnNpb25zIChnaC0zNjAyKQ0KCQkhcGFyc2VGbG9hdCggdmFsICkgJiYgalF1ZXJ5LmNzcyggZWxlbSwgImRpc3BsYXkiLCBmYWxzZSwgc3R5bGVzICkgPT09ICJpbmxpbmUiICkgJiYNCg0KCQkvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSAmIGNvbm5lY3RlZA0KCQllbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkgew0KDQoJCWlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgImJveFNpemluZyIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImJvcmRlci1ib3giOw0KDQoJCS8vIFdoZXJlIGF2YWlsYWJsZSwgb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGFwcHJveGltYXRlIGJvcmRlciBib3ggZGltZW5zaW9ucy4NCgkJLy8gV2hlcmUgbm90IGF2YWlsYWJsZSAoZS5nLiwgU1ZHKSwgYXNzdW1lIHVucmVsaWFibGUgYm94LXNpemluZyBhbmQgaW50ZXJwcmV0IHRoZQ0KCQkvLyByZXRyaWV2ZWQgdmFsdWUgYXMgYSBjb250ZW50IGJveCBkaW1lbnNpb24uDQoJCXZhbHVlSXNCb3JkZXJCb3ggPSBvZmZzZXRQcm9wIGluIGVsZW07DQoJCWlmICggdmFsdWVJc0JvcmRlckJveCApIHsNCgkJCXZhbCA9IGVsZW1bIG9mZnNldFByb3AgXTsNCgkJfQ0KCX0NCg0KCS8vIE5vcm1hbGl6ZSAiIiBhbmQgYXV0bw0KCXZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7DQoNCgkvLyBBZGp1c3QgZm9yIHRoZSBlbGVtZW50J3MgYm94IG1vZGVsDQoJcmV0dXJuICggdmFsICsNCgkJYm94TW9kZWxBZGp1c3RtZW50KA0KCQkJZWxlbSwNCgkJCWRpbWVuc2lvbiwNCgkJCWV4dHJhIHx8ICggaXNCb3JkZXJCb3ggPyAiYm9yZGVyIiA6ICJjb250ZW50IiApLA0KCQkJdmFsdWVJc0JvcmRlckJveCwNCgkJCXN0eWxlcywNCg0KCQkJLy8gUHJvdmlkZSB0aGUgY3VycmVudCBjb21wdXRlZCBzaXplIHRvIHJlcXVlc3Qgc2Nyb2xsIGd1dHRlciBjYWxjdWxhdGlvbiAoZ2gtMzU4OSkNCgkJCXZhbA0KCQkpDQoJKSArICJweCI7DQp9DQoNCmpRdWVyeS5leHRlbmQoIHsNCg0KCS8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdA0KCS8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9wZXJ0eQ0KCWNzc0hvb2tzOiB7DQoJCW9wYWNpdHk6IHsNCgkJCWdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkgew0KCQkJCWlmICggY29tcHV0ZWQgKSB7DQoNCgkJCQkJLy8gV2Ugc2hvdWxkIGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHkNCgkJCQkJdmFyIHJldCA9IGN1ckNTUyggZWxlbSwgIm9wYWNpdHkiICk7DQoJCQkJCXJldHVybiByZXQgPT09ICIiID8gIjEiIDogcmV0Ow0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0sDQoNCgkvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCAicHgiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXMNCgljc3NOdW1iZXI6IHsNCgkJImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IjogdHJ1ZSwNCgkJImNvbHVtbkNvdW50IjogdHJ1ZSwNCgkJImZpbGxPcGFjaXR5IjogdHJ1ZSwNCgkJImZsZXhHcm93IjogdHJ1ZSwNCgkJImZsZXhTaHJpbmsiOiB0cnVlLA0KCQkiZm9udFdlaWdodCI6IHRydWUsDQoJCSJncmlkQXJlYSI6IHRydWUsDQoJCSJncmlkQ29sdW1uIjogdHJ1ZSwNCgkJImdyaWRDb2x1bW5FbmQiOiB0cnVlLA0KCQkiZ3JpZENvbHVtblN0YXJ0IjogdHJ1ZSwNCgkJImdyaWRSb3ciOiB0cnVlLA0KCQkiZ3JpZFJvd0VuZCI6IHRydWUsDQoJCSJncmlkUm93U3RhcnQiOiB0cnVlLA0KCQkibGluZUhlaWdodCI6IHRydWUsDQoJCSJvcGFjaXR5IjogdHJ1ZSwNCgkJIm9yZGVyIjogdHJ1ZSwNCgkJIm9ycGhhbnMiOiB0cnVlLA0KCQkid2lkb3dzIjogdHJ1ZSwNCgkJInpJbmRleCI6IHRydWUsDQoJCSJ6b29tIjogdHJ1ZQ0KCX0sDQoNCgkvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlDQoJLy8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZQ0KCWNzc1Byb3BzOiB7fSwNCg0KCS8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlDQoJc3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7DQoNCgkJLy8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzDQoJCWlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkgew0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJLy8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lDQoJCXZhciByZXQsIHR5cGUsIGhvb2tzLA0KCQkJb3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSwNCgkJCWlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKSwNCgkJCXN0eWxlID0gZWxlbS5zdHlsZTsNCg0KCQkvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0DQoJCS8vIHdhbnQgdG8gcXVlcnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eQ0KCQkvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuDQoJCWlmICggIWlzQ3VzdG9tUHJvcCApIHsNCgkJCW5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApOw0KCQl9DQoNCgkJLy8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb24NCgkJaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07DQoNCgkJLy8gQ2hlY2sgaWYgd2UncmUgc2V0dGluZyBhIHZhbHVlDQoJCWlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHsNCgkJCXR5cGUgPSB0eXBlb2YgdmFsdWU7DQoNCgkJCS8vIENvbnZlcnQgIis9IiBvciAiLT0iIHRvIHJlbGF0aXZlIG51bWJlcnMgKCM3MzQ1KQ0KCQkJaWYgKCB0eXBlID09PSAic3RyaW5nIiAmJiAoIHJldCA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmIHJldFsgMSBdICkgew0KCQkJCXZhbHVlID0gYWRqdXN0Q1NTKCBlbGVtLCBuYW1lLCByZXQgKTsNCg0KCQkJCS8vIEZpeGVzIGJ1ZyAjOTIzNw0KCQkJCXR5cGUgPSAibnVtYmVyIjsNCgkJCX0NCg0KCQkJLy8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNikNCgkJCWlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQkvLyBJZiBhIG51bWJlciB3YXMgcGFzc2VkIGluLCBhZGQgdGhlIHVuaXQgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcykNCgkJCS8vIFRoZSBpc0N1c3RvbVByb3AgY2hlY2sgY2FuIGJlIHJlbW92ZWQgaW4galF1ZXJ5IDQuMCB3aGVuIHdlIG9ubHkgYXV0by1hcHBlbmQNCgkJCS8vICJweCIgdG8gYSBmZXcgaGFyZGNvZGVkIHZhbHVlcy4NCgkJCWlmICggdHlwZSA9PT0gIm51bWJlciIgJiYgIWlzQ3VzdG9tUHJvcCApIHsNCgkJCQl2YWx1ZSArPSByZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gIiIgOiAicHgiICk7DQoJCQl9DQoNCgkJCS8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXMNCgkJCWlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSAiIiAmJiBuYW1lLmluZGV4T2YoICJiYWNrZ3JvdW5kIiApID09PSAwICkgew0KCQkJCXN0eWxlWyBuYW1lIF0gPSAiaW5oZXJpdCI7DQoJCQl9DQoNCgkJCS8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZQ0KCQkJaWYgKCAhaG9va3MgfHwgISggInNldCIgaW4gaG9va3MgKSB8fA0KCQkJCSggdmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHsNCg0KCQkJCWlmICggaXNDdXN0b21Qcm9wICkgew0KCQkJCQlzdHlsZS5zZXRQcm9wZXJ0eSggbmFtZSwgdmFsdWUgKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQlzdHlsZVsgbmFtZSBdID0gdmFsdWU7DQoJCQkJfQ0KCQkJfQ0KDQoJCX0gZWxzZSB7DQoNCgkJCS8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBub24tY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZQ0KCQkJaWYgKCBob29rcyAmJiAiZ2V0IiBpbiBob29rcyAmJg0KCQkJCSggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBmYWxzZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7DQoNCgkJCQlyZXR1cm4gcmV0Ow0KCQkJfQ0KDQoJCQkvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdA0KCQkJcmV0dXJuIHN0eWxlWyBuYW1lIF07DQoJCX0NCgl9LA0KDQoJY3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHsNCgkJdmFyIHZhbCwgbnVtLCBob29rcywNCgkJCW9yaWdOYW1lID0gY2FtZWxDYXNlKCBuYW1lICksDQoJCQlpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICk7DQoNCgkJLy8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lLiBXZSBkb24ndA0KCQkvLyB3YW50IHRvIG1vZGlmeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5DQoJCS8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC4NCgkJaWYgKCAhaXNDdXN0b21Qcm9wICkgew0KCQkJbmFtZSA9IGZpbmFsUHJvcE5hbWUoIG9yaWdOYW1lICk7DQoJCX0NCg0KCQkvLyBUcnkgcHJlZml4ZWQgbmFtZSBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCBuYW1lDQoJCWhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdOw0KDQoJCS8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlDQoJCWlmICggaG9va3MgJiYgImdldCIgaW4gaG9va3MgKSB7DQoJCQl2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7DQoJCX0NCg0KCQkvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdA0KCQlpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkgew0KCQkJdmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTsNCgkJfQ0KDQoJCS8vIENvbnZlcnQgIm5vcm1hbCIgdG8gY29tcHV0ZWQgdmFsdWUNCgkJaWYgKCB2YWwgPT09ICJub3JtYWwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtICkgew0KCQkJdmFsID0gY3NzTm9ybWFsVHJhbnNmb3JtWyBuYW1lIF07DQoJCX0NCg0KCQkvLyBNYWtlIG51bWVyaWMgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWMNCgkJaWYgKCBleHRyYSA9PT0gIiIgfHwgZXh0cmEgKSB7DQoJCQludW0gPSBwYXJzZUZsb2F0KCB2YWwgKTsNCgkJCXJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDsNCgkJfQ0KDQoJCXJldHVybiB2YWw7DQoJfQ0KfSApOw0KDQpqUXVlcnkuZWFjaCggWyAiaGVpZ2h0IiwgIndpZHRoIiBdLCBmdW5jdGlvbiggX2ksIGRpbWVuc2lvbiApIHsNCglqUXVlcnkuY3NzSG9va3NbIGRpbWVuc2lvbiBdID0gew0KCQlnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCwgZXh0cmEgKSB7DQoJCQlpZiAoIGNvbXB1dGVkICkgew0KDQoJCQkJLy8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtDQoJCQkJLy8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXQNCgkJCQlyZXR1cm4gcmRpc3BsYXlzd2FwLnRlc3QoIGpRdWVyeS5jc3MoIGVsZW0sICJkaXNwbGF5IiApICkgJiYNCg0KCQkJCQkvLyBTdXBwb3J0OiBTYWZhcmkgOCsNCgkJCQkJLy8gVGFibGUgY29sdW1ucyBpbiBTYWZhcmkgaGF2ZSBub24temVybyBvZmZzZXRXaWR0aCAmIHplcm8NCgkJCQkJLy8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC4NCgkJCQkJLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5DQoJCQkJCS8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGUNCgkJCQkJLy8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLg0KCQkJCQkoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgPw0KCQkJCQkJc3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7DQoJCQkJCQkJcmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKTsNCgkJCQkJCX0gKSA6DQoJCQkJCQlnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICk7DQoJCQl9DQoJCX0sDQoNCgkJc2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkgew0KCQkJdmFyIG1hdGNoZXMsDQoJCQkJc3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksDQoNCgkJCQkvLyBPbmx5IHJlYWQgc3R5bGVzLnBvc2l0aW9uIGlmIHRoZSB0ZXN0IGhhcyBhIGNoYW5jZSB0byBmYWlsDQoJCQkJLy8gdG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdy4NCgkJCQlzY3JvbGxib3hTaXplQnVnZ3kgPSAhc3VwcG9ydC5zY3JvbGxib3hTaXplKCkgJiYNCgkJCQkJc3R5bGVzLnBvc2l0aW9uID09PSAiYWJzb2x1dGUiLA0KDQoJCQkJLy8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtMzk5MSkNCgkJCQlib3hTaXppbmdOZWVkZWQgPSBzY3JvbGxib3hTaXplQnVnZ3kgfHwgZXh0cmEsDQoJCQkJaXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiYNCgkJCQkJalF1ZXJ5LmNzcyggZWxlbSwgImJveFNpemluZyIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImJvcmRlci1ib3giLA0KCQkJCXN1YnRyYWN0ID0gZXh0cmEgPw0KCQkJCQlib3hNb2RlbEFkanVzdG1lbnQoDQoJCQkJCQllbGVtLA0KCQkJCQkJZGltZW5zaW9uLA0KCQkJCQkJZXh0cmEsDQoJCQkJCQlpc0JvcmRlckJveCwNCgkJCQkJCXN0eWxlcw0KCQkJCQkpIDoNCgkJCQkJMDsNCg0KCQkJLy8gQWNjb3VudCBmb3IgdW5yZWxpYWJsZSBib3JkZXItYm94IGRpbWVuc2lvbnMgYnkgY29tcGFyaW5nIG9mZnNldCogdG8gY29tcHV0ZWQgYW5kDQoJCQkvLyBmYWtpbmcgYSBjb250ZW50LWJveCB0byBnZXQgYm9yZGVyIGFuZCBwYWRkaW5nIChnaC0zNjk5KQ0KCQkJaWYgKCBpc0JvcmRlckJveCAmJiBzY3JvbGxib3hTaXplQnVnZ3kgKSB7DQoJCQkJc3VidHJhY3QgLT0gTWF0aC5jZWlsKA0KCQkJCQllbGVtWyAib2Zmc2V0IiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC0NCgkJCQkJcGFyc2VGbG9hdCggc3R5bGVzWyBkaW1lbnNpb24gXSApIC0NCgkJCQkJYm94TW9kZWxBZGp1c3RtZW50KCBlbGVtLCBkaW1lbnNpb24sICJib3JkZXIiLCBmYWxzZSwgc3R5bGVzICkgLQ0KCQkJCQkwLjUNCgkJCQkpOw0KCQkJfQ0KDQoJCQkvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZA0KCQkJaWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJg0KCQkJCSggbWF0Y2hlc1sgMyBdIHx8ICJweCIgKSAhPT0gInB4IiApIHsNCg0KCQkJCWVsZW0uc3R5bGVbIGRpbWVuc2lvbiBdID0gdmFsdWU7DQoJCQkJdmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBkaW1lbnNpb24gKTsNCgkJCX0NCg0KCQkJcmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKTsNCgkJfQ0KCX07DQp9ICk7DQoNCmpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCwNCglmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7DQoJCWlmICggY29tcHV0ZWQgKSB7DQoJCQlyZXR1cm4gKCBwYXJzZUZsb2F0KCBjdXJDU1MoIGVsZW0sICJtYXJnaW5MZWZ0IiApICkgfHwNCgkJCQllbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLQ0KCQkJCQlzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7DQoJCQkJCQlyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0Ow0KCQkJCQl9ICkNCgkJCQkpICsgInB4IjsNCgkJfQ0KCX0NCik7DQoNCi8vIFRoZXNlIGhvb2tzIGFyZSB1c2VkIGJ5IGFuaW1hdGUgdG8gZXhwYW5kIHByb3BlcnRpZXMNCmpRdWVyeS5lYWNoKCB7DQoJbWFyZ2luOiAiIiwNCglwYWRkaW5nOiAiIiwNCglib3JkZXI6ICJXaWR0aCINCn0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHsNCglqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0gew0KCQlleHBhbmQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHsNCgkJCXZhciBpID0gMCwNCgkJCQlleHBhbmRlZCA9IHt9LA0KDQoJCQkJLy8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nDQoJCQkJcGFydHMgPSB0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciID8gdmFsdWUuc3BsaXQoICIgIiApIDogWyB2YWx1ZSBdOw0KDQoJCQlmb3IgKCA7IGkgPCA0OyBpKysgKSB7DQoJCQkJZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPQ0KCQkJCQlwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07DQoJCQl9DQoNCgkJCXJldHVybiBleHBhbmRlZDsNCgkJfQ0KCX07DQoNCglpZiAoIHByZWZpeCAhPT0gIm1hcmdpbiIgKSB7DQoJCWpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7DQoJfQ0KfSApOw0KDQpqUXVlcnkuZm4uZXh0ZW5kKCB7DQoJY3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7DQoJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHsNCgkJCXZhciBzdHlsZXMsIGxlbiwNCgkJCQltYXAgPSB7fSwNCgkJCQlpID0gMDsNCg0KCQkJaWYgKCBBcnJheS5pc0FycmF5KCBuYW1lICkgKSB7DQoJCQkJc3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7DQoJCQkJbGVuID0gbmFtZS5sZW5ndGg7DQoNCgkJCQlmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsNCgkJCQkJbWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApOw0KCQkJCX0NCg0KCQkJCXJldHVybiBtYXA7DQoJCQl9DQoNCgkJCXJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8NCgkJCQlqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOg0KCQkJCWpRdWVyeS5jc3MoIGVsZW0sIG5hbWUgKTsNCgkJfSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7DQoJfQ0KfSApOw0KDQoNCmZ1bmN0aW9uIFR3ZWVuKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApIHsNCglyZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApOw0KfQ0KalF1ZXJ5LlR3ZWVuID0gVHdlZW47DQoNClR3ZWVuLnByb3RvdHlwZSA9IHsNCgljb25zdHJ1Y3RvcjogVHdlZW4sDQoJaW5pdDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nLCB1bml0ICkgew0KCQl0aGlzLmVsZW0gPSBlbGVtOw0KCQl0aGlzLnByb3AgPSBwcm9wOw0KCQl0aGlzLmVhc2luZyA9IGVhc2luZyB8fCBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0Ow0KCQl0aGlzLm9wdGlvbnMgPSBvcHRpb25zOw0KCQl0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpOw0KCQl0aGlzLmVuZCA9IGVuZDsNCgkJdGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/ICIiIDogInB4IiApOw0KCX0sDQoJY3VyOiBmdW5jdGlvbigpIHsNCgkJdmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTsNCg0KCQlyZXR1cm4gaG9va3MgJiYgaG9va3MuZ2V0ID8NCgkJCWhvb2tzLmdldCggdGhpcyApIDoNCgkJCVR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQoIHRoaXMgKTsNCgl9LA0KCXJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7DQoJCXZhciBlYXNlZCwNCgkJCWhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTsNCg0KCQlpZiAoIHRoaXMub3B0aW9ucy5kdXJhdGlvbiApIHsNCgkJCXRoaXMucG9zID0gZWFzZWQgPSBqUXVlcnkuZWFzaW5nWyB0aGlzLmVhc2luZyBdKA0KCQkJCXBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvbg0KCQkJKTsNCgkJfSBlbHNlIHsNCgkJCXRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50Ow0KCQl9DQoJCXRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDsNCg0KCQlpZiAoIHRoaXMub3B0aW9ucy5zdGVwICkgew0KCQkJdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCggdGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyApOw0KCQl9DQoNCgkJaWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7DQoJCQlob29rcy5zZXQoIHRoaXMgKTsNCgkJfSBlbHNlIHsNCgkJCVR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQoIHRoaXMgKTsNCgkJfQ0KCQlyZXR1cm4gdGhpczsNCgl9DQp9Ow0KDQpUd2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7DQoNClR3ZWVuLnByb3BIb29rcyA9IHsNCglfZGVmYXVsdDogew0KCQlnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHsNCgkJCXZhciByZXN1bHQ7DQoNCgkJCS8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsDQoJCQkvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLg0KCQkJaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8DQoJCQkJdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7DQoJCQkJcmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTsNCgkJCX0NCg0KCQkJLy8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5DQoJCQkvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLg0KCQkJLy8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzICIxMHB4IiBhcmUgcGFyc2VkIHRvIEZsb2F0Ow0KCQkJLy8gY29tcGxleCB2YWx1ZXMgc3VjaCBhcyAicm90YXRlKDFyYWQpIiBhcmUgcmV0dXJuZWQgYXMtaXMuDQoJCQlyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCAiIiApOw0KDQoJCQkvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kICJhdXRvIiBhcmUgY29udmVydGVkIHRvIDAuDQoJCQlyZXR1cm4gIXJlc3VsdCB8fCByZXN1bHQgPT09ICJhdXRvIiA/IDAgOiByZXN1bHQ7DQoJCX0sDQoJCXNldDogZnVuY3Rpb24oIHR3ZWVuICkgew0KDQoJCQkvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC4NCgkJCS8vIFVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZS4NCgkJCS8vIFVzZSAuc3R5bGUgaWYgYXZhaWxhYmxlIGFuZCB1c2UgcGxhaW4gcHJvcGVydGllcyB3aGVyZSBhdmFpbGFibGUuDQoJCQlpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7DQoJCQkJalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTsNCgkJCX0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKA0KCQkJCQlqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSB8fA0KCQkJCQl0d2Vlbi5lbGVtLnN0eWxlWyBmaW5hbFByb3BOYW1lKCB0d2Vlbi5wcm9wICkgXSAhPSBudWxsICkgKSB7DQoJCQkJalF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7DQoJCQl9IGVsc2Ugew0KCQkJCXR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdzsNCgkJCX0NCgkJfQ0KCX0NCn07DQoNCi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5DQovLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXMNClR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHsNCglzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHsNCgkJaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHsNCgkJCXR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdzsNCgkJfQ0KCX0NCn07DQoNCmpRdWVyeS5lYXNpbmcgPSB7DQoJbGluZWFyOiBmdW5jdGlvbiggcCApIHsNCgkJcmV0dXJuIHA7DQoJfSwNCglzd2luZzogZnVuY3Rpb24oIHAgKSB7DQoJCXJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7DQoJfSwNCglfZGVmYXVsdDogInN3aW5nIg0KfTsNCg0KalF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmluaXQ7DQoNCi8vIEJhY2sgY29tcGF0IDwxLjggZXh0ZW5zaW9uIHBvaW50DQpqUXVlcnkuZnguc3RlcCA9IHt9Ow0KDQoNCg0KDQp2YXINCglmeE5vdywgaW5Qcm9ncmVzcywNCglyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLywNCglycnVuID0gL3F1ZXVlSG9va3MkLzsNCg0KZnVuY3Rpb24gc2NoZWR1bGUoKSB7DQoJaWYgKCBpblByb2dyZXNzICkgew0KCQlpZiAoIGRvY3VtZW50LmhpZGRlbiA9PT0gZmFsc2UgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSApIHsNCgkJCXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHNjaGVkdWxlICk7DQoJCX0gZWxzZSB7DQoJCQl3aW5kb3cuc2V0VGltZW91dCggc2NoZWR1bGUsIGpRdWVyeS5meC5pbnRlcnZhbCApOw0KCQl9DQoNCgkJalF1ZXJ5LmZ4LnRpY2soKTsNCgl9DQp9DQoNCi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHkNCmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkgew0KCXdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsNCgkJZnhOb3cgPSB1bmRlZmluZWQ7DQoJfSApOw0KCXJldHVybiAoIGZ4Tm93ID0gRGF0ZS5ub3coKSApOw0KfQ0KDQovLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvbg0KZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHsNCgl2YXIgd2hpY2gsDQoJCWkgPSAwLA0KCQlhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07DQoNCgkvLyBJZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsDQoJLy8gb3RoZXJ3aXNlIHN0ZXAgdmFsdWUgaXMgMiB0byBza2lwIG92ZXIgTGVmdCBhbmQgUmlnaHQNCglpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDsNCglmb3IgKCA7IGkgPCA0OyBpICs9IDIgLSBpbmNsdWRlV2lkdGggKSB7DQoJCXdoaWNoID0gY3NzRXhwYW5kWyBpIF07DQoJCWF0dHJzWyAibWFyZ2luIiArIHdoaWNoIF0gPSBhdHRyc1sgInBhZGRpbmciICsgd2hpY2ggXSA9IHR5cGU7DQoJfQ0KDQoJaWYgKCBpbmNsdWRlV2lkdGggKSB7DQoJCWF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7DQoJfQ0KDQoJcmV0dXJuIGF0dHJzOw0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHsNCgl2YXIgdHdlZW4sDQoJCWNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbICIqIiBdICksDQoJCWluZGV4ID0gMCwNCgkJbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7DQoJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsNCgkJaWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHsNCg0KCQkJLy8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHkNCgkJCXJldHVybiB0d2VlbjsNCgkJfQ0KCX0NCn0NCg0KZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7DQoJdmFyIHByb3AsIHZhbHVlLCB0b2dnbGUsIGhvb2tzLCBvbGRmaXJlLCBwcm9wVHdlZW4sIHJlc3RvcmVEaXNwbGF5LCBkaXNwbGF5LA0KCQlpc0JveCA9ICJ3aWR0aCIgaW4gcHJvcHMgfHwgImhlaWdodCIgaW4gcHJvcHMsDQoJCWFuaW0gPSB0aGlzLA0KCQlvcmlnID0ge30sDQoJCXN0eWxlID0gZWxlbS5zdHlsZSwNCgkJaGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSwNCgkJZGF0YVNob3cgPSBkYXRhUHJpdi5nZXQoIGVsZW0sICJmeHNob3ciICk7DQoNCgkvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3MNCglpZiAoICFvcHRzLnF1ZXVlICkgew0KCQlob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgImZ4IiApOw0KCQlpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7DQoJCQlob29rcy51bnF1ZXVlZCA9IDA7DQoJCQlvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTsNCgkJCWhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHsNCgkJCQlpZiAoICFob29rcy51bnF1ZXVlZCApIHsNCgkJCQkJb2xkZmlyZSgpOw0KCQkJCX0NCgkJCX07DQoJCX0NCgkJaG9va3MudW5xdWV1ZWQrKzsNCg0KCQlhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7DQoNCgkJCS8vIEVuc3VyZSB0aGUgY29tcGxldGUgaGFuZGxlciBpcyBjYWxsZWQgYmVmb3JlIHRoaXMgY29tcGxldGVzDQoJCQlhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7DQoJCQkJaG9va3MudW5xdWV1ZWQtLTsNCgkJCQlpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sICJmeCIgKS5sZW5ndGggKSB7DQoJCQkJCWhvb2tzLmVtcHR5LmZpcmUoKTsNCgkJCQl9DQoJCQl9ICk7DQoJCX0gKTsNCgl9DQoNCgkvLyBEZXRlY3Qgc2hvdy9oaWRlIGFuaW1hdGlvbnMNCglmb3IgKCBwcm9wIGluIHByb3BzICkgew0KCQl2YWx1ZSA9IHByb3BzWyBwcm9wIF07DQoJCWlmICggcmZ4dHlwZXMudGVzdCggdmFsdWUgKSApIHsNCgkJCWRlbGV0ZSBwcm9wc1sgcHJvcCBdOw0KCQkJdG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09PSAidG9nZ2xlIjsNCgkJCWlmICggdmFsdWUgPT09ICggaGlkZGVuID8gImhpZGUiIDogInNob3ciICkgKSB7DQoNCgkJCQkvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgInNob3ciIGFuZA0KCQkJCS8vIHRoZXJlIGlzIHN0aWxsIGRhdGEgZnJvbSBhIHN0b3BwZWQgc2hvdy9oaWRlDQoJCQkJaWYgKCB2YWx1ZSA9PT0gInNob3ciICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHsNCgkJCQkJaGlkZGVuID0gdHJ1ZTsNCg0KCQkJCS8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGENCgkJCQl9IGVsc2Ugew0KCQkJCQljb250aW51ZTsNCgkJCQl9DQoJCQl9DQoJCQlvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApOw0KCQl9DQoJfQ0KDQoJLy8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKCkNCglwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7DQoJaWYgKCAhcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7DQoJCXJldHVybjsNCgl9DQoNCgkvLyBSZXN0cmljdCAib3ZlcmZsb3ciIGFuZCAiZGlzcGxheSIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9ucw0KCWlmICggaXNCb3ggJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsNCg0KCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1DQoJCS8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUUgZG9lcyBub3QgaW5mZXIgdGhlIHNob3J0aGFuZA0KCQkvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WSBhbmQgRWRnZSBqdXN0IG1pcnJvcnMNCgkJLy8gdGhlIG92ZXJmbG93WCB2YWx1ZSB0aGVyZS4NCgkJb3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07DQoNCgkJLy8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlDQoJCXJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTsNCgkJaWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkgew0KCQkJcmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoIGVsZW0sICJkaXNwbGF5IiApOw0KCQl9DQoJCWRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCAiZGlzcGxheSIgKTsNCgkJaWYgKCBkaXNwbGF5ID09PSAibm9uZSIgKSB7DQoJCQlpZiAoIHJlc3RvcmVEaXNwbGF5ICkgew0KCQkJCWRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTsNCgkJCX0gZWxzZSB7DQoNCgkJCQkvLyBHZXQgbm9uZW1wdHkgdmFsdWUocykgYnkgdGVtcG9yYXJpbHkgZm9yY2luZyB2aXNpYmlsaXR5DQoJCQkJc2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7DQoJCQkJcmVzdG9yZURpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXkgfHwgcmVzdG9yZURpc3BsYXk7DQoJCQkJZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sICJkaXNwbGF5IiApOw0KCQkJCXNob3dIaWRlKCBbIGVsZW0gXSApOw0KCQkJfQ0KCQl9DQoNCgkJLy8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrDQoJCWlmICggZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIgJiYgcmVzdG9yZURpc3BsYXkgIT0gbnVsbCApIHsNCgkJCWlmICggalF1ZXJ5LmNzcyggZWxlbSwgImZsb2F0IiApID09PSAibm9uZSIgKSB7DQoNCgkJCQkvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBkaXNwbGF5IHZhbHVlIGF0IHRoZSBlbmQgb2YgcHVyZSBzaG93L2hpZGUgYW5pbWF0aW9ucw0KCQkJCWlmICggIXByb3BUd2VlbiApIHsNCgkJCQkJYW5pbS5kb25lKCBmdW5jdGlvbigpIHsNCgkJCQkJCXN0eWxlLmRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTsNCgkJCQkJfSApOw0KCQkJCQlpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7DQoJCQkJCQlkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTsNCgkJCQkJCXJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gIm5vbmUiID8gIiIgOiBkaXNwbGF5Ow0KCQkJCQl9DQoJCQkJfQ0KCQkJCXN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsNCgkJCX0NCgkJfQ0KCX0NCg0KCWlmICggb3B0cy5vdmVyZmxvdyApIHsNCgkJc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsNCgkJYW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkgew0KCQkJc3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WyAwIF07DQoJCQlzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07DQoJCQlzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07DQoJCX0gKTsNCgl9DQoNCgkvLyBJbXBsZW1lbnQgc2hvdy9oaWRlIGFuaW1hdGlvbnMNCglwcm9wVHdlZW4gPSBmYWxzZTsNCglmb3IgKCBwcm9wIGluIG9yaWcgKSB7DQoNCgkJLy8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb24NCgkJaWYgKCAhcHJvcFR3ZWVuICkgew0KCQkJaWYgKCBkYXRhU2hvdyApIHsNCgkJCQlpZiAoICJoaWRkZW4iIGluIGRhdGFTaG93ICkgew0KCQkJCQloaWRkZW4gPSBkYXRhU2hvdy5oaWRkZW47DQoJCQkJfQ0KCQkJfSBlbHNlIHsNCgkJCQlkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgImZ4c2hvdyIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSApOw0KCQkJfQ0KDQoJCQkvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCAicmV2ZXJzZXMiDQoJCQlpZiAoIHRvZ2dsZSApIHsNCgkJCQlkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuOw0KCQkJfQ0KDQoJCQkvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbQ0KCQkJaWYgKCBoaWRkZW4gKSB7DQoJCQkJc2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7DQoJCQl9DQoNCgkJCS8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqLw0KDQoJCQlhbmltLmRvbmUoIGZ1bmN0aW9uKCkgew0KDQoJCQkvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqLw0KDQoJCQkJLy8gVGhlIGZpbmFsIHN0ZXAgb2YgYSAiaGlkZSIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudA0KCQkJCWlmICggIWhpZGRlbiApIHsNCgkJCQkJc2hvd0hpZGUoIFsgZWxlbSBdICk7DQoJCQkJfQ0KCQkJCWRhdGFQcml2LnJlbW92ZSggZWxlbSwgImZ4c2hvdyIgKTsNCgkJCQlmb3IgKCBwcm9wIGluIG9yaWcgKSB7DQoJCQkJCWpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgb3JpZ1sgcHJvcCBdICk7DQoJCQkJfQ0KCQkJfSApOw0KCQl9DQoNCgkJLy8gUGVyLXByb3BlcnR5IHNldHVwDQoJCXByb3BUd2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApOw0KCQlpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHsNCgkJCWRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7DQoJCQlpZiAoIGhpZGRlbiApIHsNCgkJCQlwcm9wVHdlZW4uZW5kID0gcHJvcFR3ZWVuLnN0YXJ0Ow0KCQkJCXByb3BUd2Vlbi5zdGFydCA9IDA7DQoJCQl9DQoJCX0NCgl9DQp9DQoNCmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkgew0KCXZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7DQoNCgkvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3MNCglmb3IgKCBpbmRleCBpbiBwcm9wcyApIHsNCgkJbmFtZSA9IGNhbWVsQ2FzZSggaW5kZXggKTsNCgkJZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdOw0KCQl2YWx1ZSA9IHByb3BzWyBpbmRleCBdOw0KCQlpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7DQoJCQllYXNpbmcgPSB2YWx1ZVsgMSBdOw0KCQkJdmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07DQoJCX0NCg0KCQlpZiAoIGluZGV4ICE9PSBuYW1lICkgew0KCQkJcHJvcHNbIG5hbWUgXSA9IHZhbHVlOw0KCQkJZGVsZXRlIHByb3BzWyBpbmRleCBdOw0KCQl9DQoNCgkJaG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTsNCgkJaWYgKCBob29rcyAmJiAiZXhwYW5kIiBpbiBob29rcyApIHsNCgkJCXZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApOw0KCQkJZGVsZXRlIHByb3BzWyBuYW1lIF07DQoNCgkJCS8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy4NCgkJCS8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgIm5hbWUiDQoJCQlmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHsNCgkJCQlpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7DQoJCQkJCXByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07DQoJCQkJCXNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7DQoJCQkJfQ0KCQkJfQ0KCQl9IGVsc2Ugew0KCQkJc3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nOw0KCQl9DQoJfQ0KfQ0KDQpmdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7DQoJdmFyIHJlc3VsdCwNCgkJc3RvcHBlZCwNCgkJaW5kZXggPSAwLA0KCQlsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsDQoJCWRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHsNCg0KCQkJLy8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yDQoJCQlkZWxldGUgdGljay5lbGVtOw0KCQl9ICksDQoJCXRpY2sgPSBmdW5jdGlvbigpIHsNCgkJCWlmICggc3RvcHBlZCApIHsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCQl2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLA0KCQkJCXJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSwNCg0KCQkJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHkNCgkJCQkvLyBBcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgYDEgLSAoIDAuNSB8fCAwIClgICgjMTI0OTcpDQoJCQkJdGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLA0KCQkJCXBlcmNlbnQgPSAxIC0gdGVtcCwNCgkJCQlpbmRleCA9IDAsDQoJCQkJbGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7DQoNCgkJCWZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7DQoJCQkJYW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIHBlcmNlbnQgKTsNCgkJCX0NCg0KCQkJZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIHBlcmNlbnQsIHJlbWFpbmluZyBdICk7DQoNCgkJCS8vIElmIHRoZXJlJ3MgbW9yZSB0byBkbywgeWllbGQNCgkJCWlmICggcGVyY2VudCA8IDEgJiYgbGVuZ3RoICkgew0KCQkJCXJldHVybiByZW1haW5pbmc7DQoJCQl9DQoNCgkJCS8vIElmIHRoaXMgd2FzIGFuIGVtcHR5IGFuaW1hdGlvbiwgc3ludGhlc2l6ZSBhIGZpbmFsIHByb2dyZXNzIG5vdGlmaWNhdGlvbg0KCQkJaWYgKCAhbGVuZ3RoICkgew0KCQkJCWRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTsNCgkJCX0NCg0KCQkJLy8gUmVzb2x2ZSB0aGUgYW5pbWF0aW9uIGFuZCByZXBvcnQgaXRzIGNvbmNsdXNpb24NCgkJCWRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0sDQoJCWFuaW1hdGlvbiA9IGRlZmVycmVkLnByb21pc2UoIHsNCgkJCWVsZW06IGVsZW0sDQoJCQlwcm9wczogalF1ZXJ5LmV4dGVuZCgge30sIHByb3BlcnRpZXMgKSwNCgkJCW9wdHM6IGpRdWVyeS5leHRlbmQoIHRydWUsIHsNCgkJCQlzcGVjaWFsRWFzaW5nOiB7fSwNCgkJCQllYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQNCgkJCX0sIG9wdGlvbnMgKSwNCgkJCW9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcywNCgkJCW9yaWdpbmFsT3B0aW9uczogb3B0aW9ucywNCgkJCXN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSwNCgkJCWR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLA0KCQkJdHdlZW5zOiBbXSwNCgkJCWNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkgew0KCQkJCXZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbiggZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCwNCgkJCQkJCWFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbIHByb3AgXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcgKTsNCgkJCQlhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7DQoJCQkJcmV0dXJuIHR3ZWVuOw0KCQkJfSwNCgkJCXN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkgew0KCQkJCXZhciBpbmRleCA9IDAsDQoNCgkJCQkJLy8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zDQoJCQkJCS8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydA0KCQkJCQlsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwOw0KCQkJCWlmICggc3RvcHBlZCApIHsNCgkJCQkJcmV0dXJuIHRoaXM7DQoJCQkJfQ0KCQkJCXN0b3BwZWQgPSB0cnVlOw0KCQkJCWZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7DQoJCQkJCWFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7DQoJCQkJfQ0KDQoJCQkJLy8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3QNCgkJCQlpZiAoIGdvdG9FbmQgKSB7DQoJCQkJCWRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTsNCgkJCQkJZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQlkZWZlcnJlZC5yZWplY3RXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7DQoJCQkJfQ0KCQkJCXJldHVybiB0aGlzOw0KCQkJfQ0KCQl9ICksDQoJCXByb3BzID0gYW5pbWF0aW9uLnByb3BzOw0KDQoJcHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTsNCg0KCWZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7DQoJCXJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7DQoJCWlmICggcmVzdWx0ICkgew0KCQkJaWYgKCBpc0Z1bmN0aW9uKCByZXN1bHQuc3RvcCApICkgew0KCQkJCWpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9DQoJCQkJCXJlc3VsdC5zdG9wLmJpbmQoIHJlc3VsdCApOw0KCQkJfQ0KCQkJcmV0dXJuIHJlc3VsdDsNCgkJfQ0KCX0NCg0KCWpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7DQoNCglpZiAoIGlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7DQoJCWFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApOw0KCX0NCg0KCS8vIEF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zDQoJYW5pbWF0aW9uDQoJCS5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKQ0KCQkuZG9uZSggYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUgKQ0KCQkuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApDQoJCS5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApOw0KDQoJalF1ZXJ5LmZ4LnRpbWVyKA0KCQlqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7DQoJCQllbGVtOiBlbGVtLA0KCQkJYW5pbTogYW5pbWF0aW9uLA0KCQkJcXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlDQoJCX0gKQ0KCSk7DQoNCglyZXR1cm4gYW5pbWF0aW9uOw0KfQ0KDQpqUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7DQoNCgl0d2VlbmVyczogew0KCQkiKiI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkgew0KCQkJdmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTsNCgkJCWFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApOw0KCQkJcmV0dXJuIHR3ZWVuOw0KCQl9IF0NCgl9LA0KDQoJdHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHsNCgkJaWYgKCBpc0Z1bmN0aW9uKCBwcm9wcyApICkgew0KCQkJY2FsbGJhY2sgPSBwcm9wczsNCgkJCXByb3BzID0gWyAiKiIgXTsNCgkJfSBlbHNlIHsNCgkJCXByb3BzID0gcHJvcHMubWF0Y2goIHJub3RodG1sd2hpdGUgKTsNCgkJfQ0KDQoJCXZhciBwcm9wLA0KCQkJaW5kZXggPSAwLA0KCQkJbGVuZ3RoID0gcHJvcHMubGVuZ3RoOw0KDQoJCWZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7DQoJCQlwcm9wID0gcHJvcHNbIGluZGV4IF07DQoJCQlBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdOw0KCQkJQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTsNCgkJfQ0KCX0sDQoNCglwcmVmaWx0ZXJzOiBbIGRlZmF1bHRQcmVmaWx0ZXIgXSwNCg0KCXByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkgew0KCQlpZiAoIHByZXBlbmQgKSB7DQoJCQlBbmltYXRpb24ucHJlZmlsdGVycy51bnNoaWZ0KCBjYWxsYmFjayApOw0KCQl9IGVsc2Ugew0KCQkJQW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTsNCgkJfQ0KCX0NCn0gKTsNCg0KalF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkgew0KCXZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09ICJvYmplY3QiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7DQoJCWNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8DQoJCQlpc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLA0KCQlkdXJhdGlvbjogc3BlZWQsDQoJCWVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nDQoJfTsNCg0KCS8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZg0KCWlmICggalF1ZXJ5LmZ4Lm9mZiApIHsNCgkJb3B0LmR1cmF0aW9uID0gMDsNCg0KCX0gZWxzZSB7DQoJCWlmICggdHlwZW9mIG9wdC5kdXJhdGlvbiAhPT0gIm51bWJlciIgKSB7DQoJCQlpZiAoIG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzICkgew0KCQkJCW9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdOw0KDQoJCQl9IGVsc2Ugew0KCQkJCW9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7DQoJCQl9DQoJCX0NCgl9DQoNCgkvLyBOb3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiAiZngiDQoJaWYgKCBvcHQucXVldWUgPT0gbnVsbCB8fCBvcHQucXVldWUgPT09IHRydWUgKSB7DQoJCW9wdC5xdWV1ZSA9ICJmeCI7DQoJfQ0KDQoJLy8gUXVldWVpbmcNCglvcHQub2xkID0gb3B0LmNvbXBsZXRlOw0KDQoJb3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7DQoJCWlmICggaXNGdW5jdGlvbiggb3B0Lm9sZCApICkgew0KCQkJb3B0Lm9sZC5jYWxsKCB0aGlzICk7DQoJCX0NCg0KCQlpZiAoIG9wdC5xdWV1ZSApIHsNCgkJCWpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTsNCgkJfQ0KCX07DQoNCglyZXR1cm4gb3B0Ow0KfTsNCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KCWZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHsNCg0KCQkvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDANCgkJcmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbldpdGhpblRyZWUgKS5jc3MoICJvcGFjaXR5IiwgMCApLnNob3coKQ0KDQoJCQkvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWQNCgkJCS5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7DQoJfSwNCglhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7DQoJCXZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksDQoJCQlvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksDQoJCQlkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkgew0KDQoJCQkJLy8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgcHJvcCBzbyBwZXItcHJvcGVydHkgZWFzaW5nIHdvbid0IGJlIGxvc3QNCgkJCQl2YXIgYW5pbSA9IEFuaW1hdGlvbiggdGhpcywgalF1ZXJ5LmV4dGVuZCgge30sIHByb3AgKSwgb3B0YWxsICk7DQoNCgkJCQkvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHkNCgkJCQlpZiAoIGVtcHR5IHx8IGRhdGFQcml2LmdldCggdGhpcywgImZpbmlzaCIgKSApIHsNCgkJCQkJYW5pbS5zdG9wKCB0cnVlICk7DQoJCQkJfQ0KCQkJfTsNCgkJCWRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uOw0KDQoJCXJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID8NCgkJCXRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6DQoJCQl0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7DQoJfSwNCglzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHsNCgkJdmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHsNCgkJCXZhciBzdG9wID0gaG9va3Muc3RvcDsNCgkJCWRlbGV0ZSBob29rcy5zdG9wOw0KCQkJc3RvcCggZ290b0VuZCApOw0KCQl9Ow0KDQoJCWlmICggdHlwZW9mIHR5cGUgIT09ICJzdHJpbmciICkgew0KCQkJZ290b0VuZCA9IGNsZWFyUXVldWU7DQoJCQljbGVhclF1ZXVlID0gdHlwZTsNCgkJCXR5cGUgPSB1bmRlZmluZWQ7DQoJCX0NCgkJaWYgKCBjbGVhclF1ZXVlICkgew0KCQkJdGhpcy5xdWV1ZSggdHlwZSB8fCAiZngiLCBbXSApOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQl2YXIgZGVxdWV1ZSA9IHRydWUsDQoJCQkJaW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArICJxdWV1ZUhvb2tzIiwNCgkJCQl0aW1lcnMgPSBqUXVlcnkudGltZXJzLA0KCQkJCWRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTsNCg0KCQkJaWYgKCBpbmRleCApIHsNCgkJCQlpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkgew0KCQkJCQlzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTsNCgkJCQl9DQoJCQl9IGVsc2Ugew0KCQkJCWZvciAoIGluZGV4IGluIGRhdGEgKSB7DQoJCQkJCWlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgJiYgcnJ1bi50ZXN0KCBpbmRleCApICkgew0KCQkJCQkJc3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoNCgkJCWZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7DQoJCQkJaWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJg0KCQkJCQkoIHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSApIHsNCg0KCQkJCQl0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7DQoJCQkJCWRlcXVldWUgPSBmYWxzZTsNCgkJCQkJdGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTsNCgkJCQl9DQoJCQl9DQoNCgkJCS8vIFN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWQuDQoJCQkvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoDQoJCQkvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuDQoJCQlpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7DQoJCQkJalF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTsNCgkJCX0NCgkJfSApOw0KCX0sDQoJZmluaXNoOiBmdW5jdGlvbiggdHlwZSApIHsNCgkJaWYgKCB0eXBlICE9PSBmYWxzZSApIHsNCgkJCXR5cGUgPSB0eXBlIHx8ICJmeCI7DQoJCX0NCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQl2YXIgaW5kZXgsDQoJCQkJZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApLA0KCQkJCXF1ZXVlID0gZGF0YVsgdHlwZSArICJxdWV1ZSIgXSwNCgkJCQlob29rcyA9IGRhdGFbIHR5cGUgKyAicXVldWVIb29rcyIgXSwNCgkJCQl0aW1lcnMgPSBqUXVlcnkudGltZXJzLA0KCQkJCWxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDsNCg0KCQkJLy8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YQ0KCQkJZGF0YS5maW5pc2ggPSB0cnVlOw0KDQoJCQkvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3QNCgkJCWpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTsNCg0KCQkJaWYgKCBob29rcyAmJiBob29rcy5zdG9wICkgew0KCQkJCWhvb2tzLnN0b3AuY2FsbCggdGhpcywgdHJ1ZSApOw0KCQkJfQ0KDQoJCQkvLyBMb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbQ0KCQkJZm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHsNCgkJCQlpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHsNCgkJCQkJdGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggdHJ1ZSApOw0KCQkJCQl0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApOw0KCQkJCX0NCgkJCX0NCg0KCQkJLy8gTG9vayBmb3IgYW55IGFuaW1hdGlvbnMgaW4gdGhlIG9sZCBxdWV1ZSBhbmQgZmluaXNoIHRoZW0NCgkJCWZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7DQoJCQkJaWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7DQoJCQkJCXF1ZXVlWyBpbmRleCBdLmZpbmlzaC5jYWxsKCB0aGlzICk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQkvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZw0KCQkJZGVsZXRlIGRhdGEuZmluaXNoOw0KCQl9ICk7DQoJfQ0KfSApOw0KDQpqUXVlcnkuZWFjaCggWyAidG9nZ2xlIiwgInNob3ciLCAiaGlkZSIgXSwgZnVuY3Rpb24oIF9pLCBuYW1lICkgew0KCXZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdOw0KCWpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkgew0KCQlyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09ICJib29sZWFuIiA/DQoJCQljc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOg0KCQkJdGhpcy5hbmltYXRlKCBnZW5GeCggbmFtZSwgdHJ1ZSApLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApOw0KCX07DQp9ICk7DQoNCi8vIEdlbmVyYXRlIHNob3J0Y3V0cyBmb3IgY3VzdG9tIGFuaW1hdGlvbnMNCmpRdWVyeS5lYWNoKCB7DQoJc2xpZGVEb3duOiBnZW5GeCggInNob3ciICksDQoJc2xpZGVVcDogZ2VuRngoICJoaWRlIiApLA0KCXNsaWRlVG9nZ2xlOiBnZW5GeCggInRvZ2dsZSIgKSwNCglmYWRlSW46IHsgb3BhY2l0eTogInNob3ciIH0sDQoJZmFkZU91dDogeyBvcGFjaXR5OiAiaGlkZSIgfSwNCglmYWRlVG9nZ2xlOiB7IG9wYWNpdHk6ICJ0b2dnbGUiIH0NCn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHsNCglqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHsNCgkJcmV0dXJuIHRoaXMuYW5pbWF0ZSggcHJvcHMsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7DQoJfTsNCn0gKTsNCg0KalF1ZXJ5LnRpbWVycyA9IFtdOw0KalF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHsNCgl2YXIgdGltZXIsDQoJCWkgPSAwLA0KCQl0aW1lcnMgPSBqUXVlcnkudGltZXJzOw0KDQoJZnhOb3cgPSBEYXRlLm5vdygpOw0KDQoJZm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkgew0KCQl0aW1lciA9IHRpbWVyc1sgaSBdOw0KDQoJCS8vIFJ1biB0aGUgdGltZXIgYW5kIHNhZmVseSByZW1vdmUgaXQgd2hlbiBkb25lIChhbGxvd2luZyBmb3IgZXh0ZXJuYWwgcmVtb3ZhbCkNCgkJaWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7DQoJCQl0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTsNCgkJfQ0KCX0NCg0KCWlmICggIXRpbWVycy5sZW5ndGggKSB7DQoJCWpRdWVyeS5meC5zdG9wKCk7DQoJfQ0KCWZ4Tm93ID0gdW5kZWZpbmVkOw0KfTsNCg0KalF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24oIHRpbWVyICkgew0KCWpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTsNCglqUXVlcnkuZnguc3RhcnQoKTsNCn07DQoNCmpRdWVyeS5meC5pbnRlcnZhbCA9IDEzOw0KalF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7DQoJaWYgKCBpblByb2dyZXNzICkgew0KCQlyZXR1cm47DQoJfQ0KDQoJaW5Qcm9ncmVzcyA9IHRydWU7DQoJc2NoZWR1bGUoKTsNCn07DQoNCmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7DQoJaW5Qcm9ncmVzcyA9IG51bGw7DQp9Ow0KDQpqUXVlcnkuZnguc3BlZWRzID0gew0KCXNsb3c6IDYwMCwNCglmYXN0OiAyMDAsDQoNCgkvLyBEZWZhdWx0IHNwZWVkDQoJX2RlZmF1bHQ6IDQwMA0KfTsNCg0KDQovLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uDQovLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5Lw0KalF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7DQoJdGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTsNCgl0eXBlID0gdHlwZSB8fCAiZngiOw0KDQoJcmV0dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHsNCgkJdmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApOw0KCQlob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7DQoJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7DQoJCX07DQoJfSApOw0KfTsNCg0KDQooIGZ1bmN0aW9uKCkgew0KCXZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJpbnB1dCIgKSwNCgkJc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggInNlbGVjdCIgKSwNCgkJb3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAib3B0aW9uIiApICk7DQoNCglpbnB1dC50eXBlID0gImNoZWNrYm94IjsNCg0KCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seQ0KCS8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlICJvbiINCglzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gIiI7DQoNCgkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkNCgkvLyBNdXN0IGFjY2VzcyBzZWxlY3RlZEluZGV4IHRvIG1ha2UgZGVmYXVsdCBvcHRpb25zIHNlbGVjdA0KCXN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7DQoNCgkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkNCgkvLyBBbiBpbnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpbw0KCWlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImlucHV0IiApOw0KCWlucHV0LnZhbHVlID0gInQiOw0KCWlucHV0LnR5cGUgPSAicmFkaW8iOw0KCXN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSAidCI7DQp9ICkoKTsNCg0KDQp2YXIgYm9vbEhvb2ssDQoJYXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCglhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7DQoJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTsNCgl9LA0KDQoJcmVtb3ZlQXR0cjogZnVuY3Rpb24oIG5hbWUgKSB7DQoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJalF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTsNCgkJfSApOw0KCX0NCn0gKTsNCg0KalF1ZXJ5LmV4dGVuZCggew0KCWF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHsNCgkJdmFyIHJldCwgaG9va3MsDQoJCQluVHlwZSA9IGVsZW0ubm9kZVR5cGU7DQoNCgkJLy8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlcw0KCQlpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkgew0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJLy8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQNCgkJaWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09ICJ1bmRlZmluZWQiICkgew0KCQkJcmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApOw0KCQl9DQoNCgkJLy8gQXR0cmlidXRlIGhvb2tzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBsb3dlcmNhc2UgdmVyc2lvbg0KCQkvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkDQoJCWlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkgew0KCQkJaG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fA0KCQkJCSggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApOw0KCQl9DQoNCgkJaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkgew0KCQkJaWYgKCB2YWx1ZSA9PT0gbnVsbCApIHsNCgkJCQlqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApOw0KCQkJCXJldHVybjsNCgkJCX0NCg0KCQkJaWYgKCBob29rcyAmJiAic2V0IiBpbiBob29rcyAmJg0KCQkJCSggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHsNCgkJCQlyZXR1cm4gcmV0Ow0KCQkJfQ0KDQoJCQllbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgdmFsdWUgKyAiIiApOw0KCQkJcmV0dXJuIHZhbHVlOw0KCQl9DQoNCgkJaWYgKCBob29rcyAmJiAiZ2V0IiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7DQoJCQlyZXR1cm4gcmV0Ow0KCQl9DQoNCgkJcmV0ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgbmFtZSApOw0KDQoJCS8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkDQoJCXJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDsNCgl9LA0KDQoJYXR0ckhvb2tzOiB7DQoJCXR5cGU6IHsNCgkJCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgew0KCQkJCWlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gInJhZGlvIiAmJg0KCQkJCQlub2RlTmFtZSggZWxlbSwgImlucHV0IiApICkgew0KCQkJCQl2YXIgdmFsID0gZWxlbS52YWx1ZTsNCgkJCQkJZWxlbS5zZXRBdHRyaWJ1dGUoICJ0eXBlIiwgdmFsdWUgKTsNCgkJCQkJaWYgKCB2YWwgKSB7DQoJCQkJCQllbGVtLnZhbHVlID0gdmFsOw0KCQkJCQl9DQoJCQkJCXJldHVybiB2YWx1ZTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9LA0KDQoJcmVtb3ZlQXR0cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgew0KCQl2YXIgbmFtZSwNCgkJCWkgPSAwLA0KDQoJCQkvLyBBdHRyaWJ1dGUgbmFtZXMgY2FuIGNvbnRhaW4gbm9uLUhUTUwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzDQoJCQkvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTINCgkJCWF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICk7DQoNCgkJaWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsNCgkJCXdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkgew0KCQkJCWVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7DQoJCQl9DQoJCX0NCgl9DQp9ICk7DQoNCi8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXMNCmJvb2xIb29rID0gew0KCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBuYW1lICkgew0KCQlpZiAoIHZhbHVlID09PSBmYWxzZSApIHsNCg0KCQkJLy8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZQ0KCQkJalF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTsNCgkJfSBlbHNlIHsNCgkJCWVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7DQoJCX0NCgkJcmV0dXJuIG5hbWU7DQoJfQ0KfTsNCg0KalF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXHcrL2cgKSwgZnVuY3Rpb24oIF9pLCBuYW1lICkgew0KCXZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjsNCg0KCWF0dHJIYW5kbGVbIG5hbWUgXSA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHsNCgkJdmFyIHJldCwgaGFuZGxlLA0KCQkJbG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTsNCg0KCQlpZiAoICFpc1hNTCApIHsNCg0KCQkJLy8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlcg0KCQkJaGFuZGxlID0gYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdOw0KCQkJYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0Ow0KCQkJcmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgPw0KCQkJCWxvd2VyY2FzZU5hbWUgOg0KCQkJCW51bGw7DQoJCQlhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSBoYW5kbGU7DQoJCX0NCgkJcmV0dXJuIHJldDsNCgl9Ow0KfSApOw0KDQoNCg0KDQp2YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksDQoJcmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTsNCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KCXByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHsNCgkJcmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApOw0KCX0sDQoNCglyZW1vdmVQcm9wOiBmdW5jdGlvbiggbmFtZSApIHsNCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQlkZWxldGUgdGhpc1sgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lIF07DQoJCX0gKTsNCgl9DQp9ICk7DQoNCmpRdWVyeS5leHRlbmQoIHsNCglwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7DQoJCXZhciByZXQsIGhvb2tzLA0KCQkJblR5cGUgPSBlbGVtLm5vZGVUeXBlOw0KDQoJCS8vIERvbid0IGdldC9zZXQgcHJvcGVydGllcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXMNCgkJaWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCWlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkgew0KDQoJCQkvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzDQoJCQluYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lOw0KCQkJaG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07DQoJCX0NCg0KCQlpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7DQoJCQlpZiAoIGhvb2tzICYmICJzZXQiIGluIGhvb2tzICYmDQoJCQkJKCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkgew0KCQkJCXJldHVybiByZXQ7DQoJCQl9DQoNCgkJCXJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7DQoJCX0NCg0KCQlpZiAoIGhvb2tzICYmICJnZXQiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHsNCgkJCXJldHVybiByZXQ7DQoJCX0NCg0KCQlyZXR1cm4gZWxlbVsgbmFtZSBdOw0KCX0sDQoNCglwcm9wSG9va3M6IHsNCgkJdGFiSW5kZXg6IHsNCgkJCWdldDogZnVuY3Rpb24oIGVsZW0gKSB7DQoNCgkJCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5DQoJCQkJLy8gZWxlbS50YWJJbmRleCBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlDQoJCQkJLy8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0DQoJCQkJLy8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTQxMTE2MjMzMzQ3L2h0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvDQoJCQkJLy8gVXNlIHByb3BlciBhdHRyaWJ1dGUgcmV0cmlldmFsKCMxMjA3MikNCgkJCQl2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCAidGFiaW5kZXgiICk7DQoNCgkJCQlpZiAoIHRhYmluZGV4ICkgew0KCQkJCQlyZXR1cm4gcGFyc2VJbnQoIHRhYmluZGV4LCAxMCApOw0KCQkJCX0NCg0KCQkJCWlmICgNCgkJCQkJcmZvY3VzYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgfHwNCgkJCQkJcmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiYNCgkJCQkJZWxlbS5ocmVmDQoJCQkJKSB7DQoJCQkJCXJldHVybiAwOw0KCQkJCX0NCg0KCQkJCXJldHVybiAtMTsNCgkJCX0NCgkJfQ0KCX0sDQoNCglwcm9wRml4OiB7DQoJCSJmb3IiOiAiaHRtbEZvciIsDQoJCSJjbGFzcyI6ICJjbGFzc05hbWUiDQoJfQ0KfSApOw0KDQovLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkNCi8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eQ0KLy8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHJlc3BlY3Qgc2V0dGluZyBzZWxlY3RlZA0KLy8gb24gdGhlIG9wdGlvbg0KLy8gVGhlIGdldHRlciBlbnN1cmVzIGEgZGVmYXVsdCBvcHRpb24gaXMgc2VsZWN0ZWQNCi8vIHdoZW4gaW4gYW4gb3B0Z3JvdXANCi8vIGVzbGludCBydWxlICJuby11bnVzZWQtZXhwcmVzc2lvbnMiIGlzIGRpc2FibGVkIGZvciB0aGlzIGNvZGUNCi8vIHNpbmNlIGl0IGNvbnNpZGVycyBzdWNoIGFjY2Vzc2lvbnMgbm9vcA0KaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHsNCglqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0gew0KCQlnZXQ6IGZ1bmN0aW9uKCBlbGVtICkgew0KDQoJCQkvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiAib2ZmIiAqLw0KDQoJCQl2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlOw0KCQkJaWYgKCBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUgKSB7DQoJCQkJcGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDsNCgkJCX0NCgkJCXJldHVybiBudWxsOw0KCQl9LA0KCQlzZXQ6IGZ1bmN0aW9uKCBlbGVtICkgew0KDQoJCQkvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiAib2ZmIiAqLw0KDQoJCQl2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlOw0KCQkJaWYgKCBwYXJlbnQgKSB7DQoJCQkJcGFyZW50LnNlbGVjdGVkSW5kZXg7DQoNCgkJCQlpZiAoIHBhcmVudC5wYXJlbnROb2RlICkgew0KCQkJCQlwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4Ow0KCQkJCX0NCgkJCX0NCgkJfQ0KCX07DQp9DQoNCmpRdWVyeS5lYWNoKCBbDQoJInRhYkluZGV4IiwNCgkicmVhZE9ubHkiLA0KCSJtYXhMZW5ndGgiLA0KCSJjZWxsU3BhY2luZyIsDQoJImNlbGxQYWRkaW5nIiwNCgkicm93U3BhbiIsDQoJImNvbFNwYW4iLA0KCSJ1c2VNYXAiLA0KCSJmcmFtZUJvcmRlciIsDQoJImNvbnRlbnRFZGl0YWJsZSINCl0sIGZ1bmN0aW9uKCkgew0KCWpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7DQp9ICk7DQoNCg0KDQoNCgkvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZSBhY2NvcmRpbmcgdG8gSFRNTCBzcGVjDQoJLy8gaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS1hc2NpaS13aGl0ZXNwYWNlDQoJZnVuY3Rpb24gc3RyaXBBbmRDb2xsYXBzZSggdmFsdWUgKSB7DQoJCXZhciB0b2tlbnMgPSB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdOw0KCQlyZXR1cm4gdG9rZW5zLmpvaW4oICIgIiApOw0KCX0NCg0KDQpmdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHsNCglyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoICJjbGFzcyIgKSB8fCAiIjsNCn0NCg0KZnVuY3Rpb24gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICkgew0KCWlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHsNCgkJcmV0dXJuIHZhbHVlOw0KCX0NCglpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gInN0cmluZyIgKSB7DQoJCXJldHVybiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdOw0KCX0NCglyZXR1cm4gW107DQp9DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCglhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkgew0KCQl2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsDQoJCQlpID0gMDsNCg0KCQlpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7DQoJCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHsNCgkJCQlqUXVlcnkoIHRoaXMgKS5hZGRDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7DQoJCQl9ICk7DQoJCX0NCg0KCQljbGFzc2VzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7DQoNCgkJaWYgKCBjbGFzc2VzLmxlbmd0aCApIHsNCgkJCXdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHsNCgkJCQljdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7DQoJCQkJY3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoICIgIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyAiICIgKTsNCg0KCQkJCWlmICggY3VyICkgew0KCQkJCQlqID0gMDsNCgkJCQkJd2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHsNCgkJCQkJCWlmICggY3VyLmluZGV4T2YoICIgIiArIGNsYXp6ICsgIiAiICkgPCAwICkgew0KCQkJCQkJCWN1ciArPSBjbGF6eiArICIgIjsNCgkJCQkJCX0NCgkJCQkJfQ0KDQoJCQkJCS8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuDQoJCQkJCWZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTsNCgkJCQkJaWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHsNCgkJCQkJCWVsZW0uc2V0QXR0cmlidXRlKCAiY2xhc3MiLCBmaW5hbFZhbHVlICk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQlyZXR1cm4gdGhpczsNCgl9LA0KDQoJcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHsNCgkJdmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLA0KCQkJaSA9IDA7DQoNCgkJaWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkgew0KCQkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7DQoJCQkJalF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApOw0KCQkJfSApOw0KCQl9DQoNCgkJaWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHsNCgkJCXJldHVybiB0aGlzLmF0dHIoICJjbGFzcyIsICIiICk7DQoJCX0NCg0KCQljbGFzc2VzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7DQoNCgkJaWYgKCBjbGFzc2VzLmxlbmd0aCApIHsNCgkJCXdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHsNCgkJCQljdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7DQoNCgkJCQkvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKQ0KCQkJCWN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCAiICIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgIiAiICk7DQoNCgkJCQlpZiAoIGN1ciApIHsNCgkJCQkJaiA9IDA7DQoJCQkJCXdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7DQoNCgkJCQkJCS8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXMNCgkJCQkJCXdoaWxlICggY3VyLmluZGV4T2YoICIgIiArIGNsYXp6ICsgIiAiICkgPiAtMSApIHsNCgkJCQkJCQljdXIgPSBjdXIucmVwbGFjZSggIiAiICsgY2xhenogKyAiICIsICIgIiApOw0KCQkJCQkJfQ0KCQkJCQl9DQoNCgkJCQkJLy8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy4NCgkJCQkJZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApOw0KCQkJCQlpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkgew0KCQkJCQkJZWxlbS5zZXRBdHRyaWJ1dGUoICJjbGFzcyIsIGZpbmFsVmFsdWUgKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoNCgl0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHsNCgkJdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWUsDQoJCQlpc1ZhbGlkVmFsdWUgPSB0eXBlID09PSAic3RyaW5nIiB8fCBBcnJheS5pc0FycmF5KCB2YWx1ZSApOw0KDQoJCWlmICggdHlwZW9mIHN0YXRlVmFsID09PSAiYm9vbGVhbiIgJiYgaXNWYWxpZFZhbHVlICkgew0KCQkJcmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7DQoJCX0NCg0KCQlpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7DQoJCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHsNCgkJCQlqUXVlcnkoIHRoaXMgKS50b2dnbGVDbGFzcygNCgkJCQkJdmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSwNCgkJCQkJc3RhdGVWYWwNCgkJCQkpOw0KCQkJfSApOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQl2YXIgY2xhc3NOYW1lLCBpLCBzZWxmLCBjbGFzc05hbWVzOw0KDQoJCQlpZiAoIGlzVmFsaWRWYWx1ZSApIHsNCg0KCQkJCS8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzDQoJCQkJaSA9IDA7DQoJCQkJc2VsZiA9IGpRdWVyeSggdGhpcyApOw0KCQkJCWNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTsNCg0KCQkJCXdoaWxlICggKCBjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpKysgXSApICkgew0KDQoJCQkJCS8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdA0KCQkJCQlpZiAoIHNlbGYuaGFzQ2xhc3MoIGNsYXNzTmFtZSApICkgew0KCQkJCQkJc2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQlzZWxmLmFkZENsYXNzKCBjbGFzc05hbWUgKTsNCgkJCQkJfQ0KCQkJCX0NCg0KCQkJLy8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWUNCgkJCX0gZWxzZSBpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gImJvb2xlYW4iICkgew0KCQkJCWNsYXNzTmFtZSA9IGdldENsYXNzKCB0aGlzICk7DQoJCQkJaWYgKCBjbGFzc05hbWUgKSB7DQoNCgkJCQkJLy8gU3RvcmUgY2xhc3NOYW1lIGlmIHNldA0KCQkJCQlkYXRhUHJpdi5zZXQoIHRoaXMsICJfX2NsYXNzTmFtZV9fIiwgY2xhc3NOYW1lICk7DQoJCQkJfQ0KDQoJCQkJLy8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCwNCgkJCQkvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLg0KCQkJCS8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksDQoJCQkJLy8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLg0KCQkJCWlmICggdGhpcy5zZXRBdHRyaWJ1dGUgKSB7DQoJCQkJCXRoaXMuc2V0QXR0cmlidXRlKCAiY2xhc3MiLA0KCQkJCQkJY2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/DQoJCQkJCQkiIiA6DQoJCQkJCQlkYXRhUHJpdi5nZXQoIHRoaXMsICJfX2NsYXNzTmFtZV9fIiApIHx8ICIiDQoJCQkJCSk7DQoJCQkJfQ0KCQkJfQ0KCQl9ICk7DQoJfSwNCg0KCWhhc0NsYXNzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7DQoJCXZhciBjbGFzc05hbWUsIGVsZW0sDQoJCQlpID0gMDsNCg0KCQljbGFzc05hbWUgPSAiICIgKyBzZWxlY3RvciArICIgIjsNCgkJd2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkgew0KCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmDQoJCQkJKCAiICIgKyBzdHJpcEFuZENvbGxhcHNlKCBnZXRDbGFzcyggZWxlbSApICkgKyAiICIgKS5pbmRleE9mKCBjbGFzc05hbWUgKSA+IC0xICkgew0KCQkJCQlyZXR1cm4gdHJ1ZTsNCgkJCX0NCgkJfQ0KDQoJCXJldHVybiBmYWxzZTsNCgl9DQp9ICk7DQoNCg0KDQoNCnZhciBycmV0dXJuID0gL1xyL2c7DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCgl2YWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHsNCgkJdmFyIGhvb2tzLCByZXQsIHZhbHVlSXNGdW5jdGlvbiwNCgkJCWVsZW0gPSB0aGlzWyAwIF07DQoNCgkJaWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHsNCgkJCWlmICggZWxlbSApIHsNCgkJCQlob29rcyA9IGpRdWVyeS52YWxIb29rc1sgZWxlbS50eXBlIF0gfHwNCgkJCQkJalF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTsNCg0KCQkJCWlmICggaG9va3MgJiYNCgkJCQkJImdldCIgaW4gaG9va3MgJiYNCgkJCQkJKCByZXQgPSBob29rcy5nZXQoIGVsZW0sICJ2YWx1ZSIgKSApICE9PSB1bmRlZmluZWQNCgkJCQkpIHsNCgkJCQkJcmV0dXJuIHJldDsNCgkJCQl9DQoNCgkJCQlyZXQgPSBlbGVtLnZhbHVlOw0KDQoJCQkJLy8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlcw0KCQkJCWlmICggdHlwZW9mIHJldCA9PT0gInN0cmluZyIgKSB7DQoJCQkJCXJldHVybiByZXQucmVwbGFjZSggcnJldHVybiwgIiIgKTsNCgkJCQl9DQoNCgkJCQkvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXINCgkJCQlyZXR1cm4gcmV0ID09IG51bGwgPyAiIiA6IHJldDsNCgkJCX0NCg0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJdmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggdmFsdWUgKTsNCg0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHsNCgkJCXZhciB2YWw7DQoNCgkJCWlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHsNCgkJCQlyZXR1cm47DQoJCQl9DQoNCgkJCWlmICggdmFsdWVJc0Z1bmN0aW9uICkgew0KCQkJCXZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7DQoJCQl9IGVsc2Ugew0KCQkJCXZhbCA9IHZhbHVlOw0KCQkJfQ0KDQoJCQkvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyAiIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZw0KCQkJaWYgKCB2YWwgPT0gbnVsbCApIHsNCgkJCQl2YWwgPSAiIjsNCg0KCQkJfSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gIm51bWJlciIgKSB7DQoJCQkJdmFsICs9ICIiOw0KDQoJCQl9IGVsc2UgaWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHsNCgkJCQl2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHsNCgkJCQkJcmV0dXJuIHZhbHVlID09IG51bGwgPyAiIiA6IHZhbHVlICsgIiI7DQoJCQkJfSApOw0KCQkJfQ0KDQoJCQlob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTsNCg0KCQkJLy8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmcNCgkJCWlmICggIWhvb2tzIHx8ICEoICJzZXQiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsICJ2YWx1ZSIgKSA9PT0gdW5kZWZpbmVkICkgew0KCQkJCXRoaXMudmFsdWUgPSB2YWw7DQoJCQl9DQoJCX0gKTsNCgl9DQp9ICk7DQoNCmpRdWVyeS5leHRlbmQoIHsNCgl2YWxIb29rczogew0KCQlvcHRpb246IHsNCgkJCWdldDogZnVuY3Rpb24oIGVsZW0gKSB7DQoNCgkJCQl2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgInZhbHVlIiApOw0KCQkJCXJldHVybiB2YWwgIT0gbnVsbCA/DQoJCQkJCXZhbCA6DQoNCgkJCQkJLy8gU3VwcG9ydDogSUUgPD0xMCAtIDExIG9ubHkNCgkJCQkJLy8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KQ0KCQkJCQkvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZQ0KCQkJCQkvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZQ0KCQkJCQlzdHJpcEFuZENvbGxhcHNlKCBqUXVlcnkudGV4dCggZWxlbSApICk7DQoJCQl9DQoJCX0sDQoJCXNlbGVjdDogew0KCQkJZ2V0OiBmdW5jdGlvbiggZWxlbSApIHsNCgkJCQl2YXIgdmFsdWUsIG9wdGlvbiwgaSwNCgkJCQkJb3B0aW9ucyA9IGVsZW0ub3B0aW9ucywNCgkJCQkJaW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsDQoJCQkJCW9uZSA9IGVsZW0udHlwZSA9PT0gInNlbGVjdC1vbmUiLA0KCQkJCQl2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sDQoJCQkJCW1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoOw0KDQoJCQkJaWYgKCBpbmRleCA8IDAgKSB7DQoJCQkJCWkgPSBtYXg7DQoNCgkJCQl9IGVsc2Ugew0KCQkJCQlpID0gb25lID8gaW5kZXggOiAwOw0KCQkJCX0NCg0KCQkJCS8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnMNCgkJCQlmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHsNCgkJCQkJb3B0aW9uID0gb3B0aW9uc1sgaSBdOw0KDQoJCQkJCS8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5DQoJCQkJCS8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKQ0KCQkJCQlpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiYNCg0KCQkJCQkJCS8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXANCgkJCQkJCQkhb3B0aW9uLmRpc2FibGVkICYmDQoJCQkJCQkJKCAhb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHwNCgkJCQkJCQkJIW5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgIm9wdGdyb3VwIiApICkgKSB7DQoNCgkJCQkJCS8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb24NCgkJCQkJCXZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTsNCg0KCQkJCQkJLy8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHMNCgkJCQkJCWlmICggb25lICkgew0KCQkJCQkJCXJldHVybiB2YWx1ZTsNCgkJCQkJCX0NCg0KCQkJCQkJLy8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXkNCgkJCQkJCXZhbHVlcy5wdXNoKCB2YWx1ZSApOw0KCQkJCQl9DQoJCQkJfQ0KDQoJCQkJcmV0dXJuIHZhbHVlczsNCgkJCX0sDQoNCgkJCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgew0KCQkJCXZhciBvcHRpb25TZXQsIG9wdGlvbiwNCgkJCQkJb3B0aW9ucyA9IGVsZW0ub3B0aW9ucywNCgkJCQkJdmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSwNCgkJCQkJaSA9IG9wdGlvbnMubGVuZ3RoOw0KDQoJCQkJd2hpbGUgKCBpLS0gKSB7DQoJCQkJCW9wdGlvbiA9IG9wdGlvbnNbIGkgXTsNCg0KCQkJCQkvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqLw0KDQoJCQkJCWlmICggb3B0aW9uLnNlbGVjdGVkID0NCgkJCQkJCWpRdWVyeS5pbkFycmF5KCBqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldCggb3B0aW9uICksIHZhbHVlcyApID4gLTENCgkJCQkJKSB7DQoJCQkJCQlvcHRpb25TZXQgPSB0cnVlOw0KCQkJCQl9DQoNCgkJCQkJLyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqLw0KCQkJCX0NCg0KCQkJCS8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0DQoJCQkJaWYgKCAhb3B0aW9uU2V0ICkgew0KCQkJCQllbGVtLnNlbGVjdGVkSW5kZXggPSAtMTsNCgkJCQl9DQoJCQkJcmV0dXJuIHZhbHVlczsNCgkJCX0NCgkJfQ0KCX0NCn0gKTsNCg0KLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXINCmpRdWVyeS5lYWNoKCBbICJyYWRpbyIsICJjaGVja2JveCIgXSwgZnVuY3Rpb24oKSB7DQoJalF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0gPSB7DQoJCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgew0KCQkJaWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkgew0KCQkJCXJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7DQoJCQl9DQoJCX0NCgl9Ow0KCWlmICggIXN1cHBvcnQuY2hlY2tPbiApIHsNCgkJalF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQlyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoICJ2YWx1ZSIgKSA9PT0gbnVsbCA/ICJvbiIgOiBlbGVtLnZhbHVlOw0KCQl9Ow0KCX0NCn0gKTsNCg0KDQoNCg0KLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvbg0KDQoNCnN1cHBvcnQuZm9jdXNpbiA9ICJvbmZvY3VzaW4iIGluIHdpbmRvdzsNCg0KDQp2YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sDQoJc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbiggZSApIHsNCgkJZS5zdG9wUHJvcGFnYXRpb24oKTsNCgl9Ow0KDQpqUXVlcnkuZXh0ZW5kKCBqUXVlcnkuZXZlbnQsIHsNCg0KCXRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkgew0KDQoJCXZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsIGxhc3RFbGVtZW50LA0KCQkJZXZlbnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sDQoJCQl0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCAidHlwZSIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCwNCgkJCW5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsICJuYW1lc3BhY2UiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoICIuIiApIDogW107DQoNCgkJY3VyID0gbGFzdEVsZW1lbnQgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDsNCg0KCQkvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlcw0KCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCApIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCS8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vdw0KCQlpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQlpZiAoIHR5cGUuaW5kZXhPZiggIi4iICkgPiAtMSApIHsNCg0KCQkJLy8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKQ0KCQkJbmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoICIuIiApOw0KCQkJdHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTsNCgkJCW5hbWVzcGFjZXMuc29ydCgpOw0KCQl9DQoJCW9udHlwZSA9IHR5cGUuaW5kZXhPZiggIjoiICkgPCAwICYmICJvbiIgKyB0eXBlOw0KDQoJCS8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZw0KCQlldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID8NCgkJCWV2ZW50IDoNCgkJCW5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gIm9iamVjdCIgJiYgZXZlbnQgKTsNCg0KCQkvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpDQoJCWV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzOw0KCQlldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oICIuIiApOw0KCQlldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID8NCgkJCW5ldyBSZWdFeHAoICIoXnxcXC4pIiArIG5hbWVzcGFjZXMuam9pbiggIlxcLig/Oi4qXFwufCkiICkgKyAiKFxcLnwkKSIgKSA6DQoJCQludWxsOw0KDQoJCS8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZA0KCQlldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7DQoJCWlmICggIWV2ZW50LnRhcmdldCApIHsNCgkJCWV2ZW50LnRhcmdldCA9IGVsZW07DQoJCX0NCg0KCQkvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0DQoJCWRhdGEgPSBkYXRhID09IG51bGwgPw0KCQkJWyBldmVudCBdIDoNCgkJCWpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApOw0KDQoJCS8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXMNCgkJc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307DQoJCWlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkgew0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJLy8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpDQoJCS8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpDQoJCWlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHsNCg0KCQkJYnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7DQoJCQlpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkgew0KCQkJCWN1ciA9IGN1ci5wYXJlbnROb2RlOw0KCQkJfQ0KCQkJZm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkgew0KCQkJCWV2ZW50UGF0aC5wdXNoKCBjdXIgKTsNCgkJCQl0bXAgPSBjdXI7DQoJCQl9DQoNCgkJCS8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKQ0KCQkJaWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7DQoJCQkJZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApOw0KCQkJfQ0KCQl9DQoNCgkJLy8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aA0KCQlpID0gMDsNCgkJd2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHsNCgkJCWxhc3RFbGVtZW50ID0gY3VyOw0KCQkJZXZlbnQudHlwZSA9IGkgPiAxID8NCgkJCQlidWJibGVUeXBlIDoNCgkJCQlzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7DQoNCgkJCS8vIGpRdWVyeSBoYW5kbGVyDQoJCQloYW5kbGUgPSAoDQoJCQkJCWRhdGFQcml2LmdldCggY3VyLCAiZXZlbnRzIiApIHx8IE9iamVjdC5jcmVhdGUoIG51bGwgKQ0KCQkJCSlbIGV2ZW50LnR5cGUgXSAmJg0KCQkJCWRhdGFQcml2LmdldCggY3VyLCAiaGFuZGxlIiApOw0KCQkJaWYgKCBoYW5kbGUgKSB7DQoJCQkJaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTsNCgkJCX0NCg0KCQkJLy8gTmF0aXZlIGhhbmRsZXINCgkJCWhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdOw0KCQkJaWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkgew0KCQkJCWV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7DQoJCQkJaWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkgew0KCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQlldmVudC50eXBlID0gdHlwZTsNCg0KCQkvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93DQoJCWlmICggIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7DQoNCgkJCWlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fA0KCQkJCXNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmDQoJCQkJYWNjZXB0RGF0YSggZWxlbSApICkgew0KDQoJCQkJLy8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudC4NCgkJCQkvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApDQoJCQkJaWYgKCBvbnR5cGUgJiYgaXNGdW5jdGlvbiggZWxlbVsgdHlwZSBdICkgJiYgIWlzV2luZG93KCBlbGVtICkgKSB7DQoNCgkJCQkJLy8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZA0KCQkJCQl0bXAgPSBlbGVtWyBvbnR5cGUgXTsNCg0KCQkJCQlpZiAoIHRtcCApIHsNCgkJCQkJCWVsZW1bIG9udHlwZSBdID0gbnVsbDsNCgkJCQkJfQ0KDQoJCQkJCS8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlDQoJCQkJCWpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlOw0KDQoJCQkJCWlmICggZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHsNCgkJCQkJCWxhc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrICk7DQoJCQkJCX0NCg0KCQkJCQllbGVtWyB0eXBlIF0oKTsNCg0KCQkJCQlpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7DQoJCQkJCQlsYXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApOw0KCQkJCQl9DQoNCgkJCQkJalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDsNCg0KCQkJCQlpZiAoIHRtcCApIHsNCgkJCQkJCWVsZW1bIG9udHlwZSBdID0gdG1wOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJcmV0dXJuIGV2ZW50LnJlc3VsdDsNCgl9LA0KDQoJLy8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lDQoJLy8gVXNlZCBvbmx5IGZvciBgZm9jdXMoaW4gfCBvdXQpYCBldmVudHMNCglzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50ICkgew0KCQl2YXIgZSA9IGpRdWVyeS5leHRlbmQoDQoJCQluZXcgalF1ZXJ5LkV2ZW50KCksDQoJCQlldmVudCwNCgkJCXsNCgkJCQl0eXBlOiB0eXBlLA0KCQkJCWlzU2ltdWxhdGVkOiB0cnVlDQoJCQl9DQoJCSk7DQoNCgkJalF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTsNCgl9DQoNCn0gKTsNCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KDQoJdHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7DQoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJalF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTsNCgkJfSApOw0KCX0sDQoJdHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkgew0KCQl2YXIgZWxlbSA9IHRoaXNbIDAgXTsNCgkJaWYgKCBlbGVtICkgew0KCQkJcmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7DQoJCX0NCgl9DQp9ICk7DQoNCg0KLy8gU3VwcG9ydDogRmlyZWZveCA8PTQ0DQovLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzDQovLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4Nw0KLy8NCi8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMQ0KLy8gZm9jdXMoaW4gfCBvdXQpIGV2ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsDQovLyB3aGljaCBpcyBzcGVjIHZpb2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWZvY3VzZXZlbnQtZXZlbnQtb3JkZXINCi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3DQppZiAoICFzdXBwb3J0LmZvY3VzaW4gKSB7DQoJalF1ZXJ5LmVhY2goIHsgZm9jdXM6ICJmb2N1c2luIiwgYmx1cjogImZvY3Vzb3V0IiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkgew0KDQoJCS8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0DQoJCXZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkgew0KCQkJalF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSApOw0KCQl9Ow0KDQoJCWpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXggXSA9IHsNCgkJCXNldHVwOiBmdW5jdGlvbigpIHsNCg0KCQkJCS8vIEhhbmRsZTogcmVndWxhciBub2RlcyAodmlhIGB0aGlzLm93bmVyRG9jdW1lbnRgKSwgd2luZG93DQoJCQkJLy8gKHZpYSBgdGhpcy5kb2N1bWVudGApICYgZG9jdW1lbnQgKHZpYSBgdGhpc2ApLg0KCQkJCXZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcy5kb2N1bWVudCB8fCB0aGlzLA0KCQkJCQlhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKTsNCg0KCQkJCWlmICggIWF0dGFjaGVzICkgew0KCQkJCQlkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApOw0KCQkJCX0NCgkJCQlkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTsNCgkJCX0sDQoJCQl0ZWFyZG93bjogZnVuY3Rpb24oKSB7DQoJCQkJdmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLmRvY3VtZW50IHx8IHRoaXMsDQoJCQkJCWF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTsNCg0KCQkJCWlmICggIWF0dGFjaGVzICkgew0KCQkJCQlkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApOw0KCQkJCQlkYXRhUHJpdi5yZW1vdmUoIGRvYywgZml4ICk7DQoNCgkJCQl9IGVsc2Ugew0KCQkJCQlkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCBhdHRhY2hlcyApOw0KCQkJCX0NCgkJCX0NCgkJfTsNCgl9ICk7DQp9DQp2YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247DQoNCnZhciBub25jZSA9IHsgZ3VpZDogRGF0ZS5ub3coKSB9Ow0KDQp2YXIgcnF1ZXJ5ID0gKCAvXD8vICk7DQoNCg0KDQovLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nDQpqUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiggZGF0YSApIHsNCgl2YXIgeG1sOw0KCWlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09ICJzdHJpbmciICkgew0KCQlyZXR1cm4gbnVsbDsNCgl9DQoNCgkvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seQ0KCS8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0Lg0KCXRyeSB7DQoJCXhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgInRleHQveG1sIiApOw0KCX0gY2F0Y2ggKCBlICkgew0KCQl4bWwgPSB1bmRlZmluZWQ7DQoJfQ0KDQoJaWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggInBhcnNlcmVycm9yIiApLmxlbmd0aCApIHsNCgkJalF1ZXJ5LmVycm9yKCAiSW52YWxpZCBYTUw6ICIgKyBkYXRhICk7DQoJfQ0KCXJldHVybiB4bWw7DQp9Ow0KDQoNCnZhcg0KCXJicmFja2V0ID0gL1xbXF0kLywNCglyQ1JMRiA9IC9ccj9cbi9nLA0KCXJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSwNCglyc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7DQoNCmZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHsNCgl2YXIgbmFtZTsNCg0KCWlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7DQoNCgkJLy8gU2VyaWFsaXplIGFycmF5IGl0ZW0uDQoJCWpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkgew0KCQkJaWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHsNCg0KCQkJCS8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci4NCgkJCQlhZGQoIHByZWZpeCwgdiApOw0KDQoJCQl9IGVsc2Ugew0KDQoJCQkJLy8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguDQoJCQkJYnVpbGRQYXJhbXMoDQoJCQkJCXByZWZpeCArICJbIiArICggdHlwZW9mIHYgPT09ICJvYmplY3QiICYmIHYgIT0gbnVsbCA/IGkgOiAiIiApICsgIl0iLA0KCQkJCQl2LA0KCQkJCQl0cmFkaXRpb25hbCwNCgkJCQkJYWRkDQoJCQkJKTsNCgkJCX0NCgkJfSApOw0KDQoJfSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIHRvVHlwZSggb2JqICkgPT09ICJvYmplY3QiICkgew0KDQoJCS8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS4NCgkJZm9yICggbmFtZSBpbiBvYmogKSB7DQoJCQlidWlsZFBhcmFtcyggcHJlZml4ICsgIlsiICsgbmFtZSArICJdIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTsNCgkJfQ0KDQoJfSBlbHNlIHsNCg0KCQkvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uDQoJCWFkZCggcHJlZml4LCBvYmogKTsNCgl9DQp9DQoNCi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mDQovLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmcNCmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHsNCgl2YXIgcHJlZml4LA0KCQlzID0gW10sDQoJCWFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlT3JGdW5jdGlvbiApIHsNCg0KCQkJLy8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZQ0KCQkJdmFyIHZhbHVlID0gaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgPw0KCQkJCXZhbHVlT3JGdW5jdGlvbigpIDoNCgkJCQl2YWx1ZU9yRnVuY3Rpb247DQoNCgkJCXNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgIj0iICsNCgkJCQllbmNvZGVVUklDb21wb25lbnQoIHZhbHVlID09IG51bGwgPyAiIiA6IHZhbHVlICk7DQoJCX07DQoNCglpZiAoIGEgPT0gbnVsbCApIHsNCgkJcmV0dXJuICIiOw0KCX0NCg0KCS8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuDQoJaWYgKCBBcnJheS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkgew0KDQoJCS8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50cw0KCQlqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7DQoJCQlhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApOw0KCQl9ICk7DQoNCgl9IGVsc2Ugew0KDQoJCS8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlICJvbGQiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlcg0KCQkvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS4NCgkJZm9yICggcHJlZml4IGluIGEgKSB7DQoJCQlidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApOw0KCQl9DQoJfQ0KDQoJLy8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvbg0KCXJldHVybiBzLmpvaW4oICImIiApOw0KfTsNCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KCXNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7DQoJCXJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApOw0KCX0sDQoJc2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkgew0KDQoJCQkvLyBDYW4gYWRkIHByb3BIb29rIGZvciAiZWxlbWVudHMiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50cw0KCQkJdmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsICJlbGVtZW50cyIgKTsNCgkJCXJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzOw0KCQl9ICkNCgkJLmZpbHRlciggZnVuY3Rpb24oKSB7DQoJCQl2YXIgdHlwZSA9IHRoaXMudHlwZTsNCg0KCQkJLy8gVXNlIC5pcyggIjpkaXNhYmxlZCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrcw0KCQkJcmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoICI6ZGlzYWJsZWQiICkgJiYNCgkJCQlyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmDQoJCQkJKCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApOw0KCQl9ICkNCgkJLm1hcCggZnVuY3Rpb24oIF9pLCBlbGVtICkgew0KCQkJdmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpOw0KDQoJCQlpZiAoIHZhbCA9PSBudWxsICkgew0KCQkJCXJldHVybiBudWxsOw0KCQkJfQ0KDQoJCQlpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkgew0KCQkJCXJldHVybiBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7DQoJCQkJCXJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgIlxyXG4iICkgfTsNCgkJCQl9ICk7DQoJCQl9DQoNCgkJCXJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgIlxyXG4iICkgfTsNCgkJfSApLmdldCgpOw0KCX0NCn0gKTsNCg0KDQp2YXINCglyMjAgPSAvJTIwL2csDQoJcmhhc2ggPSAvIy4qJC8sDQoJcmFudGlDYWNoZSA9IC8oWz8mXSlfPVteJl0qLywNCglyaGVhZGVycyA9IC9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKSQvbWcsDQoNCgkvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb24NCglybG9jYWxQcm90b2NvbCA9IC9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLA0KCXJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLA0KCXJwcm90b2NvbCA9IC9eXC9cLy8sDQoNCgkvKiBQcmVmaWx0ZXJzDQoJICogMSkgVGhleSBhcmUgdXNlZnVsIHRvIGludHJvZHVjZSBjdXN0b20gZGF0YVR5cGVzIChzZWUgYWpheC9qc29ucC5qcyBmb3IgYW4gZXhhbXBsZSkNCgkgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOg0KCSAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnQNCgkgKiAgICAtIEFGVEVSIHBhcmFtIHNlcmlhbGl6YXRpb24gKHMuZGF0YSBpcyBhIHN0cmluZyBpZiBzLnByb2Nlc3NEYXRhIGlzIHRydWUpDQoJICogMykga2V5IGlzIHRoZSBkYXRhVHlwZQ0KCSAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgIioiIGNhbiBiZSB1c2VkDQoJICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byAiKiIgaWYgbmVlZGVkDQoJICovDQoJcHJlZmlsdGVycyA9IHt9LA0KDQoJLyogVHJhbnNwb3J0cyBiaW5kaW5ncw0KCSAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGUNCgkgKiAyKSB0aGUgY2F0Y2hhbGwgc3ltYm9sICIqIiBjYW4gYmUgdXNlZA0KCSAqIDMpIHNlbGVjdGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGdvIHRvICIqIiBpZiBuZWVkZWQNCgkgKi8NCgl0cmFuc3BvcnRzID0ge30sDQoNCgkvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb24NCglhbGxUeXBlcyA9ICIqLyIuY29uY2F0KCAiKiIgKSwNCg0KCS8vIEFuY2hvciB0YWcgZm9yIHBhcnNpbmcgdGhlIGRvY3VtZW50IG9yaWdpbg0KCW9yaWdpbkFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJhIiApOw0KCW9yaWdpbkFuY2hvci5ocmVmID0gbG9jYXRpb24uaHJlZjsNCg0KLy8gQmFzZSAiY29uc3RydWN0b3IiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnQNCmZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkgew0KDQoJLy8gZGF0YVR5cGVFeHByZXNzaW9uIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byAiKiINCglyZXR1cm4gZnVuY3Rpb24oIGRhdGFUeXBlRXhwcmVzc2lvbiwgZnVuYyApIHsNCg0KCQlpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09ICJzdHJpbmciICkgew0KCQkJZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjsNCgkJCWRhdGFUeXBlRXhwcmVzc2lvbiA9ICIqIjsNCgkJfQ0KDQoJCXZhciBkYXRhVHlwZSwNCgkJCWkgPSAwLA0KCQkJZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTsNCg0KCQlpZiAoIGlzRnVuY3Rpb24oIGZ1bmMgKSApIHsNCg0KCQkJLy8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvbg0KCQkJd2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkgew0KDQoJCQkJLy8gUHJlcGVuZCBpZiByZXF1ZXN0ZWQNCgkJCQlpZiAoIGRhdGFUeXBlWyAwIF0gPT09ICIrIiApIHsNCgkJCQkJZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8ICIqIjsNCgkJCQkJKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7DQoNCgkJCQkvLyBPdGhlcndpc2UgYXBwZW5kDQoJCQkJfSBlbHNlIHsNCgkJCQkJKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS5wdXNoKCBmdW5jICk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfTsNCn0NCg0KLy8gQmFzZSBpbnNwZWN0aW9uIGZ1bmN0aW9uIGZvciBwcmVmaWx0ZXJzIGFuZCB0cmFuc3BvcnRzDQpmdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkgew0KDQoJdmFyIGluc3BlY3RlZCA9IHt9LA0KCQlzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTsNCg0KCWZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkgew0KCQl2YXIgc2VsZWN0ZWQ7DQoJCWluc3BlY3RlZFsgZGF0YVR5cGUgXSA9IHRydWU7DQoJCWpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7DQoJCQl2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApOw0KCQkJaWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gInN0cmluZyIgJiYNCgkJCQkhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7DQoNCgkJCQlvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7DQoJCQkJaW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7DQoJCQkJcmV0dXJuICEoIHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCApOw0KCQkJfQ0KCQl9ICk7DQoJCXJldHVybiBzZWxlY3RlZDsNCgl9DQoNCglyZXR1cm4gaW5zcGVjdCggb3B0aW9ucy5kYXRhVHlwZXNbIDAgXSApIHx8ICFpbnNwZWN0ZWRbICIqIiBdICYmIGluc3BlY3QoICIqIiApOw0KfQ0KDQovLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnMNCi8vIHRoYXQgdGFrZXMgImZsYXQiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKQ0KLy8gRml4ZXMgIzk4ODcNCmZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkgew0KCXZhciBrZXksIGRlZXAsDQoJCWZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTsNCg0KCWZvciAoIGtleSBpbiBzcmMgKSB7DQoJCWlmICggc3JjWyBrZXkgXSAhPT0gdW5kZWZpbmVkICkgew0KCQkJKCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKCBkZWVwID0ge30gKSApIClbIGtleSBdID0gc3JjWyBrZXkgXTsNCgkJfQ0KCX0NCglpZiAoIGRlZXAgKSB7DQoJCWpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApOw0KCX0NCg0KCXJldHVybiB0YXJnZXQ7DQp9DQoNCi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDoNCiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpDQogKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2UNCiAqLw0KZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHsNCg0KCXZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSwNCgkJY29udGVudHMgPSBzLmNvbnRlbnRzLA0KCQlkYXRhVHlwZXMgPSBzLmRhdGFUeXBlczsNCg0KCS8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzDQoJd2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gIioiICkgew0KCQlkYXRhVHlwZXMuc2hpZnQoKTsNCgkJaWYgKCBjdCA9PT0gdW5kZWZpbmVkICkgew0KCQkJY3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCAiQ29udGVudC1UeXBlIiApOw0KCQl9DQoJfQ0KDQoJLy8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlDQoJaWYgKCBjdCApIHsNCgkJZm9yICggdHlwZSBpbiBjb250ZW50cyApIHsNCgkJCWlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7DQoJCQkJZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTsNCgkJCQlicmVhazsNCgkJCX0NCgkJfQ0KCX0NCg0KCS8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZQ0KCWlmICggZGF0YVR5cGVzWyAwIF0gaW4gcmVzcG9uc2VzICkgew0KCQlmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07DQoJfSBlbHNlIHsNCg0KCQkvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzDQoJCWZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkgew0KCQkJaWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgIiAiICsgZGF0YVR5cGVzWyAwIF0gXSApIHsNCgkJCQlmaW5hbERhdGFUeXBlID0gdHlwZTsNCgkJCQlicmVhazsNCgkJCX0NCgkJCWlmICggIWZpcnN0RGF0YVR5cGUgKSB7DQoJCQkJZmlyc3REYXRhVHlwZSA9IHR5cGU7DQoJCQl9DQoJCX0NCg0KCQkvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmUNCgkJZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTsNCgl9DQoNCgkvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlDQoJLy8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWQNCgkvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlDQoJaWYgKCBmaW5hbERhdGFUeXBlICkgew0KCQlpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkgew0KCQkJZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTsNCgkJfQ0KCQlyZXR1cm4gcmVzcG9uc2VzWyBmaW5hbERhdGFUeXBlIF07DQoJfQ0KfQ0KDQovKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlDQogKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2UNCiAqLw0KZnVuY3Rpb24gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICkgew0KCXZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LA0KCQljb252ZXJ0ZXJzID0ge30sDQoNCgkJLy8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvbg0KCQlkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpOw0KDQoJLy8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzDQoJaWYgKCBkYXRhVHlwZXNbIDEgXSApIHsNCgkJZm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7DQoJCQljb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdOw0KCQl9DQoJfQ0KDQoJY3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpOw0KDQoJLy8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGUNCgl3aGlsZSAoIGN1cnJlbnQgKSB7DQoNCgkJaWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7DQoJCQlqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTsNCgkJfQ0KDQoJCS8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkDQoJCWlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHsNCgkJCXJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApOw0KCQl9DQoNCgkJcHJldiA9IGN1cnJlbnQ7DQoJCWN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTsNCg0KCQlpZiAoIGN1cnJlbnQgKSB7DQoNCgkJCS8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG8NCgkJCWlmICggY3VycmVudCA9PT0gIioiICkgew0KDQoJCQkJY3VycmVudCA9IHByZXY7DQoNCgkJCS8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnQNCgkJCX0gZWxzZSBpZiAoIHByZXYgIT09ICIqIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkgew0KDQoJCQkJLy8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXINCgkJCQljb252ID0gY29udmVydGVyc1sgcHJldiArICIgIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyAiKiAiICsgY3VycmVudCBdOw0KDQoJCQkJLy8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXINCgkJCQlpZiAoICFjb252ICkgew0KCQkJCQlmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkgew0KDQoJCQkJCQkvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnQNCgkJCQkJCXRtcCA9IGNvbnYyLnNwbGl0KCAiICIgKTsNCgkJCQkJCWlmICggdG1wWyAxIF0gPT09IGN1cnJlbnQgKSB7DQoNCgkJCQkJCQkvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXQNCgkJCQkJCQljb252ID0gY29udmVydGVyc1sgcHJldiArICIgIiArIHRtcFsgMCBdIF0gfHwNCgkJCQkJCQkJY29udmVydGVyc1sgIiogIiArIHRtcFsgMCBdIF07DQoJCQkJCQkJaWYgKCBjb252ICkgew0KDQoJCQkJCQkJCS8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnMNCgkJCQkJCQkJaWYgKCBjb252ID09PSB0cnVlICkgew0KCQkJCQkJCQkJY29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07DQoNCgkJCQkJCQkJLy8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZQ0KCQkJCQkJCQl9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkgew0KCQkJCQkJCQkJY3VycmVudCA9IHRtcFsgMCBdOw0KCQkJCQkJCQkJZGF0YVR5cGVzLnVuc2hpZnQoIHRtcFsgMSBdICk7DQoJCQkJCQkJCX0NCgkJCQkJCQkJYnJlYWs7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KDQoJCQkJLy8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpDQoJCQkJaWYgKCBjb252ICE9PSB0cnVlICkgew0KDQoJCQkJCS8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW0NCgkJCQkJaWYgKCBjb252ICYmIHMudGhyb3dzICkgew0KCQkJCQkJcmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApOw0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJdHJ5IHsNCgkJCQkJCQlyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7DQoJCQkJCQl9IGNhdGNoICggZSApIHsNCgkJCQkJCQlyZXR1cm4gew0KCQkJCQkJCQlzdGF0ZTogInBhcnNlcmVycm9yIiwNCgkJCQkJCQkJZXJyb3I6IGNvbnYgPyBlIDogIk5vIGNvbnZlcnNpb24gZnJvbSAiICsgcHJldiArICIgdG8gIiArIGN1cnJlbnQNCgkJCQkJCQl9Ow0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KDQoJcmV0dXJuIHsgc3RhdGU6ICJzdWNjZXNzIiwgZGF0YTogcmVzcG9uc2UgfTsNCn0NCg0KalF1ZXJ5LmV4dGVuZCggew0KDQoJLy8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzDQoJYWN0aXZlOiAwLA0KDQoJLy8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdA0KCWxhc3RNb2RpZmllZDoge30sDQoJZXRhZzoge30sDQoNCglhamF4U2V0dGluZ3M6IHsNCgkJdXJsOiBsb2NhdGlvbi5ocmVmLA0KCQl0eXBlOiAiR0VUIiwNCgkJaXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggbG9jYXRpb24ucHJvdG9jb2wgKSwNCgkJZ2xvYmFsOiB0cnVlLA0KCQlwcm9jZXNzRGF0YTogdHJ1ZSwNCgkJYXN5bmM6IHRydWUsDQoJCWNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IiwNCg0KCQkvKg0KCQl0aW1lb3V0OiAzMDAwMCwNCgkJZGF0YTogbnVsbCwNCgkJZGF0YVR5cGU6IG51bGwsDQoJCXVzZXJuYW1lOiBudWxsLA0KCQlwYXNzd29yZDogbnVsbCwNCgkJY2FjaGU6IG51bGwsDQoJCXRocm93czogZmFsc2UsDQoJCXRyYWRpdGlvbmFsOiBmYWxzZSwNCgkJaGVhZGVyczoge30sDQoJCSovDQoNCgkJYWNjZXB0czogew0KCQkJIioiOiBhbGxUeXBlcywNCgkJCXRleHQ6ICJ0ZXh0L3BsYWluIiwNCgkJCWh0bWw6ICJ0ZXh0L2h0bWwiLA0KCQkJeG1sOiAiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsDQoJCQlqc29uOiAiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0Ig0KCQl9LA0KDQoJCWNvbnRlbnRzOiB7DQoJCQl4bWw6IC9cYnhtbFxiLywNCgkJCWh0bWw6IC9cYmh0bWwvLA0KCQkJanNvbjogL1xianNvblxiLw0KCQl9LA0KDQoJCXJlc3BvbnNlRmllbGRzOiB7DQoJCQl4bWw6ICJyZXNwb25zZVhNTCIsDQoJCQl0ZXh0OiAicmVzcG9uc2VUZXh0IiwNCgkJCWpzb246ICJyZXNwb25zZUpTT04iDQoJCX0sDQoNCgkJLy8gRGF0YSBjb252ZXJ0ZXJzDQoJCS8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCAiKiIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlDQoJCWNvbnZlcnRlcnM6IHsNCg0KCQkJLy8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0DQoJCQkiKiB0ZXh0IjogU3RyaW5nLA0KDQoJCQkvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbikNCgkJCSJ0ZXh0IGh0bWwiOiB0cnVlLA0KDQoJCQkvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uDQoJCQkidGV4dCBqc29uIjogSlNPTi5wYXJzZSwNCg0KCQkJLy8gUGFyc2UgdGV4dCBhcyB4bWwNCgkJCSJ0ZXh0IHhtbCI6IGpRdWVyeS5wYXJzZVhNTA0KCQl9LA0KDQoJCS8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6DQoJCS8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWYNCgkJLy8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmUNCgkJLy8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpDQoJCWZsYXRPcHRpb25zOiB7DQoJCQl1cmw6IHRydWUsDQoJCQljb250ZXh0OiB0cnVlDQoJCX0NCgl9LA0KDQoJLy8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXQNCgkvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuDQoJLy8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy4NCglhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkgew0KCQlyZXR1cm4gc2V0dGluZ3MgPw0KDQoJCQkvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdA0KCQkJYWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOg0KDQoJCQkvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzDQoJCQlhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTsNCgl9LA0KDQoJYWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzICksDQoJYWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzICksDQoNCgkvLyBNYWluIG1ldGhvZA0KCWFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7DQoNCgkJLy8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmUNCgkJaWYgKCB0eXBlb2YgdXJsID09PSAib2JqZWN0IiApIHsNCgkJCW9wdGlvbnMgPSB1cmw7DQoJCQl1cmwgPSB1bmRlZmluZWQ7DQoJCX0NCg0KCQkvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdA0KCQlvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsNCg0KCQl2YXIgdHJhbnNwb3J0LA0KDQoJCQkvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtDQoJCQljYWNoZVVSTCwNCg0KCQkJLy8gUmVzcG9uc2UgaGVhZGVycw0KCQkJcmVzcG9uc2VIZWFkZXJzU3RyaW5nLA0KCQkJcmVzcG9uc2VIZWFkZXJzLA0KDQoJCQkvLyB0aW1lb3V0IGhhbmRsZQ0KCQkJdGltZW91dFRpbWVyLA0KDQoJCQkvLyBVcmwgY2xlYW51cCB2YXINCgkJCXVybEFuY2hvciwNCg0KCQkJLy8gUmVxdWVzdCBzdGF0ZSAoYmVjb21lcyBmYWxzZSB1cG9uIHNlbmQgYW5kIHRydWUgdXBvbiBjb21wbGV0aW9uKQ0KCQkJY29tcGxldGVkLA0KDQoJCQkvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWQNCgkJCWZpcmVHbG9iYWxzLA0KDQoJCQkvLyBMb29wIHZhcmlhYmxlDQoJCQlpLA0KDQoJCQkvLyB1bmNhY2hlZCBwYXJ0IG9mIHRoZSB1cmwNCgkJCXVuY2FjaGVkLA0KDQoJCQkvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0DQoJCQlzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSwNCg0KCQkJLy8gQ2FsbGJhY2tzIGNvbnRleHQNCgkJCWNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLA0KDQoJCQkvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uDQoJCQlnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiYNCgkJCQkoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgPw0KCQkJCQlqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDoNCgkJCQkJalF1ZXJ5LmV2ZW50LA0KDQoJCQkvLyBEZWZlcnJlZHMNCgkJCWRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksDQoJCQljb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggIm9uY2UgbWVtb3J5IiApLA0KDQoJCQkvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrcw0KCQkJc3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSwNCg0KCQkJLy8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSkNCgkJCXJlcXVlc3RIZWFkZXJzID0ge30sDQoJCQlyZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sDQoNCgkJCS8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZQ0KCQkJc3RyQWJvcnQgPSAiY2FuY2VsZWQiLA0KDQoJCQkvLyBGYWtlIHhocg0KCQkJanFYSFIgPSB7DQoJCQkJcmVhZHlTdGF0ZTogMCwNCg0KCQkJCS8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWQNCgkJCQlnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHsNCgkJCQkJdmFyIG1hdGNoOw0KCQkJCQlpZiAoIGNvbXBsZXRlZCApIHsNCgkJCQkJCWlmICggIXJlc3BvbnNlSGVhZGVycyApIHsNCgkJCQkJCQlyZXNwb25zZUhlYWRlcnMgPSB7fTsNCgkJCQkJCQl3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkgew0KCQkJCQkJCQlyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSArICIgIiBdID0NCgkJCQkJCQkJCSggcmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgKyAiICIgXSB8fCBbXSApDQoJCQkJCQkJCQkJLmNvbmNhdCggbWF0Y2hbIDIgXSApOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJCW1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSArICIgIiBdOw0KCQkJCQl9DQoJCQkJCXJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoLmpvaW4oICIsICIgKTsNCgkJCQl9LA0KDQoJCQkJLy8gUmF3IHN0cmluZw0KCQkJCWdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7DQoJCQkJCXJldHVybiBjb21wbGV0ZWQgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsOw0KCQkJCX0sDQoNCgkJCQkvLyBDYWNoZXMgdGhlIGhlYWRlcg0KCQkJCXNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHsNCgkJCQkJaWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHsNCgkJCQkJCW5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9DQoJCQkJCQkJcmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTsNCgkJCQkJCXJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTsNCgkJCQkJfQ0KCQkJCQlyZXR1cm4gdGhpczsNCgkJCQl9LA0KDQoJCQkJLy8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXINCgkJCQlvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHsNCgkJCQkJaWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHsNCgkJCQkJCXMubWltZVR5cGUgPSB0eXBlOw0KCQkJCQl9DQoJCQkJCXJldHVybiB0aGlzOw0KCQkJCX0sDQoNCgkJCQkvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrcw0KCQkJCXN0YXR1c0NvZGU6IGZ1bmN0aW9uKCBtYXAgKSB7DQoJCQkJCXZhciBjb2RlOw0KCQkJCQlpZiAoIG1hcCApIHsNCgkJCQkJCWlmICggY29tcGxldGVkICkgew0KDQoJCQkJCQkJLy8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzDQoJCQkJCQkJanFYSFIuYWx3YXlzKCBtYXBbIGpxWEhSLnN0YXR1cyBdICk7DQoJCQkJCQl9IGVsc2Ugew0KDQoJCQkJCQkJLy8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXMNCgkJCQkJCQlmb3IgKCBjb2RlIGluIG1hcCApIHsNCgkJCQkJCQkJc3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCXJldHVybiB0aGlzOw0KCQkJCX0sDQoNCgkJCQkvLyBDYW5jZWwgdGhlIHJlcXVlc3QNCgkJCQlhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7DQoJCQkJCXZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0Ow0KCQkJCQlpZiAoIHRyYW5zcG9ydCApIHsNCgkJCQkJCXRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7DQoJCQkJCX0NCgkJCQkJZG9uZSggMCwgZmluYWxUZXh0ICk7DQoJCQkJCXJldHVybiB0aGlzOw0KCQkJCX0NCgkJCX07DQoNCgkJLy8gQXR0YWNoIGRlZmVycmVkcw0KCQlkZWZlcnJlZC5wcm9taXNlKCBqcVhIUiApOw0KDQoJCS8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKHByZWZpbHRlcnMgbWlnaHQgZXhwZWN0IGl0KQ0KCQkvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKQ0KCQkvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGUNCgkJcy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGxvY2F0aW9uLmhyZWYgKSArICIiICkNCgkJCS5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiApOw0KDQoJCS8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0ICMxMjAwNA0KCQlzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlOw0KDQoJCS8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3QNCgkJcy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgIioiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgIiIgXTsNCg0KCQkvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi4NCgkJaWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7DQoJCQl1cmxBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiYSIgKTsNCg0KCQkJLy8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxNQ0KCQkJLy8gSUUgdGhyb3dzIGV4Y2VwdGlvbiBvbiBhY2Nlc3NpbmcgdGhlIGhyZWYgcHJvcGVydHkgaWYgdXJsIGlzIG1hbGZvcm1lZCwNCgkJCS8vIGUuZy4gaHR0cDovL2V4YW1wbGUuY29tOjgweC8NCgkJCXRyeSB7DQoJCQkJdXJsQW5jaG9yLmhyZWYgPSBzLnVybDsNCg0KCQkJCS8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHkNCgkJCQkvLyBBbmNob3IncyBob3N0IHByb3BlcnR5IGlzbid0IGNvcnJlY3RseSBzZXQgd2hlbiBzLnVybCBpcyByZWxhdGl2ZQ0KCQkJCXVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWY7DQoJCQkJcy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArICIvLyIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT0NCgkJCQkJdXJsQW5jaG9yLnByb3RvY29sICsgIi8vIiArIHVybEFuY2hvci5ob3N0Ow0KCQkJfSBjYXRjaCAoIGUgKSB7DQoNCgkJCQkvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciBwYXJzaW5nIHRoZSBVUkwsIGFzc3VtZSBpdCBpcyBjcm9zc0RvbWFpbiwNCgkJCQkvLyBpdCBjYW4gYmUgcmVqZWN0ZWQgYnkgdGhlIHRyYW5zcG9ydCBpZiBpdCBpcyBpbnZhbGlkDQoJCQkJcy5jcm9zc0RvbWFpbiA9IHRydWU7DQoJCQl9DQoJCX0NCg0KCQkvLyBDb252ZXJ0IGRhdGEgaWYgbm90IGFscmVhZHkgYSBzdHJpbmcNCgkJaWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSAic3RyaW5nIiApIHsNCgkJCXMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7DQoJCX0NCg0KCQkvLyBBcHBseSBwcmVmaWx0ZXJzDQoJCWluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApOw0KDQoJCS8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlDQoJCWlmICggY29tcGxldGVkICkgew0KCQkJcmV0dXJuIGpxWEhSOw0KCQl9DQoNCgkJLy8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG8NCgkJLy8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOCkNCgkJZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7DQoNCgkJLy8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0cw0KCQlpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHsNCgkJCWpRdWVyeS5ldmVudC50cmlnZ2VyKCAiYWpheFN0YXJ0IiApOw0KCQl9DQoNCgkJLy8gVXBwZXJjYXNlIHRoZSB0eXBlDQoJCXMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpOw0KDQoJCS8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50DQoJCXMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApOw0KDQoJCS8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZQ0KCQkvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb24NCgkJLy8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvbg0KCQljYWNoZVVSTCA9IHMudXJsLnJlcGxhY2UoIHJoYXNoLCAiIiApOw0KDQoJCS8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50DQoJCWlmICggIXMuaGFzQ29udGVudCApIHsNCg0KCQkJLy8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrDQoJCQl1bmNhY2hlZCA9IHMudXJsLnNsaWNlKCBjYWNoZVVSTC5sZW5ndGggKTsNCg0KCQkJLy8gSWYgZGF0YSBpcyBhdmFpbGFibGUgYW5kIHNob3VsZCBiZSBwcm9jZXNzZWQsIGFwcGVuZCBkYXRhIHRvIHVybA0KCQkJaWYgKCBzLmRhdGEgJiYgKCBzLnByb2Nlc3NEYXRhIHx8IHR5cGVvZiBzLmRhdGEgPT09ICJzdHJpbmciICkgKSB7DQoJCQkJY2FjaGVVUkwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/ICImIiA6ICI/IiApICsgcy5kYXRhOw0KDQoJCQkJLy8gIzk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeQ0KCQkJCWRlbGV0ZSBzLmRhdGE7DQoJCQl9DQoNCgkJCS8vIEFkZCBvciB1cGRhdGUgYW50aS1jYWNoZSBwYXJhbSBpZiBuZWVkZWQNCgkJCWlmICggcy5jYWNoZSA9PT0gZmFsc2UgKSB7DQoJCQkJY2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCAiJDEiICk7DQoJCQkJdW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gIiYiIDogIj8iICkgKyAiXz0iICsgKCBub25jZS5ndWlkKysgKSArDQoJCQkJCXVuY2FjaGVkOw0KCQkJfQ0KDQoJCQkvLyBQdXQgaGFzaCBhbmQgYW50aS1jYWNoZSBvbiB0aGUgVVJMIHRoYXQgd2lsbCBiZSByZXF1ZXN0ZWQgKGdoLTE3MzIpDQoJCQlzLnVybCA9IGNhY2hlVVJMICsgdW5jYWNoZWQ7DQoNCgkJLy8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpDQoJCX0gZWxzZSBpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmDQoJCQkoIHMuY29udGVudFR5cGUgfHwgIiIgKS5pbmRleE9mKCAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiApID09PSAwICkgew0KCQkJcy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgIisiICk7DQoJCX0NCg0KCQkvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLg0KCQlpZiAoIHMuaWZNb2RpZmllZCApIHsNCgkJCWlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHsNCgkJCQlqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCAiSWYtTW9kaWZpZWQtU2luY2UiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7DQoJCQl9DQoJCQlpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkgew0KCQkJCWpxWEhSLnNldFJlcXVlc3RIZWFkZXIoICJJZi1Ob25lLU1hdGNoIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTsNCgkJCX0NCgkJfQ0KDQoJCS8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudA0KCQlpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHsNCgkJCWpxWEhSLnNldFJlcXVlc3RIZWFkZXIoICJDb250ZW50LVR5cGUiLCBzLmNvbnRlbnRUeXBlICk7DQoJCX0NCg0KCQkvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlDQoJCWpxWEhSLnNldFJlcXVlc3RIZWFkZXIoDQoJCQkiQWNjZXB0IiwNCgkJCXMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gPw0KCQkJCXMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdICsNCgkJCQkJKCBzLmRhdGFUeXBlc1sgMCBdICE9PSAiKiIgPyAiLCAiICsgYWxsVHlwZXMgKyAiOyBxPTAuMDEiIDogIiIgKSA6DQoJCQkJcy5hY2NlcHRzWyAiKiIgXQ0KCQkpOw0KDQoJCS8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvbg0KCQlmb3IgKCBpIGluIHMuaGVhZGVycyApIHsNCgkJCWpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7DQoJCX0NCg0KCQkvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0DQoJCWlmICggcy5iZWZvcmVTZW5kICYmDQoJCQkoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCApICkgew0KDQoJCQkvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm4NCgkJCXJldHVybiBqcVhIUi5hYm9ydCgpOw0KCQl9DQoNCgkJLy8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uDQoJCXN0ckFib3J0ID0gImFib3J0IjsNCg0KCQkvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHMNCgkJY29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTsNCgkJanFYSFIuZG9uZSggcy5zdWNjZXNzICk7DQoJCWpxWEhSLmZhaWwoIHMuZXJyb3IgKTsNCg0KCQkvLyBHZXQgdHJhbnNwb3J0DQoJCXRyYW5zcG9ydCA9IGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzLCBzLCBvcHRpb25zLCBqcVhIUiApOw0KDQoJCS8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydA0KCQlpZiAoICF0cmFuc3BvcnQgKSB7DQoJCQlkb25lKCAtMSwgIk5vIFRyYW5zcG9ydCIgKTsNCgkJfSBlbHNlIHsNCgkJCWpxWEhSLnJlYWR5U3RhdGUgPSAxOw0KDQoJCQkvLyBTZW5kIGdsb2JhbCBldmVudA0KCQkJaWYgKCBmaXJlR2xvYmFscyApIHsNCgkJCQlnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggImFqYXhTZW5kIiwgWyBqcVhIUiwgcyBdICk7DQoJCQl9DQoNCgkJCS8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlDQoJCQlpZiAoIGNvbXBsZXRlZCApIHsNCgkJCQlyZXR1cm4ganFYSFI7DQoJCQl9DQoNCgkJCS8vIFRpbWVvdXQNCgkJCWlmICggcy5hc3luYyAmJiBzLnRpbWVvdXQgPiAwICkgew0KCQkJCXRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsNCgkJCQkJanFYSFIuYWJvcnQoICJ0aW1lb3V0IiApOw0KCQkJCX0sIHMudGltZW91dCApOw0KCQkJfQ0KDQoJCQl0cnkgew0KCQkJCWNvbXBsZXRlZCA9IGZhbHNlOw0KCQkJCXRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApOw0KCQkJfSBjYXRjaCAoIGUgKSB7DQoNCgkJCQkvLyBSZXRocm93IHBvc3QtY29tcGxldGlvbiBleGNlcHRpb25zDQoJCQkJaWYgKCBjb21wbGV0ZWQgKSB7DQoJCQkJCXRocm93IGU7DQoJCQkJfQ0KDQoJCQkJLy8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzDQoJCQkJZG9uZSggLTEsIGUgKTsNCgkJCX0NCgkJfQ0KDQoJCS8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZQ0KCQlmdW5jdGlvbiBkb25lKCBzdGF0dXMsIG5hdGl2ZVN0YXR1c1RleHQsIHJlc3BvbnNlcywgaGVhZGVycyApIHsNCgkJCXZhciBpc1N1Y2Nlc3MsIHN1Y2Nlc3MsIGVycm9yLCByZXNwb25zZSwgbW9kaWZpZWQsDQoJCQkJc3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7DQoNCgkJCS8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnMNCgkJCWlmICggY29tcGxldGVkICkgew0KCQkJCXJldHVybjsNCgkJCX0NCg0KCQkJY29tcGxldGVkID0gdHJ1ZTsNCg0KCQkJLy8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHMNCgkJCWlmICggdGltZW91dFRpbWVyICkgew0KCQkJCXdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXRUaW1lciApOw0KCQkJfQ0KDQoJCQkvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvbg0KCQkJLy8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZCkNCgkJCXRyYW5zcG9ydCA9IHVuZGVmaW5lZDsNCg0KCQkJLy8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVycw0KCQkJcmVzcG9uc2VIZWFkZXJzU3RyaW5nID0gaGVhZGVycyB8fCAiIjsNCg0KCQkJLy8gU2V0IHJlYWR5U3RhdGUNCgkJCWpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7DQoNCgkJCS8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsDQoJCQlpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDsNCg0KCQkJLy8gR2V0IHJlc3BvbnNlIGRhdGENCgkJCWlmICggcmVzcG9uc2VzICkgew0KCQkJCXJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApOw0KCQkJfQ0KDQoJCQkvLyBVc2UgYSBub29wIGNvbnZlcnRlciBmb3IgbWlzc2luZyBzY3JpcHQNCgkJCWlmICggIWlzU3VjY2VzcyAmJiBqUXVlcnkuaW5BcnJheSggInNjcmlwdCIsIHMuZGF0YVR5cGVzICkgPiAtMSApIHsNCgkJCQlzLmNvbnZlcnRlcnNbICJ0ZXh0IHNjcmlwdCIgXSA9IGZ1bmN0aW9uKCkge307DQoJCQl9DQoNCgkJCS8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldCkNCgkJCXJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7DQoNCgkJCS8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nDQoJCQlpZiAoIGlzU3VjY2VzcyApIHsNCg0KCQkJCS8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuDQoJCQkJaWYgKCBzLmlmTW9kaWZpZWQgKSB7DQoJCQkJCW1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoICJMYXN0LU1vZGlmaWVkIiApOw0KCQkJCQlpZiAoIG1vZGlmaWVkICkgew0KCQkJCQkJalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkOw0KCQkJCQl9DQoJCQkJCW1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoICJldGFnIiApOw0KCQkJCQlpZiAoIG1vZGlmaWVkICkgew0KCQkJCQkJalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDsNCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCS8vIGlmIG5vIGNvbnRlbnQNCgkJCQlpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gIkhFQUQiICkgew0KCQkJCQlzdGF0dXNUZXh0ID0gIm5vY29udGVudCI7DQoNCgkJCQkvLyBpZiBub3QgbW9kaWZpZWQNCgkJCQl9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDMwNCApIHsNCgkJCQkJc3RhdHVzVGV4dCA9ICJub3Rtb2RpZmllZCI7DQoNCgkJCQkvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXQNCgkJCQl9IGVsc2Ugew0KCQkJCQlzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7DQoJCQkJCXN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhOw0KCQkJCQllcnJvciA9IHJlc3BvbnNlLmVycm9yOw0KCQkJCQlpc1N1Y2Nlc3MgPSAhZXJyb3I7DQoJCQkJfQ0KCQkJfSBlbHNlIHsNCg0KCQkJCS8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHMNCgkJCQllcnJvciA9IHN0YXR1c1RleHQ7DQoJCQkJaWYgKCBzdGF0dXMgfHwgIXN0YXR1c1RleHQgKSB7DQoJCQkJCXN0YXR1c1RleHQgPSAiZXJyb3IiOw0KCQkJCQlpZiAoIHN0YXR1cyA8IDAgKSB7DQoJCQkJCQlzdGF0dXMgPSAwOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KDQoJCQkvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdA0KCQkJanFYSFIuc3RhdHVzID0gc3RhdHVzOw0KCQkJanFYSFIuc3RhdHVzVGV4dCA9ICggbmF0aXZlU3RhdHVzVGV4dCB8fCBzdGF0dXNUZXh0ICkgKyAiIjsNCg0KCQkJLy8gU3VjY2Vzcy9FcnJvcg0KCQkJaWYgKCBpc1N1Y2Nlc3MgKSB7DQoJCQkJZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUiBdICk7DQoJCQl9IGVsc2Ugew0KCQkJCWRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApOw0KCQkJfQ0KDQoJCQkvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrcw0KCQkJanFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApOw0KCQkJc3RhdHVzQ29kZSA9IHVuZGVmaW5lZDsNCg0KCQkJaWYgKCBmaXJlR2xvYmFscyApIHsNCgkJCQlnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gImFqYXhTdWNjZXNzIiA6ICJhamF4RXJyb3IiLA0KCQkJCQlbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApOw0KCQkJfQ0KDQoJCQkvLyBDb21wbGV0ZQ0KCQkJY29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTsNCg0KCQkJaWYgKCBmaXJlR2xvYmFscyApIHsNCgkJCQlnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggImFqYXhDb21wbGV0ZSIsIFsganFYSFIsIHMgXSApOw0KDQoJCQkJLy8gSGFuZGxlIHRoZSBnbG9iYWwgQUpBWCBjb3VudGVyDQoJCQkJaWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHsNCgkJCQkJalF1ZXJ5LmV2ZW50LnRyaWdnZXIoICJhamF4U3RvcCIgKTsNCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQlyZXR1cm4ganFYSFI7DQoJfSwNCg0KCWdldEpTT046IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrICkgew0KCQlyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgImpzb24iICk7DQoJfSwNCg0KCWdldFNjcmlwdDogZnVuY3Rpb24oIHVybCwgY2FsbGJhY2sgKSB7DQoJCXJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssICJzY3JpcHQiICk7DQoJfQ0KfSApOw0KDQpqUXVlcnkuZWFjaCggWyAiZ2V0IiwgInBvc3QiIF0sIGZ1bmN0aW9uKCBfaSwgbWV0aG9kICkgew0KCWpRdWVyeVsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjaywgdHlwZSApIHsNCg0KCQkvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZA0KCQlpZiAoIGlzRnVuY3Rpb24oIGRhdGEgKSApIHsNCgkJCXR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrOw0KCQkJY2FsbGJhY2sgPSBkYXRhOw0KCQkJZGF0YSA9IHVuZGVmaW5lZDsNCgkJfQ0KDQoJCS8vIFRoZSB1cmwgY2FuIGJlIGFuIG9wdGlvbnMgb2JqZWN0ICh3aGljaCB0aGVuIG11c3QgaGF2ZSAudXJsKQ0KCQlyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHsNCgkJCXVybDogdXJsLA0KCQkJdHlwZTogbWV0aG9kLA0KCQkJZGF0YVR5cGU6IHR5cGUsDQoJCQlkYXRhOiBkYXRhLA0KCQkJc3VjY2VzczogY2FsbGJhY2sNCgkJfSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7DQoJfTsNCn0gKTsNCg0KalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkgew0KCXZhciBpOw0KCWZvciAoIGkgaW4gcy5oZWFkZXJzICkgew0KCQlpZiAoIGkudG9Mb3dlckNhc2UoKSA9PT0gImNvbnRlbnQtdHlwZSIgKSB7DQoJCQlzLmNvbnRlbnRUeXBlID0gcy5oZWFkZXJzWyBpIF0gfHwgIiI7DQoJCX0NCgl9DQp9ICk7DQoNCg0KalF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCwgb3B0aW9ucywgZG9jICkgew0KCXJldHVybiBqUXVlcnkuYWpheCggew0KCQl1cmw6IHVybCwNCg0KCQkvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKCMxMTI2NCkNCgkJdHlwZTogIkdFVCIsDQoJCWRhdGFUeXBlOiAic2NyaXB0IiwNCgkJY2FjaGU6IHRydWUsDQoJCWFzeW5jOiBmYWxzZSwNCgkJZ2xvYmFsOiBmYWxzZSwNCg0KCQkvLyBPbmx5IGV2YWx1YXRlIHRoZSByZXNwb25zZSBpZiBpdCBpcyBzdWNjZXNzZnVsIChnaC00MTI2KQ0KCQkvLyBkYXRhRmlsdGVyIGlzIG5vdCBpbnZva2VkIGZvciBmYWlsdXJlIHJlc3BvbnNlcywgc28gdXNpbmcgaXQgaW5zdGVhZA0KCQkvLyBvZiB0aGUgZGVmYXVsdCBjb252ZXJ0ZXIgaXMga2x1ZGd5IGJ1dCBpdCB3b3Jrcy4NCgkJY29udmVydGVyczogew0KCQkJInRleHQgc2NyaXB0IjogZnVuY3Rpb24oKSB7fQ0KCQl9LA0KCQlkYXRhRmlsdGVyOiBmdW5jdGlvbiggcmVzcG9uc2UgKSB7DQoJCQlqUXVlcnkuZ2xvYmFsRXZhbCggcmVzcG9uc2UsIG9wdGlvbnMsIGRvYyApOw0KCQl9DQoJfSApOw0KfTsNCg0KDQpqUXVlcnkuZm4uZXh0ZW5kKCB7DQoJd3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7DQoJCXZhciB3cmFwOw0KDQoJCWlmICggdGhpc1sgMCBdICkgew0KCQkJaWYgKCBpc0Z1bmN0aW9uKCBodG1sICkgKSB7DQoJCQkJaHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7DQoJCQl9DQoNCgkJCS8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kDQoJCQl3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTsNCg0KCQkJaWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHsNCgkJCQl3cmFwLmluc2VydEJlZm9yZSggdGhpc1sgMCBdICk7DQoJCQl9DQoNCgkJCXdyYXAubWFwKCBmdW5jdGlvbigpIHsNCgkJCQl2YXIgZWxlbSA9IHRoaXM7DQoNCgkJCQl3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7DQoJCQkJCWVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkOw0KCQkJCX0NCg0KCQkJCXJldHVybiBlbGVtOw0KCQkJfSApLmFwcGVuZCggdGhpcyApOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXdyYXBJbm5lcjogZnVuY3Rpb24oIGh0bWwgKSB7DQoJCWlmICggaXNGdW5jdGlvbiggaHRtbCApICkgew0KCQkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7DQoJCQkJalF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApOw0KCQkJfSApOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQl2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLA0KCQkJCWNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpOw0KDQoJCQlpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHsNCgkJCQljb250ZW50cy53cmFwQWxsKCBodG1sICk7DQoNCgkJCX0gZWxzZSB7DQoJCQkJc2VsZi5hcHBlbmQoIGh0bWwgKTsNCgkJCX0NCgkJfSApOw0KCX0sDQoNCgl3cmFwOiBmdW5jdGlvbiggaHRtbCApIHsNCgkJdmFyIGh0bWxJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggaHRtbCApOw0KDQoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkgew0KCQkJalF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaHRtbElzRnVuY3Rpb24gPyBodG1sLmNhbGwoIHRoaXMsIGkgKSA6IGh0bWwgKTsNCgkJfSApOw0KCX0sDQoNCgl1bndyYXA6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHsNCgkJdGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCAiYm9keSIgKS5lYWNoKCBmdW5jdGlvbigpIHsNCgkJCWpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTsNCgkJfSApOw0KCQlyZXR1cm4gdGhpczsNCgl9DQp9ICk7DQoNCg0KalF1ZXJ5LmV4cHIucHNldWRvcy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHsNCglyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApOw0KfTsNCmpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkgew0KCXJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7DQp9Ow0KDQoNCg0KDQpqUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkgew0KCXRyeSB7DQoJCXJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7DQoJfSBjYXRjaCAoIGUgKSB7fQ0KfTsNCg0KdmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7DQoNCgkJLy8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDANCgkJMDogMjAwLA0KDQoJCS8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5DQoJCS8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNA0KCQkxMjIzOiAyMDQNCgl9LA0KCXhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7DQoNCnN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggIndpdGhDcmVkZW50aWFscyIgaW4geGhyU3VwcG9ydGVkICk7DQpzdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDsNCg0KalF1ZXJ5LmFqYXhUcmFuc3BvcnQoIGZ1bmN0aW9uKCBvcHRpb25zICkgew0KCXZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjazsNCg0KCS8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3QNCglpZiAoIHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9wdGlvbnMuY3Jvc3NEb21haW4gKSB7DQoJCXJldHVybiB7DQoJCQlzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7DQoJCQkJdmFyIGksDQoJCQkJCXhociA9IG9wdGlvbnMueGhyKCk7DQoNCgkJCQl4aHIub3BlbigNCgkJCQkJb3B0aW9ucy50eXBlLA0KCQkJCQlvcHRpb25zLnVybCwNCgkJCQkJb3B0aW9ucy5hc3luYywNCgkJCQkJb3B0aW9ucy51c2VybmFtZSwNCgkJCQkJb3B0aW9ucy5wYXNzd29yZA0KCQkJCSk7DQoNCgkJCQkvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkDQoJCQkJaWYgKCBvcHRpb25zLnhockZpZWxkcyApIHsNCgkJCQkJZm9yICggaSBpbiBvcHRpb25zLnhockZpZWxkcyApIHsNCgkJCQkJCXhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkgXTsNCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCS8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWQNCgkJCQlpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7DQoJCQkJCXhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7DQoJCQkJfQ0KDQoJCQkJLy8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXINCgkJCQkvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlDQoJCQkJLy8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS4NCgkJCQkvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBvciBldmVuIHVzaW5nIGFqYXhTZXR1cCkNCgkJCQkvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC4NCgkJCQlpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyAiWC1SZXF1ZXN0ZWQtV2l0aCIgXSApIHsNCgkJCQkJaGVhZGVyc1sgIlgtUmVxdWVzdGVkLVdpdGgiIF0gPSAiWE1MSHR0cFJlcXVlc3QiOw0KCQkJCX0NCg0KCQkJCS8vIFNldCBoZWFkZXJzDQoJCQkJZm9yICggaSBpbiBoZWFkZXJzICkgew0KCQkJCQl4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICk7DQoJCQkJfQ0KDQoJCQkJLy8gQ2FsbGJhY2sNCgkJCQljYWxsYmFjayA9IGZ1bmN0aW9uKCB0eXBlICkgew0KCQkJCQlyZXR1cm4gZnVuY3Rpb24oKSB7DQoJCQkJCQlpZiAoIGNhbGxiYWNrICkgew0KCQkJCQkJCWNhbGxiYWNrID0gZXJyb3JDYWxsYmFjayA9IHhoci5vbmxvYWQgPQ0KCQkJCQkJCQl4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9udGltZW91dCA9DQoJCQkJCQkJCQl4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDsNCg0KCQkJCQkJCWlmICggdHlwZSA9PT0gImFib3J0IiApIHsNCgkJCQkJCQkJeGhyLmFib3J0KCk7DQoJCQkJCQkJfSBlbHNlIGlmICggdHlwZSA9PT0gImVycm9yIiApIHsNCg0KCQkJCQkJCQkvLyBTdXBwb3J0OiBJRSA8PTkgb25seQ0KCQkJCQkJCQkvLyBPbiBhIG1hbnVhbCBuYXRpdmUgYWJvcnQsIElFOSB0aHJvd3MNCgkJCQkJCQkJLy8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZQ0KCQkJCQkJCQlpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSAibnVtYmVyIiApIHsNCgkJCQkJCQkJCWNvbXBsZXRlKCAwLCAiZXJyb3IiICk7DQoJCQkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJCQljb21wbGV0ZSgNCg0KCQkJCQkJCQkJCS8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3DQoJCQkJCQkJCQkJeGhyLnN0YXR1cywNCgkJCQkJCQkJCQl4aHIuc3RhdHVzVGV4dA0KCQkJCQkJCQkJKTsNCgkJCQkJCQkJfQ0KCQkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJCWNvbXBsZXRlKA0KCQkJCQkJCQkJeGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsDQoJCQkJCQkJCQl4aHIuc3RhdHVzVGV4dCwNCg0KCQkJCQkJCQkJLy8gU3VwcG9ydDogSUUgPD05IG9ubHkNCgkJCQkJCQkJCS8vIElFOSBoYXMgbm8gWEhSMiBidXQgdGhyb3dzIG9uIGJpbmFyeSAodHJhYy0xMTQyNikNCgkJCQkJCQkJCS8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpDQoJCQkJCQkJCQkoIHhoci5yZXNwb25zZVR5cGUgfHwgInRleHQiICkgIT09ICJ0ZXh0IiAgfHwNCgkJCQkJCQkJCXR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSAic3RyaW5nIiA/DQoJCQkJCQkJCQkJeyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDoNCgkJCQkJCQkJCQl7IHRleHQ6IHhoci5yZXNwb25zZVRleHQgfSwNCgkJCQkJCQkJCXhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKQ0KCQkJCQkJCQkpOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfTsNCgkJCQl9Ow0KDQoJCQkJLy8gTGlzdGVuIHRvIGV2ZW50cw0KCQkJCXhoci5vbmxvYWQgPSBjYWxsYmFjaygpOw0KCQkJCWVycm9yQ2FsbGJhY2sgPSB4aHIub25lcnJvciA9IHhoci5vbnRpbWVvdXQgPSBjYWxsYmFjayggImVycm9yIiApOw0KDQoJCQkJLy8gU3VwcG9ydDogSUUgOSBvbmx5DQoJCQkJLy8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnQNCgkJCQkvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzDQoJCQkJaWYgKCB4aHIub25hYm9ydCAhPT0gdW5kZWZpbmVkICkgew0KCQkJCQl4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7DQoJCQkJfSBlbHNlIHsNCgkJCQkJeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgew0KDQoJCQkJCQkvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXMNCgkJCQkJCWlmICggeGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7DQoNCgkJCQkJCQkvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCwNCgkJCQkJCQkvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnQNCgkJCQkJCQkvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJsZQ0KCQkJCQkJCS8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZA0KCQkJCQkJCXdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsNCgkJCQkJCQkJaWYgKCBjYWxsYmFjayApIHsNCgkJCQkJCQkJCWVycm9yQ2FsbGJhY2soKTsNCgkJCQkJCQkJfQ0KCQkJCQkJCX0gKTsNCgkJCQkJCX0NCgkJCQkJfTsNCgkJCQl9DQoNCgkJCQkvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrDQoJCQkJY2FsbGJhY2sgPSBjYWxsYmFjayggImFib3J0IiApOw0KDQoJCQkJdHJ5IHsNCg0KCQkJCQkvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pDQoJCQkJCXhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTsNCgkJCQl9IGNhdGNoICggZSApIHsNCg0KCQkJCQkvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldA0KCQkJCQlpZiAoIGNhbGxiYWNrICkgew0KCQkJCQkJdGhyb3cgZTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0sDQoNCgkJCWFib3J0OiBmdW5jdGlvbigpIHsNCgkJCQlpZiAoIGNhbGxiYWNrICkgew0KCQkJCQljYWxsYmFjaygpOw0KCQkJCX0NCgkJCX0NCgkJfTsNCgl9DQp9ICk7DQoNCg0KDQoNCi8vIFByZXZlbnQgYXV0by1leGVjdXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAoU2VlIGdoLTI0MzIpDQpqUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7DQoJaWYgKCBzLmNyb3NzRG9tYWluICkgew0KCQlzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlOw0KCX0NCn0gKTsNCg0KLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGUNCmpRdWVyeS5hamF4U2V0dXAoIHsNCglhY2NlcHRzOiB7DQoJCXNjcmlwdDogInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgIiArDQoJCQkiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0Ig0KCX0sDQoJY29udGVudHM6IHsNCgkJc2NyaXB0OiAvXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvDQoJfSwNCgljb252ZXJ0ZXJzOiB7DQoJCSJ0ZXh0IHNjcmlwdCI6IGZ1bmN0aW9uKCB0ZXh0ICkgew0KCQkJalF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTsNCgkJCXJldHVybiB0ZXh0Ow0KCQl9DQoJfQ0KfSApOw0KDQovLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3NzRG9tYWluDQpqUXVlcnkuYWpheFByZWZpbHRlciggInNjcmlwdCIsIGZ1bmN0aW9uKCBzICkgew0KCWlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkgew0KCQlzLmNhY2hlID0gZmFsc2U7DQoJfQ0KCWlmICggcy5jcm9zc0RvbWFpbiApIHsNCgkJcy50eXBlID0gIkdFVCI7DQoJfQ0KfSApOw0KDQovLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnQNCmpRdWVyeS5hamF4VHJhbnNwb3J0KCAic2NyaXB0IiwgZnVuY3Rpb24oIHMgKSB7DQoNCgkvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIG9yIGZvcmNlZC1ieS1hdHRycyByZXF1ZXN0cw0KCWlmICggcy5jcm9zc0RvbWFpbiB8fCBzLnNjcmlwdEF0dHJzICkgew0KCQl2YXIgc2NyaXB0LCBjYWxsYmFjazsNCgkJcmV0dXJuIHsNCgkJCXNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHsNCgkJCQlzY3JpcHQgPSBqUXVlcnkoICI8c2NyaXB0PiIgKQ0KCQkJCQkuYXR0ciggcy5zY3JpcHRBdHRycyB8fCB7fSApDQoJCQkJCS5wcm9wKCB7IGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCwgc3JjOiBzLnVybCB9ICkNCgkJCQkJLm9uKCAibG9hZCBlcnJvciIsIGNhbGxiYWNrID0gZnVuY3Rpb24oIGV2dCApIHsNCgkJCQkJCXNjcmlwdC5yZW1vdmUoKTsNCgkJCQkJCWNhbGxiYWNrID0gbnVsbDsNCgkJCQkJCWlmICggZXZ0ICkgew0KCQkJCQkJCWNvbXBsZXRlKCBldnQudHlwZSA9PT0gImVycm9yIiA/IDQwNCA6IDIwMCwgZXZ0LnR5cGUgKTsNCgkJCQkJCX0NCgkJCQkJfSApOw0KDQoJCQkJLy8gVXNlIG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNrZXJ5DQoJCQkJZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0WyAwIF0gKTsNCgkJCX0sDQoJCQlhYm9ydDogZnVuY3Rpb24oKSB7DQoJCQkJaWYgKCBjYWxsYmFjayApIHsNCgkJCQkJY2FsbGJhY2soKTsNCgkJCQl9DQoJCQl9DQoJCX07DQoJfQ0KfSApOw0KDQoNCg0KDQp2YXIgb2xkQ2FsbGJhY2tzID0gW10sDQoJcmpzb25wID0gLyg9KVw/KD89JnwkKXxcP1w/LzsNCg0KLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5ncw0KalF1ZXJ5LmFqYXhTZXR1cCggew0KCWpzb25wOiAiY2FsbGJhY2siLA0KCWpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkgew0KCQl2YXIgY2FsbGJhY2sgPSBvbGRDYWxsYmFja3MucG9wKCkgfHwgKCBqUXVlcnkuZXhwYW5kbyArICJfIiArICggbm9uY2UuZ3VpZCsrICkgKTsNCgkJdGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7DQoJCXJldHVybiBjYWxsYmFjazsNCgl9DQp9ICk7DQoNCi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0cw0KalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoICJqc29uIGpzb25wIiwgZnVuY3Rpb24oIHMsIG9yaWdpbmFsU2V0dGluZ3MsIGpxWEhSICkgew0KDQoJdmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLA0KCQlqc29uUHJvcCA9IHMuanNvbnAgIT09IGZhbHNlICYmICggcmpzb25wLnRlc3QoIHMudXJsICkgPw0KCQkJInVybCIgOg0KCQkJdHlwZW9mIHMuZGF0YSA9PT0gInN0cmluZyIgJiYNCgkJCQkoIHMuY29udGVudFR5cGUgfHwgIiIgKQ0KCQkJCQkuaW5kZXhPZiggImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgKSA9PT0gMCAmJg0KCQkJCXJqc29ucC50ZXN0KCBzLmRhdGEgKSAmJiAiZGF0YSINCgkJKTsNCg0KCS8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyAianNvbnAiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0DQoJaWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSAianNvbnAiICkgew0KDQoJCS8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXQNCgkJY2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0gaXNGdW5jdGlvbiggcy5qc29ucENhbGxiYWNrICkgPw0KCQkJcy5qc29ucENhbGxiYWNrKCkgOg0KCQkJcy5qc29ucENhbGxiYWNrOw0KDQoJCS8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGENCgkJaWYgKCBqc29uUHJvcCApIHsNCgkJCXNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgIiQxIiArIGNhbGxiYWNrTmFtZSApOw0KCQl9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHsNCgkJCXMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyAiJiIgOiAiPyIgKSArIHMuanNvbnAgKyAiPSIgKyBjYWxsYmFja05hbWU7DQoJCX0NCg0KCQkvLyBVc2UgZGF0YSBjb252ZXJ0ZXIgdG8gcmV0cmlldmUganNvbiBhZnRlciBzY3JpcHQgZXhlY3V0aW9uDQoJCXMuY29udmVydGVyc1sgInNjcmlwdCBqc29uIiBdID0gZnVuY3Rpb24oKSB7DQoJCQlpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHsNCgkJCQlqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArICIgd2FzIG5vdCBjYWxsZWQiICk7DQoJCQl9DQoJCQlyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTsNCgkJfTsNCg0KCQkvLyBGb3JjZSBqc29uIGRhdGFUeXBlDQoJCXMuZGF0YVR5cGVzWyAwIF0gPSAianNvbiI7DQoNCgkJLy8gSW5zdGFsbCBjYWxsYmFjaw0KCQlvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07DQoJCXdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBmdW5jdGlvbigpIHsNCgkJCXJlc3BvbnNlQ29udGFpbmVyID0gYXJndW1lbnRzOw0KCQl9Ow0KDQoJCS8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKQ0KCQlqcVhIUi5hbHdheXMoIGZ1bmN0aW9uKCkgew0KDQoJCQkvLyBJZiBwcmV2aW91cyB2YWx1ZSBkaWRuJ3QgZXhpc3QgLSByZW1vdmUgaXQNCgkJCWlmICggb3ZlcndyaXR0ZW4gPT09IHVuZGVmaW5lZCApIHsNCgkJCQlqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApOw0KDQoJCQkvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZQ0KCQkJfSBlbHNlIHsNCgkJCQl3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47DQoJCQl9DQoNCgkJCS8vIFNhdmUgYmFjayBhcyBmcmVlDQoJCQlpZiAoIHNbIGNhbGxiYWNrTmFtZSBdICkgew0KDQoJCQkJLy8gTWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kDQoJCQkJcy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrOw0KDQoJCQkJLy8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZQ0KCQkJCW9sZENhbGxiYWNrcy5wdXNoKCBjYWxsYmFja05hbWUgKTsNCgkJCX0NCg0KCQkJLy8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlDQoJCQlpZiAoIHJlc3BvbnNlQ29udGFpbmVyICYmIGlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7DQoJCQkJb3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTsNCgkJCX0NCg0KCQkJcmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDsNCgkJfSApOw0KDQoJCS8vIERlbGVnYXRlIHRvIHNjcmlwdA0KCQlyZXR1cm4gInNjcmlwdCI7DQoJfQ0KfSApOw0KDQoNCg0KDQovLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5DQovLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50DQovLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS4NCi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC4NCi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzcNCnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHsNCgl2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggIiIgKS5ib2R5Ow0KCWJvZHkuaW5uZXJIVE1MID0gIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IjsNCglyZXR1cm4gYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMjsNCn0gKSgpOw0KDQoNCi8vIEFyZ3VtZW50ICJkYXRhIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWwNCi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCwNCi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50DQovLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nDQpqUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkgew0KCWlmICggdHlwZW9mIGRhdGEgIT09ICJzdHJpbmciICkgew0KCQlyZXR1cm4gW107DQoJfQ0KCWlmICggdHlwZW9mIGNvbnRleHQgPT09ICJib29sZWFuIiApIHsNCgkJa2VlcFNjcmlwdHMgPSBjb250ZXh0Ow0KCQljb250ZXh0ID0gZmFsc2U7DQoJfQ0KDQoJdmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0czsNCg0KCWlmICggIWNvbnRleHQgKSB7DQoNCgkJLy8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5DQoJCS8vIGJ5IHVzaW5nIGRvY3VtZW50LmltcGxlbWVudGF0aW9uDQoJCWlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7DQoJCQljb250ZXh0ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCAiIiApOw0KDQoJCQkvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnQNCgkJCS8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzDQoJCQkvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KQ0KCQkJYmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggImJhc2UiICk7DQoJCQliYXNlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmOw0KCQkJY29udGV4dC5oZWFkLmFwcGVuZENoaWxkKCBiYXNlICk7DQoJCX0gZWxzZSB7DQoJCQljb250ZXh0ID0gZG9jdW1lbnQ7DQoJCX0NCgl9DQoNCglwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKTsNCglzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdOw0KDQoJLy8gU2luZ2xlIHRhZw0KCWlmICggcGFyc2VkICkgew0KCQlyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBdICkgXTsNCgl9DQoNCglwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApOw0KDQoJaWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkgew0KCQlqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTsNCgl9DQoNCglyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwgcGFyc2VkLmNoaWxkTm9kZXMgKTsNCn07DQoNCg0KLyoqDQogKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlDQogKi8NCmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHsNCgl2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLA0KCQlzZWxmID0gdGhpcywNCgkJb2ZmID0gdXJsLmluZGV4T2YoICIgIiApOw0KDQoJaWYgKCBvZmYgPiAtMSApIHsNCgkJc2VsZWN0b3IgPSBzdHJpcEFuZENvbGxhcHNlKCB1cmwuc2xpY2UoIG9mZiApICk7DQoJCXVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7DQoJfQ0KDQoJLy8gSWYgaXQncyBhIGZ1bmN0aW9uDQoJaWYgKCBpc0Z1bmN0aW9uKCBwYXJhbXMgKSApIHsNCg0KCQkvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFjaw0KCQljYWxsYmFjayA9IHBhcmFtczsNCgkJcGFyYW1zID0gdW5kZWZpbmVkOw0KDQoJLy8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZw0KCX0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSAib2JqZWN0IiApIHsNCgkJdHlwZSA9ICJQT1NUIjsNCgl9DQoNCgkvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdA0KCWlmICggc2VsZi5sZW5ndGggPiAwICkgew0KCQlqUXVlcnkuYWpheCggew0KCQkJdXJsOiB1cmwsDQoNCgkJCS8vIElmICJ0eXBlIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gIkdFVCIgbWV0aG9kIHdpbGwgYmUgdXNlZC4NCgkJCS8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZQ0KCQkJLy8gdXNlciBjYW4gb3ZlcnJpZGUgaXQgdGhyb3VnaCBhamF4U2V0dXAgbWV0aG9kDQoJCQl0eXBlOiB0eXBlIHx8ICJHRVQiLA0KCQkJZGF0YVR5cGU6ICJodG1sIiwNCgkJCWRhdGE6IHBhcmFtcw0KCQl9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHsNCg0KCQkJLy8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrDQoJCQlyZXNwb25zZSA9IGFyZ3VtZW50czsNCg0KCQkJc2VsZi5odG1sKCBzZWxlY3RvciA/DQoNCgkJCQkvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXYNCgkJCQkvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnMNCgkJCQlqUXVlcnkoICI8ZGl2PiIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6DQoNCgkJCQkvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdA0KCQkJCXJlc3BvbnNlVGV4dCApOw0KDQoJCS8vIElmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzLCB0aGlzIGZ1bmN0aW9uIGdldHMgImRhdGEiLCAic3RhdHVzIiwgImpxWEhSIg0KCQkvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuDQoJCS8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgImpxWEhSIiwgInN0YXR1cyIsICJlcnJvciINCgkJfSApLmFsd2F5cyggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7DQoJCQlzZWxmLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJCWNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7DQoJCQl9ICk7DQoJCX0gKTsNCgl9DQoNCglyZXR1cm4gdGhpczsNCn07DQoNCg0KDQoNCmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHsNCglyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHsNCgkJcmV0dXJuIGVsZW0gPT09IGZuLmVsZW07DQoJfSApLmxlbmd0aDsNCn07DQoNCg0KDQoNCmpRdWVyeS5vZmZzZXQgPSB7DQoJc2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHsNCgkJdmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbiwNCgkJCXBvc2l0aW9uID0galF1ZXJ5LmNzcyggZWxlbSwgInBvc2l0aW9uIiApLA0KCQkJY3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLA0KCQkJcHJvcHMgPSB7fTsNCg0KCQkvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtDQoJCWlmICggcG9zaXRpb24gPT09ICJzdGF0aWMiICkgew0KCQkJZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7DQoJCX0NCg0KCQljdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpOw0KCQljdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCAidG9wIiApOw0KCQljdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgImxlZnQiICk7DQoJCWNhbGN1bGF0ZVBvc2l0aW9uID0gKCBwb3NpdGlvbiA9PT0gImFic29sdXRlIiB8fCBwb3NpdGlvbiA9PT0gImZpeGVkIiApICYmDQoJCQkoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKCAiYXV0byIgKSA+IC0xOw0KDQoJCS8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyDQoJCS8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZA0KCQlpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkgew0KCQkJY3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7DQoJCQljdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7DQoJCQljdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDsNCg0KCQl9IGVsc2Ugew0KCQkJY3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDsNCgkJCWN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDsNCgkJfQ0KDQoJCWlmICggaXNGdW5jdGlvbiggb3B0aW9ucyApICkgew0KDQoJCQkvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OCkNCgkJCW9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApOw0KCQl9DQoNCgkJaWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkgew0KCQkJcHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDsNCgkJfQ0KCQlpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkgew0KCQkJcHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7DQoJCX0NCg0KCQlpZiAoICJ1c2luZyIgaW4gb3B0aW9ucyApIHsNCgkJCW9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTsNCg0KCQl9IGVsc2Ugew0KCQkJaWYgKCB0eXBlb2YgcHJvcHMudG9wID09PSAibnVtYmVyIiApIHsNCgkJCQlwcm9wcy50b3AgKz0gInB4IjsNCgkJCX0NCgkJCWlmICggdHlwZW9mIHByb3BzLmxlZnQgPT09ICJudW1iZXIiICkgew0KCQkJCXByb3BzLmxlZnQgKz0gInB4IjsNCgkJCX0NCgkJCWN1ckVsZW0uY3NzKCBwcm9wcyApOw0KCQl9DQoJfQ0KfTsNCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KDQoJLy8gb2Zmc2V0KCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgYm9yZGVyIGJveCB0byB0aGUgZG9jdW1lbnQgb3JpZ2luDQoJb2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHsNCg0KCQkvLyBQcmVzZXJ2ZSBjaGFpbmluZyBmb3Igc2V0dGVyDQoJCWlmICggYXJndW1lbnRzLmxlbmd0aCApIHsNCgkJCXJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgPw0KCQkJCXRoaXMgOg0KCQkJCXRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7DQoJCQkJCWpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7DQoJCQkJfSApOw0KCQl9DQoNCgkJdmFyIHJlY3QsIHdpbiwNCgkJCWVsZW0gPSB0aGlzWyAwIF07DQoNCgkJaWYgKCAhZWxlbSApIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCS8vIFJldHVybiB6ZXJvcyBmb3IgZGlzY29ubmVjdGVkIGFuZCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpIGVsZW1lbnRzIChnaC0yMzEwKQ0KCQkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkNCgkJLy8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYQ0KCQkvLyBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3INCgkJaWYgKCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHsNCgkJCXJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9Ow0KCQl9DQoNCgkJLy8gR2V0IGRvY3VtZW50LXJlbGF0aXZlIHBvc2l0aW9uIGJ5IGFkZGluZyB2aWV3cG9ydCBzY3JvbGwgdG8gdmlld3BvcnQtcmVsYXRpdmUgZ0JDUg0KCQlyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCgkJd2luID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Ow0KCQlyZXR1cm4gew0KCQkJdG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCwNCgkJCWxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldA0KCQl9Ow0KCX0sDQoNCgkvLyBwb3NpdGlvbigpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIG1hcmdpbiBib3ggdG8gaXRzIG9mZnNldCBwYXJlbnQncyBwYWRkaW5nIGJveA0KCS8vIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlIGJlaGF2aW9yIG9mIENTUyBhYnNvbHV0ZSBwb3NpdGlvbmluZw0KCXBvc2l0aW9uOiBmdW5jdGlvbigpIHsNCgkJaWYgKCAhdGhpc1sgMCBdICkgew0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJdmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LCBkb2MsDQoJCQllbGVtID0gdGhpc1sgMCBdLA0KCQkJcGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTsNCg0KCQkvLyBwb3NpdGlvbjpmaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gdGhlIHZpZXdwb3J0LCB3aGljaCBpdHNlbGYgYWx3YXlzIGhhcyB6ZXJvIG9mZnNldA0KCQlpZiAoIGpRdWVyeS5jc3MoIGVsZW0sICJwb3NpdGlvbiIgKSA9PT0gImZpeGVkIiApIHsNCg0KCQkJLy8gQXNzdW1lIHBvc2l0aW9uOmZpeGVkIGltcGxpZXMgYXZhaWxhYmlsaXR5IG9mIGdldEJvdW5kaW5nQ2xpZW50UmVjdA0KCQkJb2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCg0KCQl9IGVsc2Ugew0KCQkJb2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTsNCg0KCQkJLy8gQWNjb3VudCBmb3IgdGhlICpyZWFsKiBvZmZzZXQgcGFyZW50LCB3aGljaCBjYW4gYmUgdGhlIGRvY3VtZW50IG9yIGl0cyByb290IGVsZW1lbnQNCgkJCS8vIHdoZW4gYSBzdGF0aWNhbGx5IHBvc2l0aW9uZWQgZWxlbWVudCBpcyBpZGVudGlmaWVkDQoJCQlkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7DQoJCQlvZmZzZXRQYXJlbnQgPSBlbGVtLm9mZnNldFBhcmVudCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50Ow0KCQkJd2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYNCgkJCQkoIG9mZnNldFBhcmVudCA9PT0gZG9jLmJvZHkgfHwgb2Zmc2V0UGFyZW50ID09PSBkb2MuZG9jdW1lbnRFbGVtZW50ICkgJiYNCgkJCQlqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsICJwb3NpdGlvbiIgKSA9PT0gInN0YXRpYyIgKSB7DQoNCgkJCQlvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQucGFyZW50Tm9kZTsNCgkJCX0NCgkJCWlmICggb2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZWxlbSAmJiBvZmZzZXRQYXJlbnQubm9kZVR5cGUgPT09IDEgKSB7DQoNCgkJCQkvLyBJbmNvcnBvcmF0ZSBib3JkZXJzIGludG8gaXRzIG9mZnNldCwgc2luY2UgdGhleSBhcmUgb3V0c2lkZSBpdHMgY29udGVudCBvcmlnaW4NCgkJCQlwYXJlbnRPZmZzZXQgPSBqUXVlcnkoIG9mZnNldFBhcmVudCApLm9mZnNldCgpOw0KCQkJCXBhcmVudE9mZnNldC50b3AgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCAiYm9yZGVyVG9wV2lkdGgiLCB0cnVlICk7DQoJCQkJcGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCAiYm9yZGVyTGVmdFdpZHRoIiwgdHJ1ZSApOw0KCQkJfQ0KCQl9DQoNCgkJLy8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2lucw0KCQlyZXR1cm4gew0KCQkJdG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sICJtYXJnaW5Ub3AiLCB0cnVlICksDQoJCQlsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgIm1hcmdpbkxlZnQiLCB0cnVlICkNCgkJfTsNCgl9LA0KDQoJLy8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6DQoJLy8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybg0KCS8vICAgIGRvY3VtZW50RWxlbWVudCBvZiB0aGUgcGFyZW50IHdpbmRvdw0KCS8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnQNCgkvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmDQoJLy8NCgkvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXMNCgkvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy4NCgkvLw0KCS8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlDQoJb2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHsNCgkJCXZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDsNCg0KCQkJd2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCAicG9zaXRpb24iICkgPT09ICJzdGF0aWMiICkgew0KCQkJCW9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7DQoJCQl9DQoNCgkJCXJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50Ow0KCQl9ICk7DQoJfQ0KfSApOw0KDQovLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHMNCmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6ICJwYWdlWE9mZnNldCIsIHNjcm9sbFRvcDogInBhZ2VZT2Zmc2V0IiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkgew0KCXZhciB0b3AgPSAicGFnZVlPZmZzZXQiID09PSBwcm9wOw0KDQoJalF1ZXJ5LmZuWyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB2YWwgKSB7DQoJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHsNCg0KCQkJLy8gQ29hbGVzY2UgZG9jdW1lbnRzIGFuZCB3aW5kb3dzDQoJCQl2YXIgd2luOw0KCQkJaWYgKCBpc1dpbmRvdyggZWxlbSApICkgew0KCQkJCXdpbiA9IGVsZW07DQoJCQl9IGVsc2UgaWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkgew0KCQkJCXdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7DQoJCQl9DQoNCgkJCWlmICggdmFsID09PSB1bmRlZmluZWQgKSB7DQoJCQkJcmV0dXJuIHdpbiA/IHdpblsgcHJvcCBdIDogZWxlbVsgbWV0aG9kIF07DQoJCQl9DQoNCgkJCWlmICggd2luICkgew0KCQkJCXdpbi5zY3JvbGxUbygNCgkJCQkJIXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCwNCgkJCQkJdG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0DQoJCQkJKTsNCg0KCQkJfSBlbHNlIHsNCgkJCQllbGVtWyBtZXRob2QgXSA9IHZhbDsNCgkJCX0NCgkJfSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGggKTsNCgl9Ow0KfSApOw0KDQovLyBTdXBwb3J0OiBTYWZhcmkgPD03IC0gOS4xLCBDaHJvbWUgPD0zNyAtIDQ5DQovLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvbg0KLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0DQovLyBCbGluayBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU4OTM0Nw0KLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDsNCi8vIHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9kdWxlLCBqdXN0IGNoZWNrIGZvciBpdCBoZXJlDQpqUXVlcnkuZWFjaCggWyAidG9wIiwgImxlZnQiIF0sIGZ1bmN0aW9uKCBfaSwgcHJvcCApIHsNCglqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLA0KCQlmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7DQoJCQlpZiAoIGNvbXB1dGVkICkgew0KCQkJCWNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7DQoNCgkJCQkvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXQNCgkJCQlyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgPw0KCQkJCQlqUXVlcnkoIGVsZW0gKS5wb3NpdGlvbigpWyBwcm9wIF0gKyAicHgiIDoNCgkJCQkJY29tcHV0ZWQ7DQoJCQl9DQoJCX0NCgkpOw0KfSApOw0KDQoNCi8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kcw0KalF1ZXJ5LmVhY2goIHsgSGVpZ2h0OiAiaGVpZ2h0IiwgV2lkdGg6ICJ3aWR0aCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7DQoJalF1ZXJ5LmVhY2goIHsgcGFkZGluZzogImlubmVyIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsICIiOiAib3V0ZXIiICsgbmFtZSB9LA0KCQlmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHsNCg0KCQkvLyBNYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGgNCgkJalF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7DQoJCQl2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSAiYm9vbGVhbiIgKSwNCgkJCQlleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/ICJtYXJnaW4iIDogImJvcmRlciIgKTsNCg0KCQkJcmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkgew0KCQkJCXZhciBkb2M7DQoNCgkJCQlpZiAoIGlzV2luZG93KCBlbGVtICkgKSB7DQoNCgkJCQkJLy8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSkNCgkJCQkJcmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoICJvdXRlciIgKSA9PT0gMCA/DQoJCQkJCQllbGVtWyAiaW5uZXIiICsgbmFtZSBdIDoNCgkJCQkJCWVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyAiY2xpZW50IiArIG5hbWUgXTsNCgkJCQl9DQoNCgkJCQkvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0DQoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkgew0KCQkJCQlkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDsNCg0KCQkJCQkvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sDQoJCQkJCS8vIHdoaWNoZXZlciBpcyBncmVhdGVzdA0KCQkJCQlyZXR1cm4gTWF0aC5tYXgoDQoJCQkJCQllbGVtLmJvZHlbICJzY3JvbGwiICsgbmFtZSBdLCBkb2NbICJzY3JvbGwiICsgbmFtZSBdLA0KCQkJCQkJZWxlbS5ib2R5WyAib2Zmc2V0IiArIG5hbWUgXSwgZG9jWyAib2Zmc2V0IiArIG5hbWUgXSwNCgkJCQkJCWRvY1sgImNsaWVudCIgKyBuYW1lIF0NCgkJCQkJKTsNCgkJCQl9DQoNCgkJCQlyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/DQoNCgkJCQkJLy8gR2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdA0KCQkJCQlqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDoNCg0KCQkJCQkvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50DQoJCQkJCWpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7DQoJCQl9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApOw0KCQl9Ow0KCX0gKTsNCn0gKTsNCg0KDQpqUXVlcnkuZWFjaCggWw0KCSJhamF4U3RhcnQiLA0KCSJhamF4U3RvcCIsDQoJImFqYXhDb21wbGV0ZSIsDQoJImFqYXhFcnJvciIsDQoJImFqYXhTdWNjZXNzIiwNCgkiYWpheFNlbmQiDQpdLCBmdW5jdGlvbiggX2ksIHR5cGUgKSB7DQoJalF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7DQoJCXJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApOw0KCX07DQp9ICk7DQoNCg0KDQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCg0KCWJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZGF0YSwgZm4gKSB7DQoJCXJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTsNCgl9LA0KCXVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHsNCgkJcmV0dXJuIHRoaXMub2ZmKCB0eXBlcywgbnVsbCwgZm4gKTsNCgl9LA0KDQoJZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkgew0KCQlyZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApOw0KCX0sDQoJdW5kZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZm4gKSB7DQoNCgkJLy8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKQ0KCQlyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/DQoJCQl0aGlzLm9mZiggc2VsZWN0b3IsICIqKiIgKSA6DQoJCQl0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8ICIqKiIsIGZuICk7DQoJfSwNCg0KCWhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHsNCgkJcmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7DQoJfQ0KfSApOw0KDQpqUXVlcnkuZWFjaCggKCAiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgIiArDQoJIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlICIgKw0KCSJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51IiApLnNwbGl0KCAiICIgKSwNCglmdW5jdGlvbiggX2ksIG5hbWUgKSB7DQoNCgkJLy8gSGFuZGxlIGV2ZW50IGJpbmRpbmcNCgkJalF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7DQoJCQlyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgPw0KCQkJCXRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOg0KCQkJCXRoaXMudHJpZ2dlciggbmFtZSApOw0KCQl9Ow0KCX0gKTsNCg0KDQoNCg0KLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5DQovLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1ANCnZhciBydHJpbSA9IC9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZzsNCg0KLy8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55DQovLyBhcmd1bWVudHMuDQovLyBqUXVlcnkucHJveHkgaXMgZGVwcmVjYXRlZCB0byBwcm9tb3RlIHN0YW5kYXJkcyAoc3BlY2lmaWNhbGx5IEZ1bmN0aW9uI2JpbmQpDQovLyBIb3dldmVyLCBpdCBpcyBub3Qgc2xhdGVkIGZvciByZW1vdmFsIGFueSB0aW1lIHNvb24NCmpRdWVyeS5wcm94eSA9IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHsNCgl2YXIgdG1wLCBhcmdzLCBwcm94eTsNCg0KCWlmICggdHlwZW9mIGNvbnRleHQgPT09ICJzdHJpbmciICkgew0KCQl0bXAgPSBmblsgY29udGV4dCBdOw0KCQljb250ZXh0ID0gZm47DQoJCWZuID0gdG1wOw0KCX0NCg0KCS8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjDQoJLy8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC4NCglpZiAoICFpc0Z1bmN0aW9uKCBmbiApICkgew0KCQlyZXR1cm4gdW5kZWZpbmVkOw0KCX0NCg0KCS8vIFNpbXVsYXRlZCBiaW5kDQoJYXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApOw0KCXByb3h5ID0gZnVuY3Rpb24oKSB7DQoJCXJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApOw0KCX07DQoNCgkvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWQNCglwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKzsNCg0KCXJldHVybiBwcm94eTsNCn07DQoNCmpRdWVyeS5ob2xkUmVhZHkgPSBmdW5jdGlvbiggaG9sZCApIHsNCglpZiAoIGhvbGQgKSB7DQoJCWpRdWVyeS5yZWFkeVdhaXQrKzsNCgl9IGVsc2Ugew0KCQlqUXVlcnkucmVhZHkoIHRydWUgKTsNCgl9DQp9Ow0KalF1ZXJ5LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5Ow0KalF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7DQpqUXVlcnkubm9kZU5hbWUgPSBub2RlTmFtZTsNCmpRdWVyeS5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjsNCmpRdWVyeS5pc1dpbmRvdyA9IGlzV2luZG93Ow0KalF1ZXJ5LmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTsNCmpRdWVyeS50eXBlID0gdG9UeXBlOw0KDQpqUXVlcnkubm93ID0gRGF0ZS5ub3c7DQoNCmpRdWVyeS5pc051bWVyaWMgPSBmdW5jdGlvbiggb2JqICkgew0KDQoJLy8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG8NCgkvLyBzdHJpbmdzIGFuZCBudW1iZXJzIChwcmltaXRpdmVzIG9yIG9iamVjdHMpDQoJLy8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2MikNCgl2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTsNCglyZXR1cm4gKCB0eXBlID09PSAibnVtYmVyIiB8fCB0eXBlID09PSAic3RyaW5nIiApICYmDQoNCgkJLy8gcGFyc2VGbG9hdCBOYU5zIG51bWVyaWMtY2FzdCBmYWxzZSBwb3NpdGl2ZXMgKCIiKQ0KCQkvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzICgiMHguLi4iKQ0KCQkvLyBzdWJ0cmFjdGlvbiBmb3JjZXMgaW5maW5pdGllcyB0byBOYU4NCgkJIWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApOw0KfTsNCg0KalF1ZXJ5LnRyaW0gPSBmdW5jdGlvbiggdGV4dCApIHsNCglyZXR1cm4gdGV4dCA9PSBudWxsID8NCgkJIiIgOg0KCQkoIHRleHQgKyAiIiApLnJlcGxhY2UoIHJ0cmltLCAiIiApOw0KfTsNCg0KDQoNCi8vIFJlZ2lzdGVyIGFzIGEgbmFtZWQgQU1EIG1vZHVsZSwgc2luY2UgalF1ZXJ5IGNhbiBiZSBjb25jYXRlbmF0ZWQgd2l0aCBvdGhlcg0KLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdA0KLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0DQovLyB3YXkgdG8gcmVnaXN0ZXIuIExvd2VyY2FzZSBqcXVlcnkgaXMgdXNlZCBiZWNhdXNlIEFNRCBtb2R1bGUgbmFtZXMgYXJlDQovLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2UNCi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50cw0KLy8gdG8gY2FsbCBub0NvbmZsaWN0IHRvIGhpZGUgdGhpcyB2ZXJzaW9uIG9mIGpRdWVyeSwgaXQgd2lsbCB3b3JrLg0KDQovLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZA0KLy8gZGVjbGFyZSB0aGVtc2VsdmVzIGFzIGFub255bW91cyBtb2R1bGVzLCBhbmQgYXZvaWQgc2V0dGluZyBhIGdsb2JhbCBpZiBhbg0KLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUNCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub24NCg0KaWYgKCB0eXBlb2YgZGVmaW5lID09PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQgKSB7DQoJZGVmaW5lKCAianF1ZXJ5IiwgW10sIGZ1bmN0aW9uKCkgew0KCQlyZXR1cm4galF1ZXJ5Ow0KCX0gKTsNCn0NCg0KDQoNCg0KdmFyDQoNCgkvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGUNCglfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSwNCg0KCS8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlDQoJXyQgPSB3aW5kb3cuJDsNCg0KalF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiggZGVlcCApIHsNCglpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7DQoJCXdpbmRvdy4kID0gXyQ7DQoJfQ0KDQoJaWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHsNCgkJd2luZG93LmpRdWVyeSA9IF9qUXVlcnk7DQoJfQ0KDQoJcmV0dXJuIGpRdWVyeTsNCn07DQoNCi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW4gQU1EDQovLyAoIzcxMDIjY29tbWVudDoxMCwgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC81NTcpDQovLyBhbmQgQ29tbW9uSlMgZm9yIGJyb3dzZXIgZW11bGF0b3JzICgjMTM1NjYpDQppZiAoIHR5cGVvZiBub0dsb2JhbCA9PT0gInVuZGVmaW5lZCIgKSB7DQoJd2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5Ow0KfQ0KDQoNCg0KDQpyZXR1cm4galF1ZXJ5Ow0KfSApOw0K</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="57" hostname="themis.test.xplat.fpt.com.vn" path="/assets/js/user.js" url="https://themis.test.xplat.fpt.com.vn/assets/js/user.js" ip="10.14.98.2" port="443" client_ip="10.86.158.81" client_port="2482" connectionId="1316" origin="HTML" encodingType="ANSI" ordinal="2" startDateTime="2021-03-24T16:19:18.574+07:00" startTime="246348" endTime="247397" blockedTime="0" dnsTime="0" connectTime="0" sendTime="0" waitTime="0" receiveTime="0" sslNegotiateTime="0" responseBodySize="0">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Referer" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLw==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Dest" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZG9jdW1lbnQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Mode" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>bmF2aWdhdGU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Site" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>c2FtZS1vcmlnaW4=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-User" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>PzE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="sec-ch-ua" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9Ijg5IiwgIkNocm9taXVtIjt2PSI4OSIsICI7Tm90IEEgQnJhbmQiO3Y9Ijk5Ig==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="sec-ch-ua-mobile" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>PzA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Requested-With" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>WE1MSHR0cFJlcXVlc3Q=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Origin" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZu</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS45MCBTYWZhcmkvNTM3LjM2</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="11">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="12">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept" index="13">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ki8q</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="14">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="15">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="16">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YWRmcz0xOyBzc3RrPWU1OTc3NjFiLTI2MjctNDE0NC1iZjE0LWRhZDNiODQzNmZkMi0xNjE2NTc2ODgzNTkxOyA5MjEwMDNmMTQyZTdjZmM0MmZkMTA2MzUwYjViM2Q5ZT02ZWY1YThmNDQ4NWQyYTE3ZTgxMTk4Yzg3NzYwMjczMzsgX2Zpcm9fY3Jmcz0xU2VMemVzV3JYdmlVZENYOVRjdkZKMGtoMXRnUEh6RE1leUlkVFZZUjJNOEVQM1k4Mzk2X0ZReVZKTnZzWjF4RUU4PQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9hc3NldHMvanMvdXNlci5qcyBIVFRQLzEuMQ0KUmVmZXJlcjogaHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLw0KU2VjLUZldGNoLURlc3Q6IGRvY3VtZW50DQpTZWMtRmV0Y2gtTW9kZTogbmF2aWdhdGUNClNlYy1GZXRjaC1TaXRlOiBzYW1lLW9yaWdpbg0KU2VjLUZldGNoLVVzZXI6ID8xDQpVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzOiAxDQpzZWMtY2gtdWE6ICJHb29nbGUgQ2hyb21lIjt2PSI4OSIsICJDaHJvbWl1bSI7dj0iODkiLCAiO05vdCBBIEJyYW5kIjt2PSI5OSINCnNlYy1jaC11YS1tb2JpbGU6ID8wDQpYLVJlcXVlc3RlZC1XaXRoOiBYTUxIdHRwUmVxdWVzdA0KT3JpZ2luOiBodHRwczovL3RoZW1pcy50ZXN0LnhwbGF0LmZwdC5jb20udm4NClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84OS4wLjQzODkuOTAgU2FmYXJpLzUzNy4zNg0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpBY2NlcHQtTGFuZ3VhZ2U6IGVuLVVTLGVuO3E9MC45DQpBY2NlcHQ6ICovKg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KSG9zdDogdGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bg0KQ29va2llOiBhZGZzPTE7IHNzdGs9ZTU5Nzc2MWItMjYyNy00MTQ0LWJmMTQtZGFkM2I4NDM2ZmQyLTE2MTY1NzY4ODM1OTE7IDkyMTAwM2YxNDJlN2NmYzQyZmQxMDYzNTBiNWIzZDllPTZlZjVhOGY0NDg1ZDJhMTdlODExOThjODc3NjAyNzMzOyBfZmlyb19jcmZzPTFTZUx6ZXNXclh2aVVkQ1g5VGN2Rkowa2gxdGdQSHpETWV5SWRUVllSMk04RVAzWTgzOTZfRlF5VkpOdnNaMXhFRTg9DQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="adfs" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MQ==</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="sstk" index="1">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>ZTU5Nzc2MWItMjYyNy00MTQ0LWJmMTQtZGFkM2I4NDM2ZmQyLTE2MTY1NzY4ODM1OTE=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="921003f142e7cfc42fd106350b5b3d9e" index="2">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>NmVmNWE4ZjQ0ODVkMmExN2U4MTE5OGM4Nzc2MDI3MzM=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="_firo_crfs" index="3">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MVNlTHplc1dyWHZpVWRDWDlUY3ZGSjBraDF0Z1BIekRNZXlJZFRWWVIyTThFUDNZODM5Nl9GUXlWSk52c1oxeEVFOD0=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <contentLenght>0</contentLenght>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Date" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>V2VkLCAyNCBNYXIgMjAyMSAwOToxOToyMSBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Type" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Transfer-Encoding" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Y2h1bmtlZA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBXZWQsIDI0IE1hciAyMDIxIDA5OjE5OjIxIEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0DQpDb250ZW50LUVuY29kaW5nOiBnemlwDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Ci8qIGdsb2JhbCBjb250ZXh0UGF0aCAqLwoKJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgewovLyAgICAkKCIubWVudS12ZXJ0aWNhbCIpLmF0dHIoInN0eWxlIiwgImRpc3BsYXk6bm9uZSIpOwogICAgJCgiI2J0bkRhbmdOaGFwIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGRhbmdOaGFwKCk7CiAgICB9KTsKCiAgICAkKCIjYnRuQ2hhbmdlUGFzc3dvcmQiKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgY2hhbmdlUGFzc3dvcmQoKTsKICAgIH0pOwoKICAgICQoIiN1c2VybmFtZSIpLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUud2hpY2ggPT09IDEzKSB7CiAgICAgICAgICAgICQoIiNidG5EYW5nTmhhcCIpLmNsaWNrKCk7CiAgICAgICAgfQogICAgfSk7CiAgICAkKCIjcGFzc3dvcmQiKS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLndoaWNoID09PSAxMykgewogICAgICAgICAgICAkKCIjYnRuRGFuZ05oYXAiKS5jbGljaygpOwogICAgICAgIH0KICAgIH0pOwp9KTsKCmZ1bmN0aW9uIHJlcXVlc3RMb2dpbigpIHsKICAgZnB0VVJMID0gJCgiI2ZwdFVSTCIpLnZhbCgpOwogICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGZwdFVSTDsKfQoKZnVuY3Rpb24gY2hhbmdlUGFzc3dvcmQoKSB7CiAgICB2YXIgb2JqZWN0TG9naW4gPSB7CiAgICAgICAgb2xkUGFzc3dvcmQ6ICQoIiNvbGRQYXNzd29yZCIpLnZhbCgpLAogICAgICAgIG5ld1Bhc3N3b3JkOiAkKCIjbmV3UGFzc3dvcmQiKS52YWwoKSwKICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICQoIiNjb25maXJtUGFzc3dvcmQiKS52YWwoKQogICAgfTsKICAgICQoIiNlcnJvcl9zdW1tYXJ5IikuaHRtbCgnJyk7CiAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICB1cmw6IGNvbnRleHRQYXRoICsgJy9kb2ktbWF0LWtoYXUnLAogICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShvYmplY3RMb2dpbiksCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcl9jb2RlID09PSAiU1VDQ0VTU0ZVTCIpIHsKICAgICAgICAgICAgICAgIHN3YWwoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnVGjDtG5nIGLDoW8nLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICfEkOG7lWkgbeG6rXQga2jhuql1IHRow6BuaCBjw7RuZycsCiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBjb250ZXh0UGF0aCArICcvbG9naW4nOwogICAgICAgICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjZXJyb3Jfc3VtbWFyeSIpLmh0bWwoJ8SQ4buVaSBt4bqtdCBraOG6qXUga2jDtG5nIHRow6BuaCBjw7RuZy4gdnVpIGzDsm5nIGtp4buDbSB0cmEgbOG6oWkgdGjDtG5nIHRpbiB0w6BpIGtob+G6o24nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwp9CgoKCgo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="58" hostname="themis.test.xplat.fpt.com.vn" path="/assets/new/image/topBannerFptLogo.png" url="https://themis.test.xplat.fpt.com.vn/assets/new/image/topBannerFptLogo.png" ip="10.14.98.2" port="443" client_ip="10.86.158.81" client_port="2483" connectionId="1212" origin="HTML" encodingType="ANSI" ordinal="3" startDateTime="2021-03-24T16:19:18.574+07:00" startTime="246349" endTime="247424" blockedTime="0" dnsTime="0" connectTime="0" sendTime="0" waitTime="0" receiveTime="0" sslNegotiateTime="0" responseBodySize="0">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Referer" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLw==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Dest" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZG9jdW1lbnQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Mode" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>bmF2aWdhdGU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Site" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>c2FtZS1vcmlnaW4=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-User" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>PzE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="sec-ch-ua" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9Ijg5IiwgIkNocm9taXVtIjt2PSI4OSIsICI7Tm90IEEgQnJhbmQiO3Y9Ijk5Ig==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="sec-ch-ua-mobile" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>PzA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Requested-With" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>WE1MSHR0cFJlcXVlc3Q=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Origin" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZu</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS45MCBTYWZhcmkvNTM3LjM2</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="11">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="12">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept" index="13">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ki8q</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="14">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="15">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="16">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YWRmcz0xOyBzc3RrPWU1OTc3NjFiLTI2MjctNDE0NC1iZjE0LWRhZDNiODQzNmZkMi0xNjE2NTc2ODgzNTkxOyA5MjEwMDNmMTQyZTdjZmM0MmZkMTA2MzUwYjViM2Q5ZT02ZWY1YThmNDQ4NWQyYTE3ZTgxMTk4Yzg3NzYwMjczMzsgX2Zpcm9fY3Jmcz0xU2VMemVzV3JYdmlVZENYOVRjdkZKMGtoMXRnUEh6RE1leUlkVFZZUjJNOEVQM1k4Mzk2X0ZReVZKTnZzWjF4RUU4PQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9hc3NldHMvbmV3L2ltYWdlL3RvcEJhbm5lckZwdExvZ28ucG5nIEhUVFAvMS4xDQpSZWZlcmVyOiBodHRwczovL3RoZW1pcy50ZXN0LnhwbGF0LmZwdC5jb20udm4vDQpTZWMtRmV0Y2gtRGVzdDogZG9jdW1lbnQNClNlYy1GZXRjaC1Nb2RlOiBuYXZpZ2F0ZQ0KU2VjLUZldGNoLVNpdGU6IHNhbWUtb3JpZ2luDQpTZWMtRmV0Y2gtVXNlcjogPzENClVwZ3JhZGUtSW5zZWN1cmUtUmVxdWVzdHM6IDENCnNlYy1jaC11YTogIkdvb2dsZSBDaHJvbWUiO3Y9Ijg5IiwgIkNocm9taXVtIjt2PSI4OSIsICI7Tm90IEEgQnJhbmQiO3Y9Ijk5Ig0Kc2VjLWNoLXVhLW1vYmlsZTogPzANClgtUmVxdWVzdGVkLVdpdGg6IFhNTEh0dHBSZXF1ZXN0DQpPcmlnaW46IGh0dHBzOi8vdGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bg0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS45MCBTYWZhcmkvNTM3LjM2DQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCkFjY2VwdDogKi8qDQpDb25uZWN0aW9uOiBLZWVwLUFsaXZlDQpIb3N0OiB0aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuDQpDb29raWU6IGFkZnM9MTsgc3N0az1lNTk3NzYxYi0yNjI3LTQxNDQtYmYxNC1kYWQzYjg0MzZmZDItMTYxNjU3Njg4MzU5MTsgOTIxMDAzZjE0MmU3Y2ZjNDJmZDEwNjM1MGI1YjNkOWU9NmVmNWE4ZjQ0ODVkMmExN2U4MTE5OGM4Nzc2MDI3MzM7IF9maXJvX2NyZnM9MVNlTHplc1dyWHZpVWRDWDlUY3ZGSjBraDF0Z1BIekRNZXlJZFRWWVIyTThFUDNZODM5Nl9GUXlWSk52c1oxeEVFOD0NCg0K</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="adfs" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MQ==</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="sstk" index="1">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>ZTU5Nzc2MWItMjYyNy00MTQ0LWJmMTQtZGFkM2I4NDM2ZmQyLTE2MTY1NzY4ODM1OTE=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="921003f142e7cfc42fd106350b5b3d9e" index="2">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>NmVmNWE4ZjQ0ODVkMmExN2U4MTE5OGM4Nzc2MDI3MzM=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="_firo_crfs" index="3">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MVNlTHplc1dyWHZpVWRDWDlUY3ZGSjBraDF0Z1BIekRNZXlJZFRWWVIyTThFUDNZODM5Nl9GUXlWSk52c1oxeEVFOD0=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <contentLenght>0</contentLenght>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Date" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>V2VkLCAyNCBNYXIgMjAyMSAwOToxOToyMSBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Type" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aW1hZ2UvcG5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Transfer-Encoding" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Y2h1bmtlZA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBXZWQsIDI0IE1hciAyMDIxIDA5OjE5OjIxIEdNVA0KQ29udGVudC1UeXBlOiBpbWFnZS9wbmcNCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANClRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkDQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>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</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
        </HTTPResponse>
      </HTTPTask>
      <HTTPTask id="59" hostname="themis.test.xplat.fpt.com.vn" path="/assets/new/image/loginIcon.png" url="https://themis.test.xplat.fpt.com.vn/assets/new/image/loginIcon.png" ip="10.14.98.2" port="443" client_ip="10.86.158.81" client_port="2484" connectionId="2512" origin="HTML" encodingType="ANSI" ordinal="4" startDateTime="2021-03-24T16:19:18.574+07:00" startTime="246349" endTime="247462" blockedTime="0" dnsTime="0" connectTime="0" sendTime="0" waitTime="0" receiveTime="0" sslNegotiateTime="0" responseBodySize="0">
        <HTTPRequest method="GET">
          <HTTPHeaders>
            <HTTPHeaderEntity name="Referer" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuLw==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Dest" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZG9jdW1lbnQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Mode" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>bmF2aWdhdGU=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-Site" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>c2FtZS1vcmlnaW4=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Sec-Fetch-User" index="4">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>PzE=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Upgrade-Insecure-Requests" index="5">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="sec-ch-ua" index="6">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ikdvb2dsZSBDaHJvbWUiO3Y9Ijg5IiwgIkNocm9taXVtIjt2PSI4OSIsICI7Tm90IEEgQnJhbmQiO3Y9Ijk5Ig==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="sec-ch-ua-mobile" index="7">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>PzA=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="X-Requested-With" index="8">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>WE1MSHR0cFJlcXVlc3Q=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Origin" index="9">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZu</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="User-Agent" index="10">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS45MCBTYWZhcmkvNTM3LjM2</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Encoding" index="11">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept-Language" index="12">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Accept" index="13">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Ki8q</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Connection" index="14">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Host" index="15">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>dGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Cookie" index="16">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>YWRmcz0xOyBzc3RrPWU1OTc3NjFiLTI2MjctNDE0NC1iZjE0LWRhZDNiODQzNmZkMi0xNjE2NTc2ODgzNTkxOyA5MjEwMDNmMTQyZTdjZmM0MmZkMTA2MzUwYjViM2Q5ZT02ZWY1YThmNDQ4NWQyYTE3ZTgxMTk4Yzg3NzYwMjczMzsgX2Zpcm9fY3Jmcz0xU2VMemVzV3JYdmlVZENYOVRjdkZKMGtoMXRnUEh6RE1leUlkVFZZUjJNOEVQM1k4Mzk2X0ZReVZKTnZzWjF4RUU4PQ==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>R0VUIC9hc3NldHMvbmV3L2ltYWdlL2xvZ2luSWNvbi5wbmcgSFRUUC8xLjENClJlZmVyZXI6IGh0dHBzOi8vdGhlbWlzLnRlc3QueHBsYXQuZnB0LmNvbS52bi8NClNlYy1GZXRjaC1EZXN0OiBkb2N1bWVudA0KU2VjLUZldGNoLU1vZGU6IG5hdmlnYXRlDQpTZWMtRmV0Y2gtU2l0ZTogc2FtZS1vcmlnaW4NClNlYy1GZXRjaC1Vc2VyOiA/MQ0KVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0czogMQ0Kc2VjLWNoLXVhOiAiR29vZ2xlIENocm9tZSI7dj0iODkiLCAiQ2hyb21pdW0iO3Y9Ijg5IiwgIjtOb3QgQSBCcmFuZCI7dj0iOTkiDQpzZWMtY2gtdWEtbW9iaWxlOiA/MA0KWC1SZXF1ZXN0ZWQtV2l0aDogWE1MSHR0cFJlcXVlc3QNCk9yaWdpbjogaHR0cHM6Ly90aGVtaXMudGVzdC54cGxhdC5mcHQuY29tLnZuDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODkuMC40Mzg5LjkwIFNhZmFyaS81MzcuMzYNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOQ0KQWNjZXB0OiAqLyoNCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkhvc3Q6IHRoZW1pcy50ZXN0LnhwbGF0LmZwdC5jb20udm4NCkNvb2tpZTogYWRmcz0xOyBzc3RrPWU1OTc3NjFiLTI2MjctNDE0NC1iZjE0LWRhZDNiODQzNmZkMi0xNjE2NTc2ODgzNTkxOyA5MjEwMDNmMTQyZTdjZmM0MmZkMTA2MzUwYjViM2Q5ZT02ZWY1YThmNDQ4NWQyYTE3ZTgxMTk4Yzg3NzYwMjczMzsgX2Zpcm9fY3Jmcz0xU2VMemVzV3JYdmlVZENYOVRjdkZKMGtoMXRnUEh6RE1leUlkVFZZUjJNOEVQM1k4Mzk2X0ZReVZKTnZzWjF4RUU4PQ0KDQo=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
            <HTTPCookies>
              <HTTPHeaderEntity name="adfs" index="0">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MQ==</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="sstk" index="1">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>ZTU5Nzc2MWItMjYyNy00MTQ0LWJmMTQtZGFkM2I4NDM2ZmQyLTE2MTY1NzY4ODM1OTE=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="921003f142e7cfc42fd106350b5b3d9e" index="2">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>NmVmNWE4ZjQ0ODVkMmExN2U4MTE5OGM4Nzc2MDI3MzM=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
              <HTTPHeaderEntity name="_firo_crfs" index="3">
                <HTTPDataSet>
                  <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                    <ActualData>MVNlTHplc1dyWHZpVWRDWDlUY3ZGSjBraDF0Z1BIekRNZXlJZFRWWVIyTThFUDNZODM5Nl9GUXlWSk52c1oxeEVFOD0=</ActualData>
                  </HTTPData>
                </HTTPDataSet>
                <IsExternalData>false</IsExternalData>
              </HTTPHeaderEntity>
            </HTTPCookies>
          </HTTPHeaders>
        </HTTPRequest>
        <HTTPResponse>
          <contentLenght>0</contentLenght>
          <HTTPHeaders>
            <HTTPHeaderEntity name="Date" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>V2VkLCAyNCBNYXIgMjAyMSAwOToxOToyMSBHTVQ=</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Type" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>aW1hZ2UvcG5n</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Content-Encoding" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Z3ppcA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="Transfer-Encoding" index="3">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Y2h1bmtlZA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPAllHeaders>
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>SFRUUC8xLjEgMjAwIE9LDQpEYXRlOiBXZWQsIDI0IE1hciAyMDIxIDA5OjE5OjIxIEdNVA0KQ29udGVudC1UeXBlOiBpbWFnZS9wbmcNCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANClRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkDQoNCg==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPAllHeaders>
          </HTTPHeaders>
          <HTTPBody>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>iVBORw0KGgoAAAANSUhEUgAAAfQAAADQCAYAAADxnJMeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADdmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjIwM2IzMWVmLTk3ZTEtMGU0ZS1iNzg5LTU2MjBjMTczZWRlNSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3RkM3NDExNTA3QUQxMUVCQTg3OUQ1RTM1OEZDM0Q1MCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3RkM3NDExNDA3QUQxMUVCQTg3OUQ1RTM1OEZDM0Q1MCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDplMTJjYWYwNi1jYWI4LTdjNGMtYjFiYy05NTM5ZDk0YWQ1ODEiIHN0UmVmOmRvY3VtZW50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</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPBody>
        </HTTPResponse>
      </HTTPTask>
    </HTTPTask>
  </HTTPTask>
</HTTPSnapshot>